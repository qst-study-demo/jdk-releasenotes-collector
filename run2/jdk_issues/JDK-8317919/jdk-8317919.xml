<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Sat Sep 27 09:34:26 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8317919] pthread_attr_init handle return value and destroy pthread_attr_t object</title>
                <link>https://bugs.openjdk.org/browse/JDK-8317919</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>Seems we miss on AIX and Linux the handling of pthread_attr_init  return value and sometimes in special cases destroying the related pthread_attr_t object.</description>
                <environment></environment>
        <key id="5112165">JDK-8317919</key>
            <summary>pthread_attr_init handle return value and destroy pthread_attr_t object</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mbaesken">Matthias Baesken</assignee>
                                    <reporter username="mbaesken">Matthias Baesken</reporter>
                        <labels>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>threads</label>
                    </labels>
                <created>Wed, 11 Oct 2023 03:25:02 -0700</created>
                <updated>Tue, 17 Dec 2024 05:14:10 -0800</updated>
                            <resolved>Fri, 13 Oct 2023 00:04:20 -0700</resolved>
                                    <version>21</version>
                    <version>22</version>
                                    <fixVersion>22</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14732267" author="mbaesken" created="Mon, 16 Dec 2024 01:04:29 -0800"  >jdk21u-dev backport request&lt;br/&gt;
I would like ot have the patch in jdk21u-dev as well, because the issue is present there too and the backport makes backporting follow up changes easier.  The backport is low risk and clean.</comment>
                            <comment id="14732260" author="roboduke" created="Mon, 16 Dec 2024 00:52:51 -0800"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/1235&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/1235&lt;/a&gt;&lt;br/&gt;
Date: 2024-12-16 08:48:36 +0000</comment>
                            <comment id="14658913" author="mbaesken" created="Wed, 20 Mar 2024 02:18:19 -0700"  >Indeed the man page says for Linux :&lt;br/&gt;
&lt;a href=&quot;https://man7.org/linux/man-pages/man3/pthread_attr_init.3.html&quot;&gt;https://man7.org/linux/man-pages/man3/pthread_attr_init.3.html&lt;/a&gt;&lt;br/&gt;
&amp;quot;POSIX.1 documents an ENOMEM error for pthread_attr_init(); on Linux these functions always succeed (but portable and future-proof applications should nevertheless handle a possible error return)&lt;br/&gt;
While for AIX no such statement is given :&lt;br/&gt;
&lt;a href=&quot;https://www.ibm.com/docs/nl/aix/7.1?topic=p-pthread-attr-init-subroutine&quot;&gt;https://www.ibm.com/docs/nl/aix/7.1?topic=p-pthread-attr-init-subroutine&lt;/a&gt;&lt;br/&gt;
&amp;quot;Upon successful completion, the new thread attributes object is filled with default values and returned via the attr parameter, and 0 is returned. Otherwise, an error code is returned.&amp;quot;&lt;br/&gt;
So on AIX (probably also BSD/macOS) we should handle the return value while on Linux it is more like a &amp;quot;nice to have&amp;quot;/recommendation.&lt;br/&gt;
</comment>
                            <comment id="14618236" author="dholmes" created="Sun, 15 Oct 2023 19:32:55 -0700"  >note that this issue has been raised in the past, regarding the return value of pthread_attr_init but there was no need to make any change on Linux. From the manpage:&lt;br/&gt;
&lt;br/&gt;
POSIX.1-2001 documents an ENOMEM error for pthread_attr_init(); on Linux these functions always succeed (but por&#8208;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;table and future-proof applications should nevertheless handle a possible error return).&lt;br/&gt;
&lt;br/&gt;
It is very unlikely that this would ever change so we have not made such a change in the past.</comment>
                            <comment id="14617958" author="dukebot" created="Fri, 13 Oct 2023 00:04:18 -0700"  >Changeset: ec310fe8&lt;br/&gt;
Author:    Matthias Baesken &amp;lt;&lt;a href=&apos;mailto:mbaesken@openjdk.org&apos;&gt;mbaesken@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-10-13 07:01:50 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/ec310fe80971261ab7ee1141c64ffd600e7546c0&quot;&gt;https://git.openjdk.org/jdk/commit/ec310fe80971261ab7ee1141c64ffd600e7546c0&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14617495" author="roboduke" created="Wed, 11 Oct 2023 05:00:55 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/16147&quot;&gt;https://git.openjdk.org/jdk/pull/16147&lt;/a&gt;&lt;br/&gt;
Date: 2023-10-11 11:52:22 +0000</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5146473">JDK-8346403</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17008"><![CDATA[generic]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i33fv7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17351"><![CDATA[b20]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="192"><![CDATA[runtime]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>