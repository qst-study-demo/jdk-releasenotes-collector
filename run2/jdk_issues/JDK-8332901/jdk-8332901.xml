<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Sat Sep 27 09:06:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8332901] Select{Current,New}ItemTest.java for Choice don&apos;t open popup on macOS</title>
                <link>https://bugs.openjdk.org/browse/JDK-8332901</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>The java/awt/Choice/SelectCurrentItemTest/SelectCurrentItemTest.java and test/jdk/java/awt/Choice/SelectNewItemTest/SelectNewItemTest.java tests do not open the choice popup on macOS. Because the popup is not open, the test does not perform its job.&lt;br/&gt;
&lt;br/&gt;
SelectCurrentItemTest.java does not fail in this case, no ItemEvent is received; SelectNewItemTest.java fails and it is in ProblemList.txt.&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
If I add MouseListener to `theChoice`, it does not receive mouse events: pressed, released and clicked.&lt;br/&gt;
&lt;br/&gt;
The test should fail if mouse click to open the popup is received because the test is not in the state it expected. Unfortunately, there are no events to determine the popup of the choice is open.&lt;br/&gt;
&lt;br/&gt;
This bug is likely due to &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8322653&quot; title=&quot;[macos14] : Mouse clicks are not received within 3 pixels of the window boundary&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8322653&quot;&gt;JDK-8322653&lt;/a&gt;. If add a component to the right of the choice, it receives mouse events and the test works correctly.</description>
                <environment></environment>
        <key id="5130280">JDK-8332901</key>
            <summary>Select{Current,New}ItemTest.java for Choice don&apos;t open popup on macOS</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="aivanov">Alexey Ivanov</assignee>
                                    <reporter username="aivanov">Alexey Ivanov</reporter>
                        <labels>
                            <label>cssn24_05_02</label>
                            <label>cssn24_08_02</label>
                            <label>cssn24_10_01</label>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>jdk23u-fix-SQE-ok-next</label>
                            <label>jdk23u-fix-request</label>
                            <label>jdk23u-fix-yes</label>
                            <label>noreg-self</label>
                            <label>sustaining</label>
                    </labels>
                <created>Fri, 24 May 2024 06:53:40 -0700</created>
                <updated>Thu, 31 Oct 2024 02:40:12 -0700</updated>
                            <resolved>Wed, 4 Sep 2024 09:38:47 -0700</resolved>
                                    <version>11</version>
                    <version>17</version>
                    <version>21</version>
                    <version>23</version>
                                    <fixVersion>24</fixVersion>
                                    <component>client-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14717237" author="roboduke" created="Tue, 29 Oct 2024 03:13:04 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/1105&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/1105&lt;/a&gt;&lt;br/&gt;
Date: 2024-10-29 10:05:29 +0000</comment>
                            <comment id="14717235" author="roboduke" created="Tue, 29 Oct 2024 03:11:13 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/3013&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/3013&lt;/a&gt;&lt;br/&gt;
Date: 2024-10-29 10:03:39 +0000</comment>
                            <comment id="14717232" author="goetz" created="Tue, 29 Oct 2024 02:57:15 -0700"  >Fix request [17u,21u]&lt;br/&gt;
&lt;br/&gt;
I backport this for parity with 17.0.14-oracle,21.0.6-oracle.&lt;br/&gt;
No risk, only a test change&lt;br/&gt;
Clean backport.&lt;br/&gt;
Tests pass on mac.</comment>
                            <comment id="14706232" author="aivanov" created="Thu, 19 Sep 2024 05:56:01 -0700"  >Fix Request for 23u&lt;br/&gt;
&lt;br/&gt;
This fix refactors the  java/awt/Choice/SelectCurrentItemTest/SelectCurrentItemTest.java and test/jdk/java/awt/Choice/SelectNewItemTest/SelectNewItemTest.java tests.&lt;br/&gt;
SelectNewItemTest.java is removed from the problem-list.&lt;br/&gt;
The tests pass successfully.&lt;br/&gt;
Risk: Low&lt;br/&gt;
&lt;br/&gt;
Pull request for jdk23u: &lt;a href=&quot;https://github.com/openjdk/jdk23u/pull/107&quot;&gt;https://github.com/openjdk/jdk23u/pull/107&lt;/a&gt;</comment>
                            <comment id="14706212" author="roboduke" created="Thu, 19 Sep 2024 04:52:59 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk23u/pull/107&quot;&gt;https://git.openjdk.org/jdk23u/pull/107&lt;/a&gt;&lt;br/&gt;
Date: 2024-09-19 11:45:36 +0000</comment>
                            <comment id="14702865" author="dukebot" created="Wed, 4 Sep 2024 09:38:46 -0700"  >Changeset: ef96a7b0&lt;br/&gt;
Branch: master&lt;br/&gt;
Author:    Alexey Ivanov &amp;lt;&lt;a href=&apos;mailto:aivanov@openjdk.org&apos;&gt;aivanov@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2024-09-04 16:37:17 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/ef96a7b014795f366af3a90ef8f474cfb621197f&quot;&gt;https://git.openjdk.org/jdk/commit/ef96a7b014795f366af3a90ef8f474cfb621197f&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14699478" author="roboduke" created="Tue, 20 Aug 2024 08:23:29 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/20601&quot;&gt;https://git.openjdk.org/jdk/pull/20601&lt;/a&gt;&lt;br/&gt;
Date: 2024-08-15 18:02:33 +0000</comment>
                            <comment id="14699472" author="aivanov" created="Tue, 20 Aug 2024 08:04:42 -0700"  >Since both SelectCurrentItemTest.java and SelectNewItemTest.java share much code in common, I refactored them to re-use as much code as possible. For this reason, I moved both tests into a common folder test/jdk/java/awt/Choice/SelectItem.&lt;br/&gt;
&lt;br/&gt;
SelectCurrentItemTest.java is the main test which incorporates all the testing logic; SelectNewItemTest.java overrides the conditions.</comment>
                            <comment id="14699471" author="aivanov" created="Tue, 20 Aug 2024 08:01:20 -0700"  >To work around &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8322653&quot; title=&quot;[macos14] : Mouse clicks are not received within 3 pixels of the window boundary&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8322653&quot;&gt;JDK-8322653&lt;/a&gt;, non-resizable frame can be used. Mouse-click is correctly received and the tests work as expected on macOS 14.x.</comment>
                            <comment id="14676049" author="aivanov" created="Fri, 24 May 2024 09:27:14 -0700"  >In addition to this problem, the test can be updated to be thread-safe. The test uses AWT components, it is still safer to use them on EDT only.&lt;br/&gt;
&lt;br/&gt;
The test could be made clearer:&lt;br/&gt;
1. create GUI,&lt;br/&gt;
2. wait for windowOpen (using CountDownLatch),&lt;br/&gt;
3. waitForIdle();&lt;br/&gt;
4. click the choice,&lt;br/&gt;
5. wait for mouse events (using CountDownLatch)&lt;br/&gt;
6. waitForIdle();&lt;br/&gt;
7. click the first item,&lt;br/&gt;
8. waitForIdle(); &#8212; itemStateChanged shouldn&amp;#39;t be called.</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5140147">JDK-8341079</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5140359">JDK-8341266</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5140360">JDK-8341267</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5140361">JDK-8341268</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5141239">JDK-8341971</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5142812">JDK-8343351</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5142822">JDK-8343361</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5137975">JDK-8339338</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5117709">JDK-8322653</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5130266">JDK-8332889</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17017"><![CDATA[os_x]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i36h03:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17407"><![CDATA[b14]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="196"><![CDATA[java.awt]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>