# Statement of Work: fetch_jdk_issues.py 取得済み再取得防止

## 背景と目的
- `run/fetch_jdk_issues.py` は JBS (bugs.openjdk.org) から JDK 課題 XML を取得し、`run/jdk_issues/` 以下に保存するスクリプト。
- ユーザー要望: 既に取得済みの課題については再取得を行わないよう確実にしたい。

## 対応方針
1. 既存実装の挙動を確認し、再取得抑止ロジック (`target_file.exists()` チェック) の現状を整理する。
2. 取得済み判定を明示的な関数へ切り出し、判定基準をコメントと型で明文化する。将来的な保存パス変更にも備え、ロジックの重複を避ける。
3. 実データを用いた動作確認を行い、既存 XML が存在する場合に HTTP アクセスが発生しないことを確認する。

## 影響範囲 (LSP 抽出)
- `run/fetch_jdk_issues.py:main` (行87-138)
- 必要に応じて追加する取得済み判定ヘルパー (新規関数予定)

## アウトプット
- 更新済み `run/fetch_jdk_issues.py`
- 動作確認ログ (簡易で可)

## タスク分解 (AT)
1. LSP で対象関数を確認し、既存ロジックを整理する。
2. 再取得抑止ヘルパーを導入し、`main` から利用するように修正する。
3. 手元の既存データでスクリプトをドライランし、取得済み ID がスキップされることを確認する。
4. 差分レビュー・セルフチェック。

## 除外・前提
- 新規のネットワーク API 導入は行わない。
- 既存の保存先 (`run/jdk_issues/<ISSUE_ID>/jdk-<番号>.xml`) を前提に判定する。
