# 抽出プログラム作成

## 処理概要

1. 対象IssueをXMLとしてローカルに保存
2. XMLからIssue一覧を1ファイルにまとめる
3. まとめる際に、除外条件に該当するIssueを除外する

このツールをAIで作成。

## 除外条件の背景

### 背景
案件開始時点のOpenJDKバージョンを使用するのが案件の前提条件となっている。
非互換調査時点のバージョンは21.0.5、案件開始時点のバージョンは21.0.8のためその差分分の非互換を確認する必要がある。

### 目的
既存アプリケーションにクリティカルな影響がでるかを調査すること。
現在正常に動作している機能が、動かなくなるIssueがあるかを特定したい。

### 除外対象
以下の情報は不要と判断：

- ドキュメントまたはテストコードのみの変更
- 新機能の追加
- 既存機能へのパラメータ追加（既存APIには動作変更なし）
- Windows 11以外のプラットフォームに限定された修正。アプリケーションはWindows11のみ動作保証対象です
- パフォーマンス改善対応。既存機能に影響がない
- JVMの安定性およびクラッシュに関する修正。既存機能に影響のない、バグ改善は不要です

上記条件で除外プログラムを作成。

### 実装された除外条件

実装モジュール: [run/jdk_issue_formatter.py](../run/jdk_issue_formatter.py)

#### 1. Typeによる除外
以下のIssue Typeは自動除外：
- `Enhancement`
- `New Feature`
- `Task`
- `Sub-Task`

#### 2. ドキュメント/テストのみの変更
以下のキーワードをタイトルまたは説明文から検出：
- `regtest`, `jtreg`, `TEST:`
- `javadoc`, `man page`, `docs`, `doc`
- `typo`

#### 3. パフォーマンス改善
以下のキーワードをタイトルまたは説明文から検出：
- `performance`, `perf`
- `optimize`, `optimise`
- `microbench`, `benchmark`
- `speed up`, `faster`

#### 4. JVM安定性/クラッシュ
以下のキーワードをタイトルまたは説明文から検出：
- `crash`, `hang`
- `hs_err`, `core dump`
- `SIGSEGV`, `SIGBUS`, `SIGILL`
- `assert`, `assertion`

#### 5. 非Windows限定修正
OSフィールドに以下のプラットフォームのみが含まれる場合に除外：
- `os_x`, `mac`, `macos`
- `linux`
- `solaris`, `aix`, `bsd`

※ `windows`または`generic`が含まれる場合は除外しない

#### 6. メタ作業
バージョン管理に関する作業を除外：
- `Bump update version`
- `Remove designator DEFAULT_PROMOTED_VERSION_PRE`

---

## 集計結果ファイル

各リリースごとに以下のファイルが生成される：

- `jdk_OpenJDK 21.0.6 Released.txt` - JDK番号一覧
- `jdk_OpenJDK 21.0.6 Released.txt_excluded.txt` - 除外ルールにHit
- `jdk_OpenJDK 21.0.6 Released.txt_output.txt` - 対象Issueを1ページにまとめた
- `jdk_OpenJDK 21.0.6 Released.txt_skipped.txt` - 対象ページのなかったIssue（no public）

---

