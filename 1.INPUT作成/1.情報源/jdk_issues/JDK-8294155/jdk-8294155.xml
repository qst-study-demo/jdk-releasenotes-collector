<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Sat Sep 27 10:10:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8294155] Exception thrown before awaitAndCheck hangs PassFailJFrame</title>
                <link>https://bugs.openjdk.org/browse/JDK-8294155</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>If an exception is thrown before awaitAndCheck is called, the test will hang eventually. Clicking the Pass/Fail buttons doesn&amp;#39;t close the UI since it&amp;#39;s inside awaitAndCheck. This needs to be addressed when redesigning the framework.</description>
                <environment></environment>
        <key id="5083846">JDK-8294155</key>
            <summary>Exception thrown before awaitAndCheck hangs PassFailJFrame</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="aivanov">Alexey Ivanov</assignee>
                                    <reporter username="honkar">Harshitha Onkar</reporter>
                        <labels>
                            <label>cssn25_02_01</label>
                            <label>cssn25_03_01</label>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>jdk24u-fix-SQE-ok-next</label>
                            <label>jdk24u-fix-request</label>
                            <label>jdk24u-fix-yes</label>
                            <label>noreg-self</label>
                            <label>pfjf-framework</label>
                            <label>sustaining</label>
                    </labels>
                <created>Wed, 21 Sep 2022 17:20:35 -0700</created>
                <updated>Thu, 3 Apr 2025 07:57:41 -0700</updated>
                            <resolved>Mon, 17 Feb 2025 05:16:32 -0800</resolved>
                                    <version>19</version>
                                    <fixVersion>25</fixVersion>
                                    <component>client-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14761851" author="roboduke" created="Tue, 18 Mar 2025 13:21:10 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/1522&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/1522&lt;/a&gt;&lt;br/&gt;
Date: 2025-03-18 20:14:00 +0000</comment>
                            <comment id="14761850" author="roboduke" created="Tue, 18 Mar 2025 13:19:24 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/3381&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/3381&lt;/a&gt;&lt;br/&gt;
Date: 2025-03-18 20:14:18 +0000</comment>
                            <comment id="14761846" author="goetz" created="Tue, 18 Mar 2025 13:13:32 -0700"  >Fix request [21u,17u]&lt;br/&gt;
&lt;br/&gt;
I backport this for parity with 21.0.8-oracle,17.0.16-oracle.&lt;br/&gt;
No risk, only a test change.&lt;br/&gt;
Clean backport.&lt;br/&gt;
Succesfully ran some tests using PFJF, SAP nightly testing passed.</comment>
                            <comment id="14757607" author="roboduke" created="Mon, 3 Mar 2025 11:16:33 -0800"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk24u/pull/98&quot;&gt;https://git.openjdk.org/jdk24u/pull/98&lt;/a&gt;&lt;br/&gt;
Date: 2025-03-03 19:07:19 +0000</comment>
                            <comment id="14756963" author="aivanov" created="Thu, 27 Feb 2025 09:05:57 -0800"  >Fix request for 24u&lt;br/&gt;
&lt;br/&gt;
This fix improves handling of exception during PassFailJFrame initialisation. Only manual tests are affected.&lt;br/&gt;
Risk: Low</comment>
                            <comment id="14754312" author="dukebot" created="Mon, 17 Feb 2025 05:16:31 -0800"  >Changeset: 906358d3&lt;br/&gt;
Branch: master&lt;br/&gt;
Author:    Alexey Ivanov &amp;lt;&lt;a href=&apos;mailto:aivanov@openjdk.org&apos;&gt;aivanov@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2025-02-17 13:13:15 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/906358d3a14ce755fec771f0a6bb856b3a8f3297&quot;&gt;https://git.openjdk.org/jdk/commit/906358d3a14ce755fec771f0a6bb856b3a8f3297&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14751062" author="roboduke" created="Tue, 11 Feb 2025 08:22:15 -0800"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/23564&quot;&gt;https://git.openjdk.org/jdk/pull/23564&lt;/a&gt;&lt;br/&gt;
Date: 2025-02-11 16:17:13 +0000</comment>
                            <comment id="14751054" author="aivanov" created="Tue, 11 Feb 2025 07:50:53 -0800"  >As an example, if I modify test/jdk/java/awt/font/TextLayout/ArabicBox.java to throw an exception from TextPanel constructor:&lt;br/&gt;
&lt;br/&gt;
=======&lt;br/&gt;
diff --git a/test/jdk/java/awt/font/TextLayout/ArabicBox.java b/test/jdk/java/awt/font/TextLayout/ArabicBox.java&lt;br/&gt;
index e03c4cf918e..08b94362180 100644&lt;br/&gt;
--- a/test/jdk/java/awt/font/TextLayout/ArabicBox.java&lt;br/&gt;
+++ b/test/jdk/java/awt/font/TextLayout/ArabicBox.java&lt;br/&gt;
@@ -82,6 +82,7 @@ private TextPanel(Font font) {&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;setBackground(Color.white);&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;setFont(font);&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;setPreferredSize(new Dimension(300, 150));&lt;br/&gt;
+            throw new IllegalArgumentException(&amp;quot;Oops!&amp;quot;);&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;@Override&lt;br/&gt;
=======&lt;br/&gt;
&lt;br/&gt;
The following stack trace is produced:&lt;br/&gt;
&lt;br/&gt;
Exception in thread &amp;quot;main&amp;quot; java.lang.reflect.InvocationTargetException&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at java.desktop/java.awt.EventQueue.invokeAndWait(EventQueue.java:1371)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at java.desktop/java.awt.EventQueue.invokeAndWait(EventQueue.java:1346)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at java.desktop/javax.swing.SwingUtilities.invokeAndWait(SwingUtilities.java:1480)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at PassFailJFrame.invokeOnEDT(PassFailJFrame.java:556)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at PassFailJFrame.&amp;lt;init&amp;gt;(PassFailJFrame.java:493)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at PassFailJFrame$Builder.build(PassFailJFrame.java:1791)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at ArabicBox.main(ArabicBox.java:69)&lt;br/&gt;
Caused by: java.lang.IllegalArgumentException: Oops!&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at ArabicBox$TextPanel.&amp;lt;init&amp;gt;(ArabicBox.java:85)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at ArabicBox.createPanel(ArabicBox.java:74)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at ArabicBox.lambda$main$0(ArabicBox.java:68)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at PassFailJFrame.createUI(PassFailJFrame.java:609)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at PassFailJFrame.lambda$new$1(PassFailJFrame.java:493)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:308)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:87)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)&lt;br/&gt;
&lt;br/&gt;
And then the test continues to run but no UI is shown. You have to kill the Java process.&lt;br/&gt;
&lt;br/&gt;
(As mentioned above, it&amp;#39;s not a problem when the test is run with jtreg.)</comment>
                            <comment id="14751052" author="aivanov" created="Tue, 11 Feb 2025 07:45:42 -0800"  >This is not a problem when the test is run with jtreg.&lt;br/&gt;
&lt;br/&gt;
If an exception is thrown after PassFailJFrame is constructed but before awaitAndCheck() is call, the main thread will exit, and jtreg will shut down the JVM running the test.&lt;br/&gt;
&lt;br/&gt;
Yet it would still be nice to handle such a situation gracefully when a test is run as stand-alone app.</comment>
                            <comment id="14730872" author="aivanov" created="Tue, 10 Dec 2024 11:54:09 -0800"  >This issue is somewhat mitigated by the Builder pattern introduced in &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8294535&quot; title=&quot;Add screen capture functionality to PassFailJFrame&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8294535&quot;&gt;&lt;strike&gt;JDK-8294535&lt;/strike&gt;&lt;/a&gt;, yet not completely.&lt;br/&gt;
&lt;br/&gt;
PassFailJFrame.Builder.build() could catch exceptions and dispose of all the registered windows before propagating the exception. Disposing of the windows will allow AWT to shut down the toolkit thread, which, in its turn, will allow the JVM to exit cleanly.&lt;br/&gt;
&lt;br/&gt;
When a test is run with jtreg, it shouldn&amp;#39;t hang because jtreg shuts down the JVM after the main thread exists.</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5151898">JDK-8351070</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5152145">JDK-8351303</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5152146">JDK-8351304</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5152147">JDK-8351305</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5152203">JDK-8351356</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5153559">JDK-8352538</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5153577">JDK-8352555</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>Cloners</name>
                                                                <inwardlinks description="is cloned by">
                                        <issuelink>
            <issuekey id="5150422">JDK-8349845</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5070997">JDK-8283712</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5083438">JDK-8293830</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10003" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Introduced In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17554"><![CDATA[b18]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10004" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Introduced In Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="22020">19</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2yn17:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17311"><![CDATA[b11]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>