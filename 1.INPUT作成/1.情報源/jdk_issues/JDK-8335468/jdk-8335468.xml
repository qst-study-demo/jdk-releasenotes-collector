<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Sat Sep 27 09:45:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8335468] [XWayland] JavaFX hangs when calling java.awt.Robot.getPixelColor</title>
                <link>https://bugs.openjdk.org/browse/JDK-8335468</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>The tests/system/src/test/java/test/robot/javafx/embed/swing/SwingNodeJDialogTest.java test timeouts after implementing the ScreenCast screen capture for JavaFX(&lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8326712&quot; title=&quot;Robot tests fail on XWayland&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8326712&quot;&gt;&lt;strike&gt;JDK-8326712&lt;/strike&gt;&lt;/a&gt;), this requires a fix on OpenJDK side.&lt;br/&gt;
&lt;br/&gt;
It happens due to the call to gtk-&amp;gt;g_main_context_iteration(NULL, TRUE) when we try to capture screen data, this blocks the gtk fx main loop.&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
Possible solutions are:&lt;br/&gt;
&lt;br/&gt;
1. make a busy wait loop if we detect a gtk loop running&lt;br/&gt;
gtk-&amp;gt;g_main_context_iteration(NULL, gtk-&amp;gt;gtk_main_level == 0);&lt;br/&gt;
This will prevent the SwingNodeJDialogTest from hanging, and receive pixel color successfully.&lt;br/&gt;
&lt;br/&gt;
2. do the same change as in &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8326712&quot; title=&quot;Robot tests fail on XWayland&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8326712&quot;&gt;&lt;strike&gt;JDK-8326712&lt;/strike&gt;&lt;/a&gt;, make a nested loop, this allows to get a pixel color, but the test still timed out, needs further investigation.</description>
                <environment></environment>
        <key id="5133203">JDK-8335468</key>
            <summary>[XWayland] JavaFX hangs when calling java.awt.Robot.getPixelColor</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://bugs.openjdk.org/images/jbsImages/p3.png">P3</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="azvegint">Alexander Zvegintsev</assignee>
                                    <reporter username="azvegint">Alexander Zvegintsev</reporter>
                        <labels>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>sn_181</label>
                            <label>sn_183</label>
                            <label>wayland</label>
                            <label>wayland_x11_compatibility</label>
                    </labels>
                <created>Mon, 1 Jul 2024 11:22:40 -0700</created>
                <updated>Mon, 11 Aug 2025 01:57:37 -0700</updated>
                            <resolved>Mon, 25 Nov 2024 03:14:57 -0800</resolved>
                                    <version>21</version>
                    <version>22</version>
                    <version>23</version>
                    <version>24</version>
                                    <fixVersion>24</fixVersion>
                                    <component>client-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14807681" author="roboduke" created="Sun, 10 Aug 2025 05:50:14 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/3830&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/3830&lt;/a&gt;&lt;br/&gt;
Date: 2025-08-10 12:42:45 +0000</comment>
                            <comment id="14807679" author="goetz" created="Sun, 10 Aug 2025 05:41:58 -0700"  >Fix request [17u]&lt;br/&gt;
&lt;br/&gt;
I would like to fix this XWayland issue to help jfx and to make&lt;br/&gt;
later backports clean. E.g. &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8351907&quot; title=&quot;[XWayland] [OL10] Robot.mousePress() is delivered to wrong place&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8351907&quot;&gt;&lt;strike&gt;JDK-8351907&lt;/strike&gt;&lt;/a&gt; picks up the edits made&lt;br/&gt;
here.&lt;br/&gt;
Low risk, awt only, no bugtail, live in 21.0.7.&lt;br/&gt;
Clean backport.&lt;br/&gt;
</comment>
                            <comment id="14734928" author="roboduke" created="Mon, 23 Dec 2024 07:41:43 -0800"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/1287&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/1287&lt;/a&gt;&lt;br/&gt;
Date: 2024-12-23 15:35:36 +0000</comment>
                            <comment id="14734926" author="goetz" created="Mon, 23 Dec 2024 07:28:50 -0800"  >Fix request [21u]&lt;br/&gt;
&lt;br/&gt;
I backport this for parity with 21.0.7-oracle.&lt;br/&gt;
Low to medium risk, only awt affected, but no tests.&lt;br/&gt;
Clean backport. SAP nightly testing passes.&lt;br/&gt;
</comment>
                            <comment id="14725885" author="dukebot" created="Mon, 25 Nov 2024 03:14:55 -0800"  >Changeset: 965aace2&lt;br/&gt;
Branch: master&lt;br/&gt;
Author:    Alexander Zvegintsev &amp;lt;&lt;a href=&apos;mailto:azvegint@openjdk.org&apos;&gt;azvegint@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2024-11-25 11:11:28 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/965aace297154ab08ee41a4d988553707cae8b32&quot;&gt;https://git.openjdk.org/jdk/commit/965aace297154ab08ee41a4d988553707cae8b32&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14722506" author="roboduke" created="Thu, 14 Nov 2024 18:12:35 -0800"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/22131&quot;&gt;https://git.openjdk.org/jdk/pull/22131&lt;/a&gt;&lt;br/&gt;
Date: 2024-11-15 01:35:16 +0000</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5144952">JDK-8345115</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5147031">JDK-8346858</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5168037">JDK-8365223</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10000">
                    <name>Blocks</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="5133207">JDK-8335470</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                                                <inwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5122474">JDK-8326712</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5133206">JDK-8335469</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5136133">JDK-8337827</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5150632">JDK-8350009</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i36z1f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17357"><![CDATA[b26]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="196"><![CDATA[java.awt]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>