<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Sat Sep 27 08:52:51 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8296972] [macos13] java/awt/Frame/MaximizedToIconified/MaximizedToIconified.java: getExtendedState() != 6 as expected.</title>
                <link>https://bugs.openjdk.org/browse/JDK-8296972</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>The test java/awt/Frame/MaximizedToIconified/MaximizedToIconified.java became failing on both macOS-aarch64 and macOS-x64 starting since Ventura 13.0 Beta (22A5365d) with the following output:&lt;br/&gt;
&lt;br/&gt;
```&lt;br/&gt;
#section:main&lt;br/&gt;
----------messages:(7/279)----------&lt;br/&gt;
command: main MaximizedToIconified&lt;br/&gt;
reason: User specified action: run main MaximizedToIconified &lt;br/&gt;
started: Wed Oct 12 04:13:38 UTC 2022&lt;br/&gt;
Mode: othervm&lt;br/&gt;
Additional options from @modules: --add-modules java.desktop&lt;br/&gt;
finished: Wed Oct 12 04:13:42 UTC 2022&lt;br/&gt;
elapsed time (seconds): 3.873&lt;br/&gt;
----------configuration:(3/40)----------&lt;br/&gt;
Boot Layer&lt;br/&gt;
&amp;nbsp;&amp;nbsp;add modules: java.desktop&lt;br/&gt;
&lt;br/&gt;
----------System.out:(11/452)----------&lt;br/&gt;
last = 0; getOldState() = 0; getNewState() = 6&lt;br/&gt;
state = 6; getExtendedState() = 6&lt;br/&gt;
last = 6; getOldState() = 6; getNewState() = 0&lt;br/&gt;
last = 0; getOldState() = 0; getNewState() = 1&lt;br/&gt;
state = 1; getExtendedState() = 1&lt;br/&gt;
last = 1; getOldState() = 1; getNewState() = 0&lt;br/&gt;
state = 0; getExtendedState() = 0&lt;br/&gt;
last = 0; getOldState() = 0; getNewState() = 1&lt;br/&gt;
state = 1; getExtendedState() = 1&lt;br/&gt;
last = 1; getOldState() = 1; getNewState() = 0&lt;br/&gt;
state = 6; getExtendedState() = 0&lt;br/&gt;
----------System.err:(14/877)----------&lt;br/&gt;
java.lang.RuntimeException: getExtendedState() != 6 as expected.&lt;br/&gt;
	at MaximizedToIconified.checkState(MaximizedToIconified.java:70)&lt;br/&gt;
	at MaximizedToIconified.examineStates(MaximizedToIconified.java:98)&lt;br/&gt;
	at MaximizedToIconified.doTest(MaximizedToIconified.java:117)&lt;br/&gt;
	at MaximizedToIconified.main(MaximizedToIconified.java:124)&lt;br/&gt;
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)&lt;br/&gt;
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.MainWrapper$MainThread.run(MainWrapper.java:125)&lt;br/&gt;
	at java.base/java.lang.Thread.run(Thread.java:1588)&lt;br/&gt;
&lt;br/&gt;
JavaTest Message: Test threw exception: java.lang.RuntimeException: getExtendedState() != 6 as expected.&lt;br/&gt;
```&lt;br/&gt;
It is still being observed on 13.1 Beta (22C5033e)&lt;br/&gt;
The test passes successfully on the previous macOS versions 11, 12.&lt;br/&gt;
The issue was observed on jdk20 20-ea+23-1677. It is also reproducible with jdk19 (19.0.1+10-21), jdk17&lt;br/&gt;
&lt;br/&gt;
*Reproducibility*: 100%&lt;br/&gt;
*Steps to reproduce*:&lt;br/&gt;
$ jtreg/bin/jtreg -va  -testjdk:jdk-20.jdk/Contents/Home/ test/jdk/java/awt/Frame/MaximizedToIconified/MaximizedToIconified.java</description>
                <environment></environment>
        <key id="5087527">JDK-8296972</key>
            <summary>[macos13] java/awt/Frame/MaximizedToIconified/MaximizedToIconified.java: getExtendedState() != 6 as expected.</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="achung">Alisen Chung</assignee>
                                    <reporter username="vprovodin">Vitaly Provodin</reporter>
                        <labels>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>macos</label>
                            <label>macos13</label>
                            <label>problemlist</label>
                            <label>sn_134</label>
                            <label>sn_135</label>
                            <label>sn_143</label>
                            <label>sn_144</label>
                            <label>sn_145</label>
                            <label>sn_146</label>
                            <label>sn_147</label>
                            <label>tier4</label>
                    </labels>
                <created>Mon, 14 Nov 2022 15:27:15 -0800</created>
                <updated>Tue, 28 Jan 2025 03:08:51 -0800</updated>
                            <resolved>Wed, 28 Jun 2023 13:18:34 -0700</resolved>
                                    <version>11</version>
                    <version>17</version>
                    <version>19</version>
                    <version>20</version>
                    <version>21</version>
                                    <fixVersion>22</fixVersion>
                                    <component>client-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>13</watches>
                                                                                                                                                            <comments>
                            <comment id="14744799" author="lbourges" created="Tue, 28 Jan 2025 03:08:51 -0800"  >See &lt;a href=&quot;https://youtrack.jetbrains.com/issue/JBR-8189&quot;&gt;https://youtrack.jetbrains.com/issue/JBR-8189&lt;/a&gt;</comment>
                            <comment id="14744747" author="lbourges" created="Tue, 28 Jan 2025 00:56:25 -0800"  >This patch using infinite lock.wait() is causing freeze / hangs in Jetbrains IDEs &amp;amp; jtreg CheckDisplayModes test.&lt;br/&gt;
&lt;br/&gt;
I will report the regression bug asap...</comment>
                            <comment id="14704657" author="JIRAUSER20917" created="Thu, 12 Sep 2024 23:05:44 -0700"  >Fix request [17u]&lt;br/&gt;
&lt;br/&gt;
I backport this for parity with 17.0.14-oracle.&lt;br/&gt;
test/jdk/ProblemList.txt  not edit as it&amp;#39;s not exist.&lt;br/&gt;
Test pass. SAP nightly testing passed.</comment>
                            <comment id="14704629" author="JIRAUSER20917" created="Thu, 12 Sep 2024 19:14:20 -0700"  >Fix request [21u]&lt;br/&gt;
&lt;br/&gt;
I backport this for parity with 21.0.6-oracle.&lt;br/&gt;
Clean backport.&lt;br/&gt;
Test pass.  SAP nightly testing passed.</comment>
                            <comment id="14704475" author="roboduke" created="Thu, 12 Sep 2024 02:39:32 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/2866&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/2866&lt;/a&gt;&lt;br/&gt;
Date: 2024-09-12 09:33:35 +0000</comment>
                            <comment id="14704442" author="roboduke" created="Thu, 12 Sep 2024 00:26:34 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/965&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/965&lt;/a&gt;&lt;br/&gt;
Date: 2024-09-12 07:20:08 +0000</comment>
                            <comment id="14592603" author="dukebot" created="Wed, 28 Jun 2023 13:18:33 -0700"  >Changeset: f0c2f098&lt;br/&gt;
Author:    Alisen Chung &amp;lt;&lt;a href=&apos;mailto:achung@openjdk.org&apos;&gt;achung@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-06-28 20:17:00 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/f0c2f098150335fce736708354d58bae383cc4a1&quot;&gt;https://git.openjdk.org/jdk/commit/f0c2f098150335fce736708354d58bae383cc4a1&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14585708" author="roboduke" created="Tue, 30 May 2023 11:47:32 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/14226&quot;&gt;https://git.openjdk.org/jdk/pull/14226&lt;/a&gt;&lt;br/&gt;
Date: 2023-05-30 18:41:38 +0000</comment>
                            <comment id="14583922" author="JIRAUSER19602" created="Tue, 23 May 2023 14:10:27 -0700"  >Interestingly, on a newly built jdk, this test will pass and throw a warning:&lt;br/&gt;
2023-05-23 14:08:20.674 java[8544:7174596] 	Cocoa AWT: Not running on AppKit thread 0 when expected. (&lt;br/&gt;
	0   libawt_lwawt.dylib                  0x00000001031a1097 Java_sun_lwawt_macosx_LWCToolkit_createAWTRunLoopMediator + 39&lt;br/&gt;
	1   ???                                 0x00000001144b7680 0x0 + 4635457152&lt;br/&gt;
)&lt;br/&gt;
2023-05-23 14:08:20.674 java[8544:7174596] 	Please file a bug report at &lt;a href=&quot;https://bugreport.java.com/bugreport&quot;&gt;https://bugreport.java.com/bugreport&lt;/a&gt; with this message and a reproducible test case.&lt;br/&gt;
2023-05-23 14:08:20.675 java[8544:7174596] 	Cocoa AWT: Not running on AppKit thread 0 when expected. (&lt;br/&gt;
	0   libawt_lwawt.dylib                  0x00000001031a11e8 Java_sun_lwawt_macosx_LWCToolkit_doAWTRunLoopImpl + 56&lt;br/&gt;
	1   ???                                 0x00000001144b7680 0x0 + 4635457152&lt;br/&gt;
&lt;br/&gt;
On subsequent runs the original failure reoccurs.</comment>
                            <comment id="14580654" author="JIRAUSER19602" created="Wed, 10 May 2023 13:17:38 -0700"  >The issue is likely a synchronization error in CPlatformWindow.java where an iconified frame should be uniconified first before maximizing, but the maximization somehow doesn&amp;#39;t happen. If you sleep the thread, the test will pass.</comment>
                            <comment id="14544080" author="serb" created="Thu, 8 Dec 2022 19:50:41 -0800"  >This could be marked as a platform to platform regression.</comment>
                            <comment id="14542757" author="prr" created="Mon, 5 Dec 2022 12:28:28 -0800"  >Yes, this test is failing consistently. We should problem list it ASAP until it can be investigated and resolved.&lt;br/&gt;
&lt;br/&gt;
I submitted &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8298123&quot;&gt;https://bugs.openjdk.org/browse/JDK-8298123&lt;/a&gt; for the problem listing</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5135027">JDK-8337079</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5135028">JDK-8337080</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5135174">JDK-8337211</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5139126">JDK-8340167</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5139128">JDK-8340169</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10002">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                                        </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                                                <inwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5136141">JDK-8337833</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="101599" name="MaximizedToIconified.jtr" size="6149" author="vprovodin" created="Mon, 14 Nov 2022 15:25:08 -0800"/>
                    </attachments>
                <subtasks>
                                              <subtask id="5088924">JDK-8298123</subtask>
                                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17008"><![CDATA[generic]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17017"><![CDATA[os_x]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2z963:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17314"><![CDATA[b04]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="196"><![CDATA[java.awt]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>