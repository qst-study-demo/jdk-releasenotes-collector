<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Sat Sep 27 10:18:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8321479] java -D-D crashes</title>
                <link>https://bugs.openjdk.org/browse/JDK-8321479</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>(I have replaced my personal info with &amp;lt;snip&amp;gt; in error message below)&lt;br/&gt;
&lt;br/&gt;
java -D-D&lt;br/&gt;
#&lt;br/&gt;
# A fatal error has been detected by the Java Runtime Environment:&lt;br/&gt;
#&lt;br/&gt;
#  Internal Error (/&amp;lt;snip&amp;gt;/dev/git/openjdk/jdk2/open/src/hotspot/share/runtime/arguments.cpp:322), pid=95956, tid=8707&lt;br/&gt;
#  assert((strncmp(property, &amp;quot;-D&amp;quot;, 2) != 0)) failed: Unexpected leading -D&lt;br/&gt;
#&lt;br/&gt;
# JRE version:  (22.0) (fastdebug build )&lt;br/&gt;
# Java VM: Java HotSpot(TM) 64-Bit Server VM (fastdebug 22-internal-2023-12-06-1614439.&amp;lt;snip&amp;gt;..., mixed mode, sharing, tiered, compressed class ptrs, unknown gc, bsd-amd64)&lt;br/&gt;
# No core dump will be written. Core dumps have been disabled. To enable core dumping, try &amp;quot;ulimit -c unlimited&amp;quot; before starting Java again&lt;br/&gt;
#&lt;br/&gt;
...&amp;lt;snip&amp;gt;&lt;br/&gt;
#&lt;br/&gt;
Abort trap: 6</description>
                <environment></environment>
        <key id="5116341">JDK-8321479</key>
            <summary>java -D-D crashes</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://bugs.openjdk.org/images/jbsImages/p3.png">P3</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ccheung">Calvin Cheung</assignee>
                                    <reporter username="mullan">Sean Mullan</reporter>
                        <labels>
                            <label>amazon-interest</label>
                            <label>cmd</label>
                            <label>hgupdate-sync</label>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                    </labels>
                <created>Wed, 6 Dec 2023 11:05:12 -0800</created>
                <updated>Thu, 24 Apr 2025 12:01:54 -0700</updated>
                            <resolved>Fri, 15 Dec 2023 11:07:18 -0800</resolved>
                                    <version>9</version>
                    <version>11</version>
                    <version>17</version>
                    <version>21</version>
                    <version>22</version>
                                    <fixVersion>23</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="14772687" author="roboduke" created="Tue, 22 Apr 2025 12:50:09 -0700"  >[jdk21u-fix-request] Approval Request from Satyen Subramaniam&lt;br/&gt;
for backport. Removes buggy assert statement and adds test.&lt;br/&gt;
&lt;br/&gt;
Risk: Low. Tip change was merged in December 2023, and is trivial. Adds test to help mitigate risk.&lt;br/&gt;
&lt;br/&gt;
Testing:&lt;br/&gt;
* GHA Sanity Checks&lt;br/&gt;
* Tier 1 and 2 tests locally&lt;br/&gt;
* New test locally</comment>
                            <comment id="14772686" author="roboduke" created="Tue, 22 Apr 2025 12:49:44 -0700"  >[jdk17u-fix-request] Approval Request from Satyen Subramaniam&lt;br/&gt;
for backport. Removes buggy assert statement and adds test.&lt;br/&gt;
&lt;br/&gt;
Risk: Low. Tip change was merged in December 2023, and is trivial. Adds test to help mitigate risk.&lt;br/&gt;
&lt;br/&gt;
Testing:&lt;br/&gt;
* GHA Sanity Checks&lt;br/&gt;
* Tier 1 and 2 tests locally&lt;br/&gt;
* New test locally</comment>
                            <comment id="14772672" author="roboduke" created="Tue, 22 Apr 2025 12:11:45 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/3519&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/3519&lt;/a&gt;&lt;br/&gt;
Date: 2025-04-22 19:03:51 +0000</comment>
                            <comment id="14772671" author="roboduke" created="Tue, 22 Apr 2025 12:11:43 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/1694&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/1694&lt;/a&gt;&lt;br/&gt;
Date: 2025-04-22 19:03:46 +0000</comment>
                            <comment id="14640845" author="roboduke" created="Tue, 16 Jan 2024 14:24:40 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk22/pull/84&quot;&gt;https://git.openjdk.org/jdk22/pull/84&lt;/a&gt;&lt;br/&gt;
Date: 2024-01-16 22:18:23 +0000</comment>
                            <comment id="14634725" author="dukebot" created="Fri, 15 Dec 2023 11:07:17 -0800"  >Changeset: dcdcd48d&lt;br/&gt;
Author:    Calvin Cheung &amp;lt;&lt;a href=&apos;mailto:ccheung@openjdk.org&apos;&gt;ccheung@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-12-15 19:04:42 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/dcdcd48d8fbf076e12841e557ebbe70228c8a92b&quot;&gt;https://git.openjdk.org/jdk/commit/dcdcd48d8fbf076e12841e557ebbe70228c8a92b&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14634478" author="roboduke" created="Thu, 14 Dec 2023 15:26:54 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/17115&quot;&gt;https://git.openjdk.org/jdk/pull/17115&lt;/a&gt;&lt;br/&gt;
Date: 2023-12-14 23:21:09 +0000</comment>
                            <comment id="14632947" author="dholmes" created="Sun, 10 Dec 2023 18:23:47 -0800"  >[~ccheung] after studying why the assertion is there, I agree we do not need it. If the call here:&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;// Check for module related properties.  They must be set using the modules&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;// options. For example: use &amp;quot;--add-modules=java.sql&amp;quot;, not&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;// &amp;quot;-Djdk.module.addmods=java.sql&amp;quot;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if (is_internal_module_property(option-&amp;gt;optionString + 2)) {&lt;br/&gt;
&lt;br/&gt;
has stripped off the known leading -D then any additional -D should just cause a match failure.&lt;br/&gt;
</comment>
                            <comment id="14632704" author="ccheung" created="Fri, 8 Dec 2023 08:53:46 -0800"  >JDK 8 just prints the help message with the &amp;quot;-D-D&amp;quot; option.&lt;br/&gt;
&lt;br/&gt;
$ ../jdk1.8.0_341/bin/java -version&lt;br/&gt;
java version &amp;quot;1.8.0_341-ea&amp;quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.8.0_341-ea-46-b01)&lt;br/&gt;
Java HotSpot(TM) 64-Bit Server VM (build 25.341-b01, mixed mode)&lt;br/&gt;
[jtreg_test_baseline]$ ../jdk1.8.0_341/bin/java -D-D&lt;br/&gt;
Usage: java [-options] class [args...]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(to execute a class)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;or  java [-options] -jar jarfile [args...]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(to execute a jar file)&lt;br/&gt;
where options include:&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;-d32	  use a 32-bit data model if available&lt;br/&gt;
&amp;lt;snip&amp;gt;&lt;br/&gt;
&lt;br/&gt;
I tried removing the assert statement in question in my mainline repo and the behavior is the same as JDK 8.&lt;br/&gt;
I think a fix could just simply removing the assert statement.</comment>
                            <comment id="14632538" author="dholmes" created="Thu, 7 Dec 2023 20:49:47 -0800"  >This affects debug builds back to JDK 9 - most likely introduced with command-line changes for the module system.</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5119084">JDK-8323881</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5119686">JDK-8324402</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5156944">JDK-8355547</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5156949">JDK-8355552</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i344sr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17305"><![CDATA[b03]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="192"><![CDATA[runtime]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>