<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Sat Sep 27 10:31:11 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8339288] Improve diagnostic logging runtime/cds/DeterministicDump.java</title>
                <link>https://bugs.openjdk.org/browse/JDK-8339288</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>Currently, diagnosing the failures in DeterministicDump.java rely on analysis of the CDS map files, which are saved in the scratch directory when this test is executed.&lt;br/&gt;
&lt;br/&gt;
Normally, we run jtreg with at least -retain:fail, so the CDS map files are saved when the test fails. However, when this test fails inside GitHub actions, the map files are not saved. We only see a very short error message:&lt;br/&gt;
&lt;br/&gt;
STDERR:&lt;br/&gt;
java.lang.RuntimeException: File content different at byte #4, b0 = 96, b1 = 80&lt;br/&gt;
at DeterministicDump.compare(DeterministicDump.java:114)&lt;br/&gt;
at DeterministicDump.doTest(DeterministicDump.java:73)&lt;br/&gt;
at DeterministicDump.main(DeterministicDump.java:42)&lt;br/&gt;
&lt;br/&gt;
But this is just the archive checksum, which is useless for diagnostic purposes.&lt;br/&gt;
&lt;br/&gt;
Instead, we should print the textual diff of the first material difference between the two map files. For example: if the 5th word of this method is different in the two dumps (0000000000000000 vs 1111111111111111), we print out the following to STDOUT, to be captured in the JTR file.&lt;br/&gt;
&lt;br/&gt;
[first difference: map file #1]&lt;br/&gt;
0x00000008001b8ef8:   0000000000000000 0000000000000000 0000000000000000 0000000000000000   ................................&lt;br/&gt;
0x00000008001b8f18: @@ Method            128 java.lang.Object java.lang.Object.clone()&lt;br/&gt;
0x00000008001b8f18:   00000008000007c0 0000000000000000 0000000800dcb4f8 0000000000000000   ................................&lt;br/&gt;
0x00000008001b8f38:   0000000000000000 0000000000000000 0000000400000104 0300000300000000   ................................&lt;br/&gt;
0x00000008001b8f58:   0000000000000000 0000000800585710 0000000000000000 0000000000000000   .........WX.....................&lt;br/&gt;
0x00000008001b8f78:   0000000000000000 0000000000000000 0000000000000000 0000000000000000   ................................&lt;br/&gt;
&lt;br/&gt;
[first difference: map file #2]&lt;br/&gt;
0x00000008001b8ef8:   0000000000000000 0000000000000000 0000000000000000 0000000000000000   ................................&lt;br/&gt;
0x00000008001b8f18: @@ Method            128 java.lang.Object java.lang.Object.clone()&lt;br/&gt;
0x00000008001b8f18:   00000008000007c0 0000000000000000 0000000800dcb4f8 0000000000000000   ................................&lt;br/&gt;
0x00000008001b8f38:   1111111111111111 0000000000000000 0000000400000104 0300000300000000   ................................&lt;br/&gt;
0x00000008001b8f58:   0000000000000000 0000000800585710 0000000000000000 0000000000000000   .........WX.....................&lt;br/&gt;
0x00000008001b8f78:   0000000000000000 0000000000000000 0000000000000000 0000000000000000   ................................&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
</description>
                <environment></environment>
        <key id="5137884">JDK-8339288</key>
            <summary>Improve diagnostic logging runtime/cds/DeterministicDump.java</summary>
                <type id="5" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14716&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="5137174">JDK-8338712</parent>
                                    <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="matsaave">Matias Saavedra Silva</assignee>
                                    <reporter username="iklam">Ioi Lam</reporter>
                        <labels>
                            <label>cds</label>
                            <label>jdk17u-todo</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>noreg-self</label>
                    </labels>
                <created>Thu, 29 Aug 2024 14:59:52 -0700</created>
                <updated>Tue, 15 Apr 2025 02:23:25 -0700</updated>
                            <resolved>Wed, 13 Nov 2024 15:22:32 -0800</resolved>
                                                    <fixVersion>24</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14769326" author="roboduke" created="Fri, 11 Apr 2025 08:41:50 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/1644&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/1644&lt;/a&gt;&lt;br/&gt;
Date: 2025-04-11 15:34:11 +0000</comment>
                            <comment id="14769324" author="goetz" created="Fri, 11 Apr 2025 08:33:37 -0700"  >Fix request [21u]&lt;br/&gt;
&lt;br/&gt;
I backport this for parity with 21.0.8-oracle.&lt;br/&gt;
No risk, only a test change&lt;br/&gt;
Clean backport.&lt;br/&gt;
Test passes. SAP nightly testing passed.</comment>
                            <comment id="14722150" author="dukebot" created="Wed, 13 Nov 2024 15:22:30 -0800"  >Changeset: 3b283543&lt;br/&gt;
Branch: master&lt;br/&gt;
Author:    Matias Saavedra Silva &amp;lt;&lt;a href=&apos;mailto:matsaave@openjdk.org&apos;&gt;matsaave@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2024-11-13 23:18:31 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/3b283543c33df8c225e10b9186b7bc3cefd1a347&quot;&gt;https://git.openjdk.org/jdk/commit/3b283543c33df8c225e10b9186b7bc3cefd1a347&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14719323" author="roboduke" created="Tue, 5 Nov 2024 11:32:36 -0800"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/21913&quot;&gt;https://git.openjdk.org/jdk/pull/21913&lt;/a&gt;&lt;br/&gt;
Date: 2024-11-05 18:36:01 +0000</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5154904">JDK-8353744</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5154905">JDK-8353745</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5155892">JDK-8354644</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37qtn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17436"><![CDATA[b24]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="192"><![CDATA[runtime]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>