<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Sat Sep 27 10:44:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8343342] java/io/File/GetXSpace.java fails on Windows with CD-ROM drive</title>
                <link>https://bugs.openjdk.org/browse/JDK-8343342</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>On Windows Server 2019, if the drive retrieved by File.listRoots() is assigned as a CD-ROM drive and the disk is not mounted, GetXSpace.java fails with the following stack and the message &amp;quot;The device is not ready&amp;quot;:&lt;br/&gt;
&lt;br/&gt;
----------System.err:(23/1555)----------&lt;br/&gt;
WARNING: A restricted method in java.lang.System has been called&lt;br/&gt;
WARNING: java.lang.System::loadLibrary has been called by GetXSpace in an unnamed module (file:/C:/work/kurashige/GetXSpace/JTwork/classes/java/io/File/GetXSpace.d/)&lt;br/&gt;
WARNING: Use --enable-native-access=ALL-UNNAMED to avoid a warning for callers in this module&lt;br/&gt;
WARNING: Restricted methods will be blocked in a future release unless native access is enabled&lt;br/&gt;
&lt;br/&gt;
WARNING: A terminally deprecated method in java.lang.System has been called&lt;br/&gt;
WARNING: System::setSecurityManager has been called by GetXSpace (file:/C:/work/kurashige/GetXSpace/JTwork/classes/java/io/File/GetXSpace.d/)&lt;br/&gt;
WARNING: Please consider reporting this to the maintainers of GetXSpace&lt;br/&gt;
WARNING: System::setSecurityManager will be removed in a future release&lt;br/&gt;
java.lang.RuntimeException: The device is not ready&lt;br/&gt;
	at GetXSpace.getSpace0(Native Method)&lt;br/&gt;
	at GetXSpace$Space.&amp;lt;init&amp;gt;(GetXSpace.java:112)&lt;br/&gt;
	at GetXSpace.testVolumes(GetXSpace.java:431)&lt;br/&gt;
	at GetXSpace.main(GetXSpace.java:469)&lt;br/&gt;
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)&lt;br/&gt;
	at java.base/java.lang.reflect.Method.invoke(Method.java:573)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.MainWrapper$MainTask.run(MainWrapper.java:138)&lt;br/&gt;
	at java.base/java.lang.Thread.run(Thread.java:1576)&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
In addition, if the disk is mounted, GetXSpace.java fails with the following stack and the message &amp;quot;The parameter is incorrect&amp;quot;:&lt;br/&gt;
&lt;br/&gt;
----------System.err:(23/1564)----------&lt;br/&gt;
WARNING: A restricted method in java.lang.System has been called&lt;br/&gt;
WARNING: java.lang.System::loadLibrary has been called by GetXSpace in an unnamed module (file:/C:/work/kurashige/GetXSpace/JTwork/classes/java/io/File/GetXSpace.d/)&lt;br/&gt;
WARNING: Use --enable-native-access=ALL-UNNAMED to avoid a warning for callers in this module&lt;br/&gt;
WARNING: Restricted methods will be blocked in a future release unless native access is enabled&lt;br/&gt;
&lt;br/&gt;
WARNING: A terminally deprecated method in java.lang.System has been called&lt;br/&gt;
WARNING: System::setSecurityManager has been called by GetXSpace (file:/C:/work/kurashige/GetXSpace/JTwork/classes/java/io/File/GetXSpace.d/)&lt;br/&gt;
WARNING: Please consider reporting this to the maintainers of GetXSpace&lt;br/&gt;
WARNING: System::setSecurityManager will be removed in a future release&lt;br/&gt;
java.lang.RuntimeException: The parameter is incorrect&lt;br/&gt;
	at GetXSpace.getSpace0(Native Method)&lt;br/&gt;
	at GetXSpace$Space.&amp;lt;init&amp;gt;(GetXSpace.java:112)&lt;br/&gt;
	at GetXSpace.testVolumes(GetXSpace.java:431)&lt;br/&gt;
	at GetXSpace.main(GetXSpace.java:469)&lt;br/&gt;
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)&lt;br/&gt;
	at java.base/java.lang.reflect.Method.invoke(Method.java:573)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.MainWrapper$MainTask.run(MainWrapper.java:138)&lt;br/&gt;
	at java.base/java.lang.Thread.run(Thread.java:1576)&lt;br/&gt;
&lt;br/&gt;
This happens because GetDiskSpaceInformationW function in libGetXSpace.c fails to get information about the size of the drive to which a CD-ROM drive is assigned.&lt;br/&gt;
&lt;br/&gt;
Above errors have also been reported at &lt;a href=&quot;https://github.com/openjdk/jdk/pull/12397#issuecomment-1705164515&quot;&gt;https://github.com/openjdk/jdk/pull/12397#issuecomment-1705164515&lt;/a&gt; but have not been resolved.&lt;br/&gt;
&lt;br/&gt;
GetXSpace.java is a test for File.get-X-Space methods. These methods can get information about the size of the CD-ROM drive.  Therefore, if the target drive for the test is a CD-ROM drive, the test should be run without the above errors.</description>
                <environment></environment>
        <key id="5142803">JDK-8343342</key>
            <summary>java/io/File/GetXSpace.java fails on Windows with CD-ROM drive</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tkiriyama">Takuya Kiriyama</assignee>
                                    <reporter username="tkiriyama">Takuya Kiriyama</reporter>
                        <labels>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                    </labels>
                <created>Wed, 30 Oct 2024 22:55:25 -0700</created>
                <updated>Thu, 3 Apr 2025 07:24:42 -0700</updated>
                            <resolved>Tue, 7 Jan 2025 17:17:06 -0800</resolved>
                                                    <fixVersion>25</fixVersion>
                                    <component>core-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14766492" author="roboduke" created="Wed, 2 Apr 2025 17:45:24 -0700"  >[jdk21u-fix-request] Approval Request from Taizo Kurashige&lt;br/&gt;
Backporting this patch resolves  java/io/File/GetXSpace.java failure.&lt;br/&gt;
Original patch does not apply cleanly because GetXSpace.java in jdk21 includes tests when the SecurityManager is enabled.&lt;br/&gt;
Test-only fix, low risk.&lt;br/&gt;
GetXSpace.java passes on Windows Server 2019.</comment>
                            <comment id="14757796" author="roboduke" created="Tue, 4 Mar 2025 01:13:05 -0800"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/1445&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/1445&lt;/a&gt;&lt;br/&gt;
Date: 2025-03-04 09:07:51 +0000</comment>
                            <comment id="14736391" author="dukebot" created="Tue, 7 Jan 2025 17:17:05 -0800"  >Changeset: 40f0a398&lt;br/&gt;
Branch: master&lt;br/&gt;
Author:    Taizo Kurashige &amp;lt;&lt;a href=&apos;mailto:taizousum11@gmail.com&apos;&gt;taizousum11@gmail.com&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2025-01-08 01:15:44 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/40f0a398fa9b1b39a43640973eaffb041bb7b63d&quot;&gt;https://git.openjdk.org/jdk/commit/40f0a398fa9b1b39a43640973eaffb041bb7b63d&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14718191" author="roboduke" created="Thu, 31 Oct 2024 00:19:57 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/21799&quot;&gt;https://git.openjdk.org/jdk/pull/21799&lt;/a&gt;&lt;br/&gt;
Date: 2024-10-31 07:15:16 +0000</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5154796">JDK-8353645</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17005"><![CDATA[windows]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i38jhf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17315"><![CDATA[b05]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="244"><![CDATA[java.io]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>