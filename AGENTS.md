回答は日本語でお願いします

## ファイル作成ルール
- セッション中に作成する中間ファイルは`.work/tmp/`に配置してください
- 要件資料、SOWは`.work/docs/yyyyMMdd-hhmm_xx/`に配置してください。xxは要件を表す適切なフォルダ名で作成すること

## コード品質原則
- **読みやすいコード**：適切な場所に適切な処理が適切な名前で無駄なく書いてあるコード
- **構造の本質**：字面ではなく、情報の整理と構造が重要。言語仕様を把握し、アルゴリズムを正しく実装する

### 基本原則
- **正準表現原則（Canonical Representation）**：同一概念は正準名と正準値を一つだけ持つ。別名・同義キー・多様式入力は採用しない
    ```NG1
    if not any(key in loadJson for key in ("report_week", "reportWeek")):
    -> report_weekで判定するべき。
    ```
    ```NG2
    # 真偽値判定用の共通真値集合
    TRUE_STR_VALUES = {"1", "true", "yes", "on"}
    FALSE_STR_VALUES = {"0", "false", "no", "off"}
    -> 1 or 0で判定するべき。
    ```
    外部インターフェース（CLI 引数、環境変数、API パラメータ等）で受け付ける表記も正準表現に一意化すること。既存の非正準値が存在する場合は同一リリース内で入力元を正準値に移行するか、移行完了までの間は非正準値を検知した時点で例外・エラーを返し黙ってフォールバックしないこと。
- **YAGNI（You Aren't Gonna Need It）**：必要になるまで作らない、必要なら最小で作る
- **DRY（Don't Repeat Yourself）**：知識は一箇所に集約、重複を排除
- **KISS（Keep It Simple Stupid）**：シンプルに保つ、複雑さは後回し
- **後方互換性の排除**：常に最新要件のみを反映、後方互換性の分岐は残さない、テストも全て修正
- **明示は暗黙に勝る**：意図が読める名前、可読性に価値を置く
- **Make it work → right → fast**：まず動かす→正す→速くする
- **早すぎる最適化の回避**：最適化は測ってから

## コード修正方針
- SOW（Statement of Work）：対応開始前にSOW作成し、ユーザーに確認を依頼する（意図を明示）
    - 調査依頼の場合は、即座に調査を開始し、調査結果をSOWに盛り込むこと。コード修正を伴う場合は事前にSOW作成必須。
- 変更はシンボル境界（関数/クラス）で最小差分（SRP/DRYの実践）。LSP（Serena）を優先し、テキスト置換は最終手段とする
- SOWにLSPで抽出した影響シンボル/呼び出し箇所を含める
- AT（Atomic Tasks／小粒度タスク）: タスクを小さく分割し、各タスクを一つずつ完了してから次へ進む（YAGNIと連携）
- 構造調査・変更前にLSP（Serena）でシンボル一覧/定義/参照を取得し、作業範囲を限定する（SoCの実践）
- 不具合/エラーが見つかった場合、`不具合原因特定の原則`に従って対応する

## 不具合原因特定の原則
- 推測で結論を出さない: 仮説は立てても、必ず実行結果に基づいて裏取りする
- 確証前の報告は禁止: 仮説段階のみの内容での報告は行わない。報告時は「確証済み」「未確証」を明確にする
- 証跡で確証する: デバッグログや実行結果などの客観的な証拠をもって原因を確定する
- 修正後も検証する: 原因に対する最小修正を行い、同条件で再実行して解消を確認する（最小実装の原則）
- 影響範囲の特定はLSP（Serena）の定義/参照を用いて証跡化する
