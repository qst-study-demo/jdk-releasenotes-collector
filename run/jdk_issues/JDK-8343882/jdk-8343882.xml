<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Sat Sep 27 09:59:48 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8343882] BasicAnnoTests doesn&apos;t handle multiple annotations at the same position</title>
                <link>https://bugs.openjdk.org/browse/JDK-8343882</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>Thomas Fitzsimmons noticed this issue in &lt;a href=&quot;https://github.com/openjdk/jdk17u-dev/pull/2955&quot;&gt;https://github.com/openjdk/jdk17u-dev/pull/2955&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
BasicAnnoTests uses @Test annotations for test cases, which a &amp;#39;posn&amp;#39; representation the expected location of an annotation to check for. Some tests have multiple @Test annotations with the same position:&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;@Test(posn=0, annoType = TA.class, expect = &amp;quot;70&amp;quot;)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;@Test(posn=0, annoType = TB.class, expect = &amp;quot;71&amp;quot;)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;@TA(70) @TB(71) String f;&lt;br/&gt;
&lt;br/&gt;
The tests creates a map indexed by posn, so if multiple annotations have the same posn only one of them is processed: &lt;a href=&quot;https://github.com/openjdk/jdk/blame/325a2c3f76a45248e6f8baa63477db15e55be705/test/langtools/tools/javac/processing/model/type/BasicAnnoTests.java#L174-L177&quot;&gt;https://github.com/openjdk/jdk/blame/325a2c3f76a45248e6f8baa63477db15e55be705/test/langtools/tools/javac/processing/model/type/BasicAnnoTests.java#L174-L177&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
The following change should cause the test to fail, but doesn&amp;#39;t, because the modified @Test annotation is not being processed due to this bug:&lt;br/&gt;
&lt;br/&gt;
$ diff --git a/test/langtools/tools/javac/processing/model/type/BasicAnnoTests.java b/test/langtools/tools/javac/processing/model/type/BasicAnnoTests.java&lt;br/&gt;
index 904e4e78cad..01206faeb6d 100644&lt;br/&gt;
--- a/test/langtools/tools/javac/processing/model/type/BasicAnnoTests.java&lt;br/&gt;
+++ b/test/langtools/tools/javac/processing/model/type/BasicAnnoTests.java&lt;br/&gt;
@@ -697,7 +697,7 @@ class Inner8&amp;lt;@TA(50) T&amp;gt; {&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;T&amp;gt; void m60(@TA(60) @TB(61) String t) { }&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;class Inner70&amp;lt;T&amp;gt; {&lt;br/&gt;
-        @Test(posn=0, annoType = TA.class, expect = &amp;quot;70&amp;quot;)&lt;br/&gt;
+        @Test(posn=0, annoType = TA.class, expect = &amp;quot;99&amp;quot;)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;@Test(posn=0, annoType = TB.class, expect = &amp;quot;71&amp;quot;)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;@TA(70) @TB(71) String f;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br/&gt;
&lt;br/&gt;
$ make test TEST=&amp;quot;jtreg:test/langtools/tools/javac/processing/model/type/BasicAnnoTests.java&amp;quot;&lt;br/&gt;
...&lt;br/&gt;
Passed: tools/javac/processing/model/type/BasicAnnoTests.java</description>
                <environment></environment>
        <key id="5143503">JDK-8343882</key>
            <summary>BasicAnnoTests doesn&apos;t handle multiple annotations at the same position</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cushon">Liam Miller-Cushon</assignee>
                                    <reporter username="cushon">Liam Miller-Cushon</reporter>
                        <labels>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>jdk24u-fix-SQE-ok-next</label>
                            <label>jdk24u-fix-request</label>
                            <label>jdk24u-fix-yes</label>
                            <label>noreg-self</label>
                            <label>type-annotations</label>
                            <label>ursqe-triaged</label>
                    </labels>
                <created>Sat, 9 Nov 2024 12:49:44 -0800</created>
                <updated>Tue, 3 Jun 2025 07:40:04 -0700</updated>
                            <resolved>Fri, 20 Dec 2024 12:57:05 -0800</resolved>
                                    <version>11</version>
                    <version>17</version>
                    <version>21</version>
                    <version>24</version>
                    <version>25</version>
                                    <fixVersion>25</fixVersion>
                                    <component>tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14751574" author="roboduke" created="Wed, 12 Feb 2025 19:02:27 -0800"  >[jdk21u-fix-request] Approval Request from sendaoYan&lt;br/&gt;
Clean backport to fix the test bug which may cause test can not catch the expected failure, test-fix only, no risk.</comment>
                            <comment id="14751573" author="roboduke" created="Wed, 12 Feb 2025 19:02:07 -0800"  >[jdk17u-fix-request] Approval Request from sendaoYan&lt;br/&gt;
Clean backport to jdk17u-dev to fix the test bug which may cause test can not catch the expected failure, test-fix only, no risk.</comment>
                            <comment id="14750813" author="roboduke" created="Mon, 10 Feb 2025 19:22:20 -0800"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/3272&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/3272&lt;/a&gt;&lt;br/&gt;
Date: 2025-02-11 03:16:36 +0000</comment>
                            <comment id="14750811" author="roboduke" created="Mon, 10 Feb 2025 19:21:20 -0800"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/1393&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/1393&lt;/a&gt;&lt;br/&gt;
Date: 2025-02-11 03:15:34 +0000</comment>
                            <comment id="14750377" author="roboduke" created="Fri, 7 Feb 2025 18:04:59 -0800"  >[jdk24u-fix-request] Approval Request from sendaoYan&lt;br/&gt;
Clean backport to fix the test bug which may cause test can not catch the expected failure, test-fix only, no risk.</comment>
                            <comment id="14750276" author="roboduke" created="Fri, 7 Feb 2025 08:34:45 -0800"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk24u/pull/63&quot;&gt;https://git.openjdk.org/jdk24u/pull/63&lt;/a&gt;&lt;br/&gt;
Date: 2025-02-07 16:29:16 +0000</comment>
                            <comment id="14734973" author="roboduke" created="Mon, 23 Dec 2024 22:17:21 -0800"  >A pull request was submitted for review.&lt;br/&gt;
Branch: jdk24&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/22875&quot;&gt;https://git.openjdk.org/jdk/pull/22875&lt;/a&gt;&lt;br/&gt;
Date: 2024-12-24 06:11:40 +0000</comment>
                            <comment id="14734701" author="roboduke" created="Fri, 20 Dec 2024 20:07:49 -0800"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/1276&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/1276&lt;/a&gt;&lt;br/&gt;
Date: 2024-12-21 04:02:01 +0000</comment>
                            <comment id="14734700" author="roboduke" created="Fri, 20 Dec 2024 20:06:06 -0800"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/3158&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/3158&lt;/a&gt;&lt;br/&gt;
Date: 2024-12-21 04:02:03 +0000</comment>
                            <comment id="14734682" author="dukebot" created="Fri, 20 Dec 2024 12:56:58 -0800"  >Changeset: d562d3c7&lt;br/&gt;
Branch: master&lt;br/&gt;
Author:    Liam Miller-Cushon &amp;lt;&lt;a href=&apos;mailto:cushon@openjdk.org&apos;&gt;cushon@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2024-12-20 20:52:48 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/d562d3c7a9e1e857c095ef908b0957b033972949&quot;&gt;https://git.openjdk.org/jdk/commit/d562d3c7a9e1e857c095ef908b0957b033972949&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14720517" author="roboduke" created="Sat, 9 Nov 2024 12:58:16 -0800"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/21998&quot;&gt;https://git.openjdk.org/jdk/pull/21998&lt;/a&gt;&lt;br/&gt;
Date: 2024-11-09 20:53:08 +0000</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5150341">JDK-8349768</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5150619">JDK-8349996</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5150620">JDK-8349997</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5154775">JDK-8353625</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5154776">JDK-8353626</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5154779">JDK-8353629</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i38ner:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17314"><![CDATA[b04]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="212"><![CDATA[javac]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>