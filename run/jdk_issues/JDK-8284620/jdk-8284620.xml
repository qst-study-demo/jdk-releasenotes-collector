<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Fri Sep 26 00:38:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8284620] CodeBuffer may leak _overflow_arena</title>
                <link>https://bugs.openjdk.org/browse/JDK-8284620</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>CodeBuffer is declared as StackObj, but it also has ResourceObj style new operator, to complicate thing further more, it has _overflow_arena that is C Heap allocated.&lt;br/&gt;
&lt;br/&gt;
When Stack allocated CodeBuffer owns _overflow_arena, it works fine, because its destructor frees _overflow_arena. But if resource allocated CodeBuffer owns _overflow_arena, the arena is leaked, because its destructor is never called.&lt;br/&gt;
&lt;br/&gt;
==1139627== 2,096 (96 direct, 2,000 indirect) bytes in 2 blocks are definitely lost in loss record 12,196 of 12,553&lt;br/&gt;
==1139627==    at 0x484486F: malloc (vg_replace_malloc.c:381)&lt;br/&gt;
==1139627==    by 0x5AE5B9E: malloc (os.cpp:656)&lt;br/&gt;
==1139627==    by 0x5AE5B9E: os::malloc(unsigned long, MEMFLAGS, NativeCallStack const&amp;amp;) (os.cpp:632)&lt;br/&gt;
==1139627==    by 0x527F216: AllocateHeap(unsigned long, MEMFLAGS, NativeCallStack const&amp;amp;, AllocFailStrategy::AllocFailEnum) (allocation.cpp:42)&lt;br/&gt;
==1139627==    by 0x52887B8: Arena::operator new(unsigned long, MEMFLAGS) (arena.cpp:286)&lt;br/&gt;
==1139627==    by 0x545E16E: CodeBuffer::create_patch_overflow() (codeBuffer.cpp:245)&lt;br/&gt;
==1139627==    by 0x529A1BA: Label::add_patch_at(CodeBuffer*, int, char const*, int) (assembler.cpp:166)&lt;br/&gt;
==1139627==    by 0x529ED05: Assembler::jcc(Assembler::Condition, Label&amp;amp;, bool) (assembler_x86.cpp:2320)&lt;br/&gt;
==1139627==    by 0x5188724: jmpConUNode::emit(CodeBuffer&amp;amp;, PhaseRegAlloc*) const (x86_64.ad:12758)&lt;br/&gt;
==1139627==    by 0x5B0759F: PhaseOutput::fill_buffer(CodeBuffer*, unsigned int*) (output.cpp:1681)&lt;br/&gt;
==1139627==    by 0x548A7C1: Compile::Code_Gen() (compile.cpp:2858)&lt;br/&gt;
==1139627==    by 0x548E7BC: Compile::Compile(ciEnv*, ciMethod*, int, Options, DirectiveSet*) (compile.cpp:849)&lt;br/&gt;
==1139627==    by 0x53CD12F: C2Compiler::compile_method(ciEnv*, ciMethod*, int, bool, DirectiveSet*) (c2compiler.cpp:112)&lt;br/&gt;
==1139627==    by 0x5496A03: CompileBroker::invoke_compiler_on_method(CompileTask*) (compileBroker.cpp:2294)&lt;br/&gt;
==1139627==    by 0x54975FF: CompileBroker::compiler_thread_loop() (compileBroker.cpp:1967)&lt;br/&gt;
==1139627==    by 0x5D496BD: JavaThread::thread_main_inner() (thread.cpp:1291)&lt;br/&gt;
==1139627==    by 0x5D4F3AF: Thread::call_run() (thread.cpp:356)&lt;br/&gt;
==1139627==    by 0x5AF0EA7: thread_native_entry(Thread*) (os_linux.cpp:706)&lt;br/&gt;
==1139627==    by 0x4927B19: start_thread (pthread_create.c:443)&lt;br/&gt;
==1139627==    by 0x49AB8E3: clone (clone.S:100)&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;</description>
                <environment></environment>
        <key id="5072242">JDK-8284620</key>
            <summary>CodeBuffer may leak _overflow_arena</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zgu">Zhengyu Gu</assignee>
                                    <reporter username="zgu">Zhengyu Gu</reporter>
                        <labels>
                            <label>jdk11u-fix-request</label>
                            <label>jdk11u-fix-yes</label>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>jdk18u-fix-SQE-OK</label>
                            <label>jdk18u-fix-request</label>
                            <label>jdk18u-fix-yes</label>
                            <label>jdk8u-fix-request</label>
                            <label>jdk8u-fix-yes</label>
                            <label>oracle-triage-19</label>
                            <label>redhat-interest</label>
                            <label>sap-interest</label>
                    </labels>
                <created>Fri, 8 Apr 2022 19:27:00 -0700</created>
                <updated>Tue, 15 Apr 2025 16:16:08 -0700</updated>
                            <resolved>Mon, 11 Apr 2022 12:07:08 -0700</resolved>
                                    <version>8</version>
                    <version>11</version>
                    <version>17</version>
                    <version>18</version>
                    <version>19</version>
                                    <fixVersion>19</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14495718" author="zgu" created="Thu, 12 May 2022 13:24:23 -0700"  >Fix Request (8u)&lt;br/&gt;
&lt;br/&gt;
I would like to backport this patch to 8u to fix a memory leak. The patch is small and low risk.</comment>
                            <comment id="14492868" author="zgu" created="Mon, 2 May 2022 06:56:13 -0700"  >Fix Request (11u)&lt;br/&gt;
&lt;br/&gt;
I would like to backport this patch to 11u to fix a memory leak. The patch is small and low risk.&lt;br/&gt;
</comment>
                            <comment id="14492867" author="zgu" created="Mon, 2 May 2022 06:55:59 -0700"  >Fix Request (17u)&lt;br/&gt;
&lt;br/&gt;
I would like to backport this patch to 17u to fix a memory leak. The patch is small and low risk.&lt;br/&gt;
</comment>
                            <comment id="14492839" author="roboduke" created="Mon, 2 May 2022 05:38:26 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.java.net/jdk8u-dev/pull/52&quot;&gt;https://git.openjdk.java.net/jdk8u-dev/pull/52&lt;/a&gt;&lt;br/&gt;
Date: 2022-05-02 12:32:21 +0000</comment>
                            <comment id="14492837" author="roboduke" created="Mon, 2 May 2022 05:32:15 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.java.net/jdk11u-dev/pull/1068&quot;&gt;https://git.openjdk.java.net/jdk11u-dev/pull/1068&lt;/a&gt;&lt;br/&gt;
Date: 2022-05-02 12:26:31 +0000</comment>
                            <comment id="14492836" author="roboduke" created="Mon, 2 May 2022 05:32:15 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.java.net/jdk17u-dev/pull/380&quot;&gt;https://git.openjdk.java.net/jdk17u-dev/pull/380&lt;/a&gt;&lt;br/&gt;
Date: 2022-05-02 12:24:59 +0000</comment>
                            <comment id="14492583" author="zgu" created="Fri, 29 Apr 2022 11:48:44 -0700"  >Fix Request (18u)&lt;br/&gt;
&lt;br/&gt;
A clean and low risk backport to fix a memory leak.</comment>
                            <comment id="14492581" author="roboduke" created="Fri, 29 Apr 2022 11:43:14 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.java.net/jdk18u/pull/114&quot;&gt;https://git.openjdk.java.net/jdk18u/pull/114&lt;/a&gt;&lt;br/&gt;
Date: 2022-04-29 18:38:30 +0000</comment>
                            <comment id="14488202" author="dukebot" created="Mon, 11 Apr 2022 12:07:07 -0700"  >Changeset: 4d45c3eb&lt;br/&gt;
Author:    Zhengyu Gu &amp;lt;&lt;a href=&apos;mailto:zgu@openjdk.org&apos;&gt;zgu@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2022-04-11 19:04:45 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.java.net/jdk/commit/4d45c3ebc493bb2c85dab84b97840c8ba093ab1f&quot;&gt;https://git.openjdk.java.net/jdk/commit/4d45c3ebc493bb2c85dab84b97840c8ba093ab1f&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14487924" author="roboduke" created="Sat, 9 Apr 2022 09:05:37 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.java.net/jdk/pull/8172&quot;&gt;https://git.openjdk.java.net/jdk/pull/8172&lt;/a&gt;&lt;br/&gt;
Date: 2022-04-09 16:01:40 +0000</comment>
                            <comment id="14487905" author="dlong" created="Fri, 8 Apr 2022 19:55:47 -0700"  >ILW = potential memory leak; never seen?; no workaround = MLH = P4</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5074114">JDK-8286108</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5074137">JDK-8286127</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5074138">JDK-8286128</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5074139">JDK-8286129</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5074187">JDK-8286169</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5074259">JDK-8286235</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5075508">JDK-8287229</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5155991">JDK-8354730</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5075873">JDK-8287537</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5134591">JDK-8336692</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2woaz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17354"><![CDATA[b18]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="208"><![CDATA[compiler]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>