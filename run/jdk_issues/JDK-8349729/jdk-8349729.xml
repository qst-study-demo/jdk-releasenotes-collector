<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Fri Sep 26 00:17:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8349729] [21u] AIX jtreg tests fail to compile with qvisibility=hidden</title>
                <link>https://bugs.openjdk.org/browse/JDK-8349729</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>jdk-21.0.7+1 on AIX is failing to compile with error:&lt;br/&gt;
14:56:45  ld: 0711-407 ERROR: Symbol .std::__1::basic_string&amp;lt;char, std::__1::char_traits&amp;lt;char&amp;gt;, std::__1::allocator&amp;lt;char&amp;gt; &amp;gt; std::__1::operator+&amp;lt;char, std::__1::char_traits&amp;lt;char&amp;gt;, std::__1::allocator&amp;lt;char&amp;gt; &amp;gt;(char const*, std::__1::basic_string&amp;lt;char, std::__1::char_traits&amp;lt;char&amp;gt;, std::__1::allocator&amp;lt;char&amp;gt; &amp;gt; const&amp;amp;)&lt;br/&gt;
14:56:45  	Visibility is not allowed on a reference to an imported symbol.&lt;br/&gt;
14:56:45  gmake[3]: *** [test/JtregNativeJdk.gmk:148: /home/jenkins/workspace/build-scripts/jobs/jdk21u/jdk21u-aix-ppc64-temurin/workspace/build/src/build/aix-ppc64-server-release/support/test/jdk/jtreg/native/bin/NullCallerTest] Error 8&lt;br/&gt;
&lt;br/&gt;
Ref build log: &lt;a href=&quot;https://ci.adoptium.net/job/build-scripts/job/jobs/job/jdk21u/job/jdk21u-aix-ppc64-temurin/88/consoleFull&quot;&gt;https://ci.adoptium.net/job/build-scripts/job/jobs/job/jdk21u/job/jdk21u-aix-ppc64-temurin/88/consoleFull&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
I suspect recent change: &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8327460&quot; title=&quot;Compile tests with the same visibility rules as product code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8327460&quot;&gt;&lt;strike&gt;JDK-8327460&lt;/strike&gt;&lt;/a&gt;&lt;br/&gt;
may be the cause? Not sure AIX jtreg test code links with -qvisibility=hidden&lt;br/&gt;
possibly??&lt;br/&gt;
&lt;br/&gt;
</description>
                <environment></environment>
        <key id="5150298">JDK-8349729</key>
            <summary>[21u] AIX jtreg tests fail to compile with qvisibility=hidden</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://bugs.openjdk.org/images/jbsImages/p3.png">P3</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sroy">Suchismith Roy</assignee>
                                    <reporter username="aleonard">Andrew Leonard</reporter>
                        <labels>
                            <label>25-na</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>sap-aix-na</label>
                    </labels>
                <created>Mon, 10 Feb 2025 08:12:16 -0800</created>
                <updated>Wed, 26 Feb 2025 00:11:09 -0800</updated>
                            <resolved>Mon, 24 Feb 2025 01:57:27 -0800</resolved>
                                    <version>21.0.7</version>
                                    <fixVersion>21.0.7</fixVersion>
                                    <component>infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14756375" author="dukebot" created="Wed, 26 Feb 2025 00:08:18 -0800"  >Changeset: 9c263232&lt;br/&gt;
Branch: master&lt;br/&gt;
Author:    Suchismith Roy &amp;lt;&lt;a href=&apos;mailto:sroy@openjdk.org&apos;&gt;sroy@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Committer: Amit Kumar &amp;lt;&lt;a href=&apos;mailto:amitkumar@openjdk.org&apos;&gt;amitkumar@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2025-02-24 09:53:25 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk21u/commit/9c26323271a4617b800b277a6afffe7c9a566db4&quot;&gt;https://git.openjdk.org/jdk21u/commit/9c26323271a4617b800b277a6afffe7c9a566db4&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14755738" author="dukebot" created="Mon, 24 Feb 2025 01:57:25 -0800"  >Changeset: 9c263232&lt;br/&gt;
Branch: master&lt;br/&gt;
Author:    Suchismith Roy &amp;lt;&lt;a href=&apos;mailto:sroy@openjdk.org&apos;&gt;sroy@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Committer: Amit Kumar &amp;lt;&lt;a href=&apos;mailto:amitkumar@openjdk.org&apos;&gt;amitkumar@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2025-02-24 09:53:25 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/commit/9c26323271a4617b800b277a6afffe7c9a566db4&quot;&gt;https://git.openjdk.org/jdk21u-dev/commit/9c26323271a4617b800b277a6afffe7c9a566db4&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14755473" author="roboduke" created="Fri, 21 Feb 2025 04:08:58 -0800"  >[jdk21u-fix-request] Approval Request from suchismith1993&lt;br/&gt;
Solves Failing tests for xlc16.</comment>
                            <comment id="14755299" author="roboduke" created="Thu, 20 Feb 2025 08:50:33 -0800"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/1425&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/1425&lt;/a&gt;&lt;br/&gt;
Date: 2025-02-20 16:44:30 +0000</comment>
                            <comment id="14755190" author="roboduke" created="Thu, 20 Feb 2025 02:04:19 -0800"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u/pull/459&quot;&gt;https://git.openjdk.org/jdk21u/pull/459&lt;/a&gt;&lt;br/&gt;
Date: 2025-02-19 08:56:21 +0000</comment>
                            <comment id="14751766" author="mbaesken" created="Thu, 13 Feb 2025 07:06:06 -0800"  >Hi [~aleonard]  Andrew, thanks for confirming!</comment>
                            <comment id="14751745" author="aleonard" created="Thu, 13 Feb 2025 05:30:56 -0800"  >I can confirm I have successfully built Temurin jdk-21 using AIX xlC 17&lt;br/&gt;
&lt;a href=&quot;https://ci.adoptium.net/job/build-scripts/job/jobs/job/jdk21u/job/jdk21u-aix-ppc64-temurin/91/&quot;&gt;https://ci.adoptium.net/job/build-scripts/job/jobs/job/jdk21u/job/jdk21u-aix-ppc64-temurin/91/&lt;/a&gt;</comment>
                            <comment id="14751678" author="mdoerr" created="Thu, 13 Feb 2025 02:07:47 -0800"  >The Open XL 17 build uses the ($(TOOLCHAIN_TYPE), clang) part and that works.&lt;br/&gt;
I think XLC 16 users can change the ($(TOOLCHAIN_TYPE), xlc) part.</comment>
                            <comment id="14751413" author="mbaesken" created="Wed, 12 Feb 2025 06:54:11 -0800"  >[~aleonard] yes this should work. We currently build 21u-dev successfully with this XLC17 :&lt;br/&gt;
IBM Open XL C/C++ for AIX 17.1.1 (5725-C72, 5765-J18), version 17.1.1.4, clang version 15.0.0 (build ca7115e)</comment>
                            <comment id="14751410" author="aleonard" created="Wed, 12 Feb 2025 06:48:51 -0800"  >Thanks Matthias, I shall try a build of Temurin jdk21u using Xlc 17</comment>
                            <comment id="14751362" author="mbaesken" created="Wed, 12 Feb 2025 03:27:39 -0800"  >&amp;gt; SAP is building that config too, &lt;br/&gt;
&lt;br/&gt;
We at SAP do not see the issue, but we build with XLC17  (also jdk21).  The build log linked in this issue says :&lt;br/&gt;
&lt;br/&gt;
15:14:58  configure: xlclang++ output: IBM XL C/C++ for AIX, V16.1.0  (5725-C72, 5765-J12)&lt;br/&gt;
15:14:58  configure: Using default toolchain xlc (IBM XL C/C++)&lt;br/&gt;
15:14:58  configure: Will use user supplied compiler CC=xlclang&lt;br/&gt;
15:14:58  checking for xlclang... /opt/IBM/xlC/16.1.0/bin/xlclang&lt;br/&gt;
15:14:58  checking resolved symbolic links for CC... /opt/IBM/xlC/16.1.0/bin/xlclang++&lt;br/&gt;
15:14:58  configure: Using xlc C compiler version 16.01.0000.0011 [IBM XL C/C++ for AIX, V16.1.0 (5725-C72, 5765-J12) Version: 16.01.0000.0011]&lt;br/&gt;
&lt;br/&gt;
so XLC16 is used here.  Not sure if some update of XLC16 would fix this; IBM might know. Maybe switching off , when working with XLC16, the changes to TestFilesCompilation.gmk done in &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8327460&quot; title=&quot;Compile tests with the same visibility rules as product code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8327460&quot;&gt;&lt;strike&gt;JDK-8327460&lt;/strike&gt;&lt;/a&gt; would fix the build.</comment>
                            <comment id="14751357" author="sgehwolf" created="Wed, 12 Feb 2025 03:05:39 -0800"  >[~aleonard] SAP is building that config too, but don&amp;#39;t see the issue. See &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8327460?focusedId=14751355&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14751355&quot;&gt;https://bugs.openjdk.org/browse/JDK-8327460?focusedId=14751355&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14751355&lt;/a&gt;</comment>
                            <comment id="14751353" author="sgehwolf" created="Wed, 12 Feb 2025 02:43:34 -0800"  >[~mbaesken] [~mdoerr] Is this something you see as well?</comment>
                            <comment id="14750683" author="aleonard" created="Mon, 10 Feb 2025 08:29:09 -0800"  >I also suspect the reason this is fine on jdk-25, is because that is compiled with Xlc 17.1, as opposed to Xlc 16.1 for jdk-21 maybe??&lt;br/&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10600">
                    <name>Causes</name>
                                                                <inwardlinks description="caused by">
                                        <issuelink>
            <issuekey id="5147424">JDK-8347176</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17024"><![CDATA[ppc]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="18900"><![CDATA[aix]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i39s83:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17314"><![CDATA[b04]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="199"><![CDATA[build]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>