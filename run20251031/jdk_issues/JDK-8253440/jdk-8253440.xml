<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Sat Sep 27 10:08:33 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8253440] serviceability/sa/TestJhsdbJstackLineNumbers.java failed with &quot;Didn&apos;t find enough line numbers&quot;</title>
                <link>https://bugs.openjdk.org/browse/JDK-8253440</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>The following test failed in the JDK16 CI:&lt;br/&gt;
&lt;br/&gt;
serviceability/sa/TestJhsdbJstackLineNumbers.java&lt;br/&gt;
&lt;br/&gt;
Here&amp;#39;s a snippet from the log file:&lt;br/&gt;
&lt;br/&gt;
Output and diagnostic info for process 1083748 was saved into &amp;#39;pid-1083748-output.log&amp;#39;&lt;br/&gt;
- LingeredAppWithBusyWork.busywork(int[]) @bci=2, line=64 (Interpreted frame)&lt;br/&gt;
c:\\ade\\mesos\\work_dir\\jib-master\\install\\jdk-16+17-754\\windows-x64-debug.jdk\\jdk-16\\fastdebug\\bin\\jhsdb.exe jstack --pid 1093388&lt;br/&gt;
[2020-09-21T15:42:53.761647500Z] Gathering output for process 1131356&lt;br/&gt;
[2020-09-21T15:42:56.819483300Z] Waiting for completion for process 1131356&lt;br/&gt;
[2020-09-21T15:42:56.819483300Z] Waiting for completion finished for process 1131356&lt;br/&gt;
Output and diagnostic info for process 1131356 was saved into &amp;#39;pid-1131356-output.log&amp;#39;&lt;br/&gt;
- LingeredAppWithBusyWork.busywork(int[]) @bci=49, line=72 (Interpreted frame)&lt;br/&gt;
c:\\ade\\mesos\\work_dir\\jib-master\\install\\jdk-16+17-754\\windows-x64-debug.jdk\\jdk-16\\fastdebug\\bin\\jhsdb.exe jstack --pid 1093388&lt;br/&gt;
[2020-09-21T15:42:56.835089900Z] Gathering output for process 1137008&lt;br/&gt;
[2020-09-21T15:42:59.942666700Z] Waiting for completion for process 1137008&lt;br/&gt;
[2020-09-21T15:42:59.942666700Z] Waiting for completion finished for process 1137008&lt;br/&gt;
Output and diagnostic info for process 1137008 was saved into &amp;#39;pid-1137008-output.log&amp;#39;&lt;br/&gt;
- LingeredAppWithBusyWork.busywork(int[]) @bci=5, line=64 (Interpreted frame)&lt;br/&gt;
Found Line Numbers: [64, 69, 71, 72]&lt;br/&gt;
&amp;nbsp;LingeredApp stdout: [];&lt;br/&gt;
&amp;nbsp;LingeredApp stderr: []&lt;br/&gt;
&amp;nbsp;LingeredApp exitValue = 0&lt;br/&gt;
LingeredAppWithBusyWork finished&lt;br/&gt;
----------System.err:(14/1030)----------&lt;br/&gt;
java.lang.RuntimeException: Failed: Didn&amp;#39;t find enough line numbers: [64, 69, 71, 72]&lt;br/&gt;
	at TestJhsdbJstackLineNumbers.runTest(TestJhsdbJstackLineNumbers.java:165)&lt;br/&gt;
	at TestJhsdbJstackLineNumbers.main(TestJhsdbJstackLineNumbers.java:186)&lt;br/&gt;
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)&lt;br/&gt;
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at java.base/java.lang.reflect.Method.invoke(Method.java:564)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.MainWrapper$MainThread.run(MainWrapper.java:127)&lt;br/&gt;
	at java.base/java.lang.Thread.run(Thread.java:832)&lt;br/&gt;
&lt;br/&gt;
JavaTest Message: Test threw exception: java.lang.RuntimeException: Failed: Didn&amp;#39;t find enough line numbers: [64, 69, 71, 72]&lt;br/&gt;
JavaTest Message: shutting down test&lt;br/&gt;
&lt;br/&gt;
STATUS:Failed.`main&amp;#39; threw exception: java.lang.RuntimeException: Failed: Didn&amp;#39;t find enough line numbers: [64, 69, 71, 72]&lt;br/&gt;
----------rerun:(49/5913)*----------</description>
                <environment></environment>
        <key id="5030289">JDK-8253440</key>
            <summary>serviceability/sa/TestJhsdbJstackLineNumbers.java failed with &quot;Didn&apos;t find enough line numbers&quot;</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cjplummer">Chris Plummer</assignee>
                                    <reporter username="dcubed">Daniel Daugherty</reporter>
                        <labels>
                            <label>intermittent</label>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>noreg-self</label>
                            <label>tier1</label>
                            <label>tier7</label>
                    </labels>
                <created>Mon, 21 Sep 2020 10:31:50 -0700</created>
                <updated>Mon, 21 Apr 2025 01:30:11 -0700</updated>
                            <resolved>Tue, 19 Nov 2024 11:00:46 -0800</resolved>
                                    <version>16</version>
                    <version>24</version>
                                    <fixVersion>24</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14770808" author="roboduke" created="Wed, 16 Apr 2025 07:22:06 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/1667&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/1667&lt;/a&gt;&lt;br/&gt;
Date: 2025-04-16 14:10:09 +0000</comment>
                            <comment id="14770807" author="roboduke" created="Wed, 16 Apr 2025 07:18:07 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/3505&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/3505&lt;/a&gt;&lt;br/&gt;
Date: 2025-04-16 14:10:19 +0000</comment>
                            <comment id="14770796" author="goetz" created="Wed, 16 Apr 2025 07:03:58 -0700"  >Fix request [21u,17u]&lt;br/&gt;
&lt;br/&gt;
I backport this for parity with 21.0.8-oracle,17.0.16-oracle.&lt;br/&gt;
No risk, only a test change.&lt;br/&gt;
Clean backport.&lt;br/&gt;
Test passes. SAP nightly testing passed.</comment>
                            <comment id="14723897" author="dukebot" created="Tue, 19 Nov 2024 11:00:45 -0800"  >Changeset: 0b1f5710&lt;br/&gt;
Branch: master&lt;br/&gt;
Author:    Chris Plummer &amp;lt;&lt;a href=&apos;mailto:cjplummer@openjdk.org&apos;&gt;cjplummer@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2024-11-19 18:58:00 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/0b1f57105d5af72b2cd47fa5c9a2b4e2961318cd&quot;&gt;https://git.openjdk.org/jdk/commit/0b1f57105d5af72b2cd47fa5c9a2b4e2961318cd&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14722438" author="roboduke" created="Thu, 14 Nov 2024 11:28:19 -0800"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/22117&quot;&gt;https://git.openjdk.org/jdk/pull/22117&lt;/a&gt;&lt;br/&gt;
Date: 2024-11-14 19:20:55 +0000</comment>
                            <comment id="14718761" author="cjplummer" created="Sun, 3 Nov 2024 20:53:39 -0800"  >Found just 4 lines again instead of the minimum required 5. See my previous explanation as to why. I&amp;#39;ll change this test to just expect 4 or more lines instead of 5.</comment>
                            <comment id="14718734" author="dholmes" created="Sun, 3 Nov 2024 13:00:20 -0800"  >Issue has been seen again so re-opening&lt;br/&gt;
&lt;br/&gt;
[2024-11-02T20:38:17.592668600Z] Waiting for completion finished for process 30100&lt;br/&gt;
Output and diagnostic info for process 30100 was saved into &amp;#39;pid-30100-output.log&amp;#39;&lt;br/&gt;
- LingeredAppWithBusyWork.busywork(int[]) @bci=56, line=73 (Interpreted frame)&lt;br/&gt;
Found Line Numbers: [68, 69, 72, 73]&lt;br/&gt;
&amp;nbsp;LingeredApp stdout: [];&lt;br/&gt;
&amp;nbsp;LingeredApp stderr: []&lt;br/&gt;
&amp;nbsp;LingeredApp exitValue = 0&lt;br/&gt;
LingeredAppWithBusyWork finished&lt;br/&gt;
----------System.err:(11/673)----------&lt;br/&gt;
java.lang.RuntimeException: Failed: Didn&amp;#39;t find enough line numbers: [68, 69, 72, 73]&lt;br/&gt;
	at TestJhsdbJstackLineNumbers.runTest(TestJhsdbJstackLineNumbers.java:166)&lt;br/&gt;
	at TestJhsdbJstackLineNumbers.main(TestJhsdbJstackLineNumbers.java:187)&lt;br/&gt;
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)&lt;br/&gt;
	at java.base/java.lang.reflect.Method.invoke(Method.java:573)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.MainActionHelper$AgentVMRunnable.run(MainActionHelper.java:333)&lt;br/&gt;
	at java.base/java.lang.Thread.run(Thread.java:1576)</comment>
                            <comment id="14438597" author="cjplummer" created="Fri, 30 Jul 2021 11:57:40 -0700"  >Closing since this issue has not reproduced again. If it does, re-open and I&amp;#39;ll make some changes so it is less likely to repeat in the future.</comment>
                            <comment id="14369777" author="cjplummer" created="Mon, 21 Sep 2020 13:19:11 -0700"  >The test calls jstack 25 times to get the line number of the currently executing method, called busywork(). There are 10 possible line numbers in busywork(). The test expects to see at least 5 unique line numbers get hit during the 25 samples. Hypothetically this might not happen. It could see as few as 1. I tried to set the number of possible line numbers high enough (10) and the required hits low enough (5) and the total number of samples high enough (25) so we were unlikely to ever see the test fail, but it appears in this case it has (only 4 unique lines were seen). So the solution is either put more than 10 lines in busywork(), require fewer than 5 unique lines, or run jstack more than  25 times. I think for now we just keep an eye on it to see how common this is.</comment>
                            <comment id="14369649" author="dcubed" created="Mon, 21 Sep 2020 10:32:49 -0700"  >There&amp;#39;s another failure mode for the same test:&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8252972&quot; title=&quot;serviceability/sa/TestJhsdbJstackLineNumbers.java timed out&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8252972&quot;&gt;&lt;strike&gt;JDK-8252972&lt;/strike&gt;&lt;/a&gt; serviceability/sa/TestJhsdbJstackLineNumbers.java timed out&lt;br/&gt;
&lt;br/&gt;
I&amp;#39;m filing a new bug to avoid confusion.</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5156159">JDK-8354833</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5156160">JDK-8354834</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5156517">JDK-8355148</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5156521">JDK-8355152</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5029484">JDK-8252972</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="19000"><![CDATA[x86_64]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17005"><![CDATA[windows]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2plmz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17411"><![CDATA[b25]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="2072"><![CDATA[svc-agent]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>