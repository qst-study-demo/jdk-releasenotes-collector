<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Sat Sep 27 10:12:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8313430] [JVMCI] fatal error: Never compilable: in JVMCI shutdown</title>
                <link>https://bugs.openjdk.org/browse/JDK-8313430</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>VM shutdown involves calling Java code which can schedule further compilations by the CompileBroker. With UseJVMCICompiler, all compilations started once VM shutdown has begun are abandoned since they are unnecessary and can even delay VM shutdown from completing.&lt;br/&gt;
&lt;br/&gt;
The implementation of -XX:+AbortVMOnCompilationFailure should ignore such abandoned compilations to prevent crashes such as:&lt;br/&gt;
&lt;br/&gt;
#&lt;br/&gt;
# A fatal error has been detected by the Java Runtime Environment:&lt;br/&gt;
#&lt;br/&gt;
#  Internal Error (compileBroker.cpp:2096), pid=303361, tid=303384&lt;br/&gt;
#  fatal error: Never compilable: in JVMCI shutdown&lt;br/&gt;
#&lt;br/&gt;
# JRE version: Java(TM) SE Runtime Environment (21.0) (build 21-internal-LTS-2023-07-18-1316304.gergo...)&lt;br/&gt;
# Java VM: Java HotSpot(TM) 64-Bit Server VM (21-internal-LTS-2023-07-18-1316304.gergo..., mixed mode, sharing, tiered, jvmci, jvmci compiler, compressed oops, compressed class ptrs, g1 gc, linux-amd64)&lt;br/&gt;
# Problematic frame:&lt;br/&gt;
# V  [libjvm.so+0x6452d9]  CompileBroker::handle_compile_error(CompilerThread*, CompileTask*, ciEnv*, int, char const*) [clone .part.0]+0x29&lt;br/&gt;
#&lt;br/&gt;
# Core dump will be written. Default location: Core dumps may be processed with &amp;quot;/usr/share/apport/apport -p%p -s%s -c%c -d%d -P%P -u%u -g%g -- %E&amp;quot; (or dumping to /home/gergo/galahad-ee/galahad-ee/build/linux-x64/test-support/jtreg_open_test_hotspot_jtreg_compiler_intrinsics_TestRotate_java/scratch/core.303361)&lt;br/&gt;
#</description>
                <environment></environment>
        <key id="5107027">JDK-8313430</key>
            <summary>[JVMCI] fatal error: Never compilable: in JVMCI shutdown</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gbarany">Gerg&#246; Barany</assignee>
                                    <reporter username="dnsimon">Douglas Simon</reporter>
                        <labels>
                            <label>amazon-interest</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>jvmci</label>
                            <label>oracle-triage-22</label>
                    </labels>
                <created>Mon, 31 Jul 2023 11:19:23 -0700</created>
                <updated>Wed, 14 May 2025 11:20:48 -0700</updated>
                            <resolved>Sat, 26 Aug 2023 03:14:59 -0700</resolved>
                                    <version>17</version>
                    <version>21</version>
                    <version>22</version>
                                    <fixVersion>22</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14779154" author="roboduke" created="Mon, 12 May 2025 10:00:15 -0700"  >[jdk21u-fix-request] Approval Request from Satyen Subramaniam&lt;br/&gt;
for backport. Relatively trivial one line fix to address edge case fatal error when using `-XX:+AbortVMOnCompilationFailure`&lt;br/&gt;
&lt;br/&gt;
Risk: Low. Tip change was merged in August 2023 and only relevant when running with `-XX:+AbortVMOnCompilationFailure`.&lt;br/&gt;
&lt;br/&gt;
Testing:&lt;br/&gt;
* GHA Sanity Checks&lt;br/&gt;
* Tier 1 and 2 tests locally</comment>
                            <comment id="14777761" author="roboduke" created="Wed, 7 May 2025 10:00:34 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/1755&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/1755&lt;/a&gt;&lt;br/&gt;
Date: 2025-05-07 16:47:33 +0000</comment>
                            <comment id="14606766" author="dukebot" created="Sat, 26 Aug 2023 03:14:58 -0700"  >Changeset: acd93102&lt;br/&gt;
Author:    Doug Simon &amp;lt;&lt;a href=&apos;mailto:dnsimon@openjdk.org&apos;&gt;dnsimon@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-08-26 10:13:23 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/acd93102348f592d6f2e77a4bff6037edf708d55&quot;&gt;https://git.openjdk.org/jdk/commit/acd93102348f592d6f2e77a4bff6037edf708d55&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14606713" author="roboduke" created="Fri, 25 Aug 2023 12:05:01 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/15433&quot;&gt;https://git.openjdk.org/jdk/pull/15433&lt;/a&gt;&lt;br/&gt;
Date: 2023-08-25 18:58:31 +0000</comment>
                            <comment id="14600875" author="dnsimon" created="Wed, 2 Aug 2023 01:28:47 -0700"  >I&amp;#39;ve attached a proposed patch (8313430.patch) for fixing this issue.</comment>
                            <comment id="14600847" author="thartmann" created="Wed, 2 Aug 2023 00:03:09 -0700"  >ILW = Assert because method is not compiled, with -XX:+AbortVMOnCompilationFailure and JVMCI during VM shutdown, no workaround but disable -XX:+AbortVMOnCompilationFailure = MLH = P4</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5158687">JDK-8356992</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                                                <inwardlinks description="relates to">
                                                        </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="104932" name="8313430.patch" size="775" author="dnsimon" created="Wed, 2 Aug 2023 01:28:18 -0700"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i32k6j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17339"><![CDATA[b13]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="208"><![CDATA[compiler]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>