<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Sat Sep 27 09:28:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8344628] Test TestEnableJVMCIProduct.java run with virtual thread intermittent fails</title>
                <link>https://bugs.openjdk.org/browse/JDK-8344628</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>Test compiler/jvmci/TestEnableJVMCIProduct.java intermittent fails when run with virtual thread. Failure probability about 20/10k.&lt;br/&gt;
&lt;br/&gt;
The test log snippet:&lt;br/&gt;
&lt;br/&gt;
jvmci.CompilerCannot use JVMCI compiler: JVMCI compiler &amp;#39;graal&amp;#39; specified by jvmci.Compiler not found&lt;br/&gt;
Cannot use JVMCI compiler: JVMCI compiler &amp;#39;graal&amp;#39; specified by jvmci.Compiler not found&lt;br/&gt;
&lt;br/&gt;
java.lang.RuntimeException: &amp;#39;jvmci.Compiler=graal&amp;#39; missing from stdout/stderr&lt;br/&gt;
	at jdk.test.lib.process.OutputAnalyzer.shouldContain(OutputAnalyzer.java:253)&lt;br/&gt;
	at TestEnableJVMCIProduct.test(TestEnableJVMCIProduct.java:106)&lt;br/&gt;
	at TestEnableJVMCIProduct.main(TestEnableJVMCIProduct.java:71)&lt;br/&gt;
&lt;br/&gt;
Reproduce test command:&lt;br/&gt;
export test=test/hotspot/jtreg/compiler/jvmci/TestEnableJVMCIProduct.java&lt;br/&gt;
function runJtreg() { jtreg -J-Djavatest.maxOutputSize=999999999 -testThreadFactoryPath:$PWD/build/linux-`arch`-server-release/images/test/jtreg_test_thread_factory/jtregTestThreadFactory.jar -testThreadFactory:Virtual -ea -esa -timeoutFactor:4 -v:fail,error,time,nopass -nr -w $dir/index-$1 $test &amp;amp;&amp;gt; $dir/$1.log ; if [[ 0 -ne $? ]] ; then echo -n &amp;quot;$1 &amp;quot; ; else rm -rf $dir/index-$1 $dir/$1.log ; fi ; } ; export -f runJtreg ; export dir=&amp;quot;tmp-jtreg-&amp;quot;`basename ${test##* } .java | sed &amp;quot;s|#|_|&amp;quot;` ; rm -rf $dir ; mkdir -p $dir ; time seq 50000 | xargs -i -n 1 -P `nproc` bash -c &amp;quot;runJtreg {}&amp;quot; ; echo total fail number: `ls $dir/*.log 2&amp;gt; /dev/null | wc | awk &amp;#39;{print $1}&amp;#39;`</description>
                <environment>&lt;p&gt;+ uname -a&lt;br/&gt;
Linux iZbp135x2jqtjtevvm4q43Z 5.10.134-17.2.al8.aarch64 #1 SMP Fri Aug 9 15:44:30 CST 2024 aarch64 aarch64 aarch64 GNU/Linux&lt;br/&gt;
+ cat /etc/os-release&lt;br/&gt;
NAME=&quot;Alibaba Cloud Linux&quot;&lt;br/&gt;
VERSION=&quot;3 (OpenAnolis Edition)&quot;&lt;br/&gt;
ID=&quot;alinux&quot;&lt;br/&gt;
ID_LIKE=&quot;rhel fedora centos anolis&quot;&lt;br/&gt;
VERSION_ID=&quot;3&quot;&lt;br/&gt;
VARIANT=&quot;OpenAnolis Edition&quot;&lt;br/&gt;
VARIANT_ID=&quot;openanolis&quot;&lt;br/&gt;
ALINUX_MINOR_ID=&quot;2104&quot;&lt;br/&gt;
ALINUX_UPDATE_ID=&quot;10&quot;&lt;br/&gt;
PLATFORM_ID=&quot;platform:al8&quot;&lt;br/&gt;
PRETTY_NAME=&quot;Alibaba Cloud Linux 3.2104 U10 (OpenAnolis Edition)&quot;&lt;br/&gt;
ANSI_COLOR=&quot;0;31&quot;&lt;br/&gt;
HOME_URL=&quot;https://www.aliyun.com/&quot;&lt;br/&gt;
+ free -h&lt;br/&gt;
&#160; &#160; &#160; &#160; &#160; &#160; &#160; total &#160; &#160; &#160; &#160;used &#160; &#160; &#160; &#160;free &#160; &#160; &#160;shared &#160;buff/cache &#160; available&lt;br/&gt;
Mem: &#160; &#160; &#160; &#160; &#160;245Gi &#160; &#160; &#160; 1.1Gi &#160; &#160; &#160; 242Gi &#160; &#160; &#160; 0.0Ki &#160; &#160; &#160; 2.5Gi &#160; &#160; &#160; 242Gi&lt;br/&gt;
Swap: &#160; &#160; &#160; &#160; &#160; &#160;0B &#160; &#160; &#160; &#160; &#160;0B &#160; &#160; &#160; &#160; &#160;0B&lt;br/&gt;
+ lscpu&lt;br/&gt;
+ head -n 25&lt;br/&gt;
Architecture: &#160; &#160; &#160; &#160;aarch64&lt;br/&gt;
Byte Order: &#160; &#160; &#160; &#160; &#160;Little Endian&lt;br/&gt;
CPU(s): &#160; &#160; &#160; &#160; &#160; &#160; &#160;64&lt;br/&gt;
On-line CPU(s) list: 0-63&lt;br/&gt;
Thread(s) per core: &#160;1&lt;br/&gt;
Core(s) per socket: &#160;64&lt;br/&gt;
Socket(s): &#160; &#160; &#160; &#160; &#160; 1&lt;br/&gt;
NUMA node(s): &#160; &#160; &#160; &#160;1&lt;br/&gt;
Vendor ID: &#160; &#160; &#160; &#160; &#160; ARM&lt;br/&gt;
BIOS Vendor ID: &#160; &#160; &#160;Alibaba Cloud&lt;br/&gt;
Model: &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0&lt;br/&gt;
Model name: &#160; &#160; &#160; &#160; &#160;Neoverse-N2&lt;br/&gt;
BIOS Model name: &#160; &#160; virt-rhel7.6.0&lt;br/&gt;
Stepping: &#160; &#160; &#160; &#160; &#160; &#160;r0p0&lt;br/&gt;
CPU MHz: &#160; &#160; &#160; &#160; &#160; &#160; 3000.000&lt;br/&gt;
CPU max MHz: &#160; &#160; &#160; &#160; 3000.0000&lt;br/&gt;
CPU min MHz: &#160; &#160; &#160; &#160; 3000.0000&lt;br/&gt;
BogoMIPS: &#160; &#160; &#160; &#160; &#160; &#160;100.00&lt;br/&gt;
L1d cache: &#160; &#160; &#160; &#160; &#160; 64K&lt;br/&gt;
L1i cache: &#160; &#160; &#160; &#160; &#160; 64K&lt;br/&gt;
L2 cache: &#160; &#160; &#160; &#160; &#160; &#160;1024K&lt;br/&gt;
L3 cache: &#160; &#160; &#160; &#160; &#160; &#160;65536K&lt;br/&gt;
NUMA node0 CPU(s): &#160; 0-63&lt;br/&gt;
Flags: &#160; &#160; &#160; &#160; &#160; &#160; &#160; fp asimd evtstrm aes pmull sha1 sha2 crc32 atomics fphp asimdhp cpuid asimdrdm jscvt fcma lrcpc dcpop sha3 sm3 sm4 asimddp sha512 sve asimdfhm dit uscat ilrcpc flagm ssbs sb dcpodp sve2 sveaes svepmull svebitperm svesha3 svesm4 flagm2 frint svei8mm svebf16 i8mm bf16 dgh&lt;br/&gt;
+ java -version&lt;br/&gt;
openjdk version &quot;24-internal&quot; 2025-03-18&lt;br/&gt;
OpenJDK Runtime Environment (build 24-internal-b2d3f866)&lt;br/&gt;
OpenJDK 64-Bit Server VM (build 24-internal-b2d3f866, mixed mode, sharing)&lt;br/&gt;
+ java -Xinternalversion&lt;br/&gt;
OpenJDK 64-Bit Server VM (24-internal-b2d3f866) for linux-aarch64 JRE (24-internal-b2d3f866), built on 2024-11-20T09:42:48Z with gcc 10.2.1 20210130 (Red Hat 10.2.1-11)&lt;br/&gt;
+ jtreg -version&lt;br/&gt;
jtreg 7.4-dev+0&lt;br/&gt;
Installed in /tmp/tone/run/jtreg/jtreg/lib/jtreg.jar&lt;br/&gt;
Running on platform version 24-internal from /tmp/tone/run/jtreg/jdk-repo/build/linux-aarch64-server-release/images/jdk.&lt;br/&gt;
Built with Java(TM) 2 SDK, Version 11.0.21+9-LTS on June 14, 2024.&lt;br/&gt;
Copyright (c) 1999, 2022, Oracle and/or its affiliates. All rights reserved.&lt;br/&gt;
Use is subject to license terms.&lt;br/&gt;
JT Harness, version 6.0 ea b24 (June 14, 2024)&lt;br/&gt;
Java Assembler Tools, version 7.0 ea b09 (June 14, 2024)&lt;br/&gt;
TestNG: testng-7.3.0.jar, guice-5.1.0.jar, jcommander-1.82.jar&lt;br/&gt;
JUnit: junit-platform-console-standalone-1.10.2.jar&lt;br/&gt;
+ git remote -v&lt;br/&gt;
origin &#160;git@github.com:openjdk/loom.git (fetch)&lt;br/&gt;
origin &#160;git@github.com:openjdk/loom.git (push)&lt;br/&gt;
+ git branch&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;fibers&lt;br/&gt;
+ git log -n 1&lt;br/&gt;
+ head -n 1&lt;br/&gt;
commit b2d3f866df8fc811b124a2e83b60d6d8d36c7f0f&lt;br/&gt;
+ git status&lt;br/&gt;
On branch fibers&lt;br/&gt;
Your branch is up to date with &apos;origin/fibers&apos;.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;nothing to commit, working tree clean&lt;br/&gt;
+ git diff&lt;/p&gt;</environment>
        <key id="5144385">JDK-8344628</key>
            <summary>Test TestEnableJVMCIProduct.java run with virtual thread intermittent fails</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dnsimon">Douglas Simon</assignee>
                                    <reporter username="syan">Sendao Yan</reporter>
                        <labels>
                            <label>intermittent</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>jvmci</label>
                            <label>noreg-self</label>
                            <label>oracle-triage-24</label>
                    </labels>
                <created>Wed, 20 Nov 2024 08:01:23 -0800</created>
                <updated>Tue, 11 Mar 2025 03:18:44 -0700</updated>
                            <resolved>Tue, 26 Nov 2024 01:52:26 -0800</resolved>
                                    <version>21</version>
                    <version>24</version>
                                    <fixVersion>24</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14727142" author="roboduke" created="Fri, 29 Nov 2024 01:36:24 -0800"  >[jdk21u-fix-request] Approval Request from sendaoYan&lt;br/&gt;
Clean backport to fix test bug which cause test intermittent fails, change has been verified locally, test-fix only, no risk.</comment>
                            <comment id="14726463" author="roboduke" created="Wed, 27 Nov 2024 01:16:35 -0800"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/1185&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/1185&lt;/a&gt;&lt;br/&gt;
Date: 2024-11-27 09:08:19 +0000</comment>
                            <comment id="14726156" author="dukebot" created="Tue, 26 Nov 2024 01:52:25 -0800"  >Changeset: 3a625f38&lt;br/&gt;
Branch: master&lt;br/&gt;
Author:    Doug Simon &amp;lt;&lt;a href=&apos;mailto:dnsimon@openjdk.org&apos;&gt;dnsimon@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2024-11-26 09:50:57 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/3a625f38aa4ab611fe5c7dffe420abce826d0d7e&quot;&gt;https://git.openjdk.org/jdk/commit/3a625f38aa4ab611fe5c7dffe420abce826d0d7e&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14725263" author="roboduke" created="Fri, 22 Nov 2024 06:03:07 -0800"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/22323&quot;&gt;https://git.openjdk.org/jdk/pull/22323&lt;/a&gt;&lt;br/&gt;
Date: 2024-11-22 13:56:51 +0000</comment>
                            <comment id="14725261" author="dnsimon" created="Fri, 22 Nov 2024 05:57:37 -0800"  >Sure: &lt;a href=&quot;https://github.com/openjdk/jdk/pull/22323&quot;&gt;https://github.com/openjdk/jdk/pull/22323&lt;/a&gt;</comment>
                            <comment id="14725215" author="thartmann" created="Fri, 22 Nov 2024 02:49:13 -0800"  >Doug, could you please have a look and help triage this? Thanks.</comment>
                            <comment id="14725214" author="thartmann" created="Fri, 22 Nov 2024 02:48:55 -0800"  >Looks like the expected &amp;quot;jvmci.Compiler=graal&amp;quot; output is interrupted by some other output:&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
jvmci.CompilerCannot use JVMCI compiler: JVMCI compiler &amp;#39;graal&amp;#39; specified by jvmci.Compiler not found&lt;br/&gt;
&lt;br/&gt;
Cannot use JVMCI compiler: JVMCI compiler &amp;#39;graal&amp;#39; specified by jvmci.Compiler not found&lt;br/&gt;
&lt;br/&gt;
Cannot use JVMCI compiler: JVMCI compiler &amp;#39;graal&amp;#39; specified by jvmci.Compiler not found&lt;br/&gt;
&lt;br/&gt;
Cannot use JVMCI compiler: JVMCI compiler &amp;#39;graal&amp;#39; specified by jvmci.Compiler not found&lt;br/&gt;
&lt;br/&gt;
=graal</comment>
                            <comment id="14724260" author="JIRAUSER21405" created="Wed, 20 Nov 2024 08:19:38 -0800"  >standalone failure replay command:&lt;br/&gt;
rm -rf tmp ; mkdir tmp ; seq 100 | xargs -i -n 1 -P `nproc` bash -c &amp;quot;/home/yansendao/software/jdk/24/jdk-repo-binary/bin/java -cp /home/yansendao/git/jdk/tmp-jtreg-TestEnableJVMCIProduct/index-3/classes/compiler/jvmci/TestEnableJVMCIProduct.d:/home/yansendao/git/jdk/test/hotspot/jtreg/compiler/jvmci:/home/yansendao/git/jdk/tmp-jtreg-TestEnableJVMCIProduct/index-3/classes/test/lib:/home/yansendao/git/jdk/test/lib:/home/yansendao/software/jdk/jtreg-7.4/lib/javatest.jar:/home/yansendao/software/jdk/jtreg-7.4/lib/jtreg.jar -XX:+UnlockExperimentalVMOptions -XX:+UseGraalJIT -XX:-UnlockExperimentalVMOptions -XX:-PrintWarnings -XX:+PrintFlagsFinal --class-path=/home/yansendao/git/jdk/tmp-jtreg-TestEnableJVMCIProduct/index-3/classes/compiler/jvmci/TestEnableJVMCIProduct.d:/home/yansendao/git/jdk/test/hotspot/jtreg/compiler/jvmci:/home/yansendao/git/jdk/tmp-jtreg-TestEnableJVMCIProduct/index-3/classes/test/lib:/home/yansendao/git/jdk/test/lib:/home/yansendao/software/jdk/jtreg-7.4/lib/javatest.jar:/home/yansendao/software/jdk/jtreg-7.4/lib/jtreg.jar -Dtest.thread.factory=Virtual jdk.test.lib.process.ProcessTools Virtual TestEnableJVMCIProduct jvmci.Compiler &amp;amp;&amp;gt; tmp/{}.log&amp;quot;&lt;br/&gt;
grep &amp;quot;jvmci.Compiler=graal&amp;quot; tmp/*.log -L</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5145184">JDK-8345311</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5152510">JDK-8351638</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10002">
                    <name>Duplicate</name>
                                                                <inwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="5147318">JDK-8347082</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="112156" name="298.log" size="79924" author="syan" created="Wed, 20 Nov 2024 08:00:19 -0800"/>
                            <attachment id="112157" name="jt-work.tar.xz" size="109636" author="syan" created="Wed, 20 Nov 2024 08:00:06 -0800"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="19300"><![CDATA[aarch64]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17023"><![CDATA[linux]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i38sjn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17357"><![CDATA[b26]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="208"><![CDATA[compiler]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>