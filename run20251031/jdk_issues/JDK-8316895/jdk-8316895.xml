<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Sat Sep 27 08:54:46 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8316895] SeenThread::print_action_queue called on a null pointer</title>
                <link>https://bugs.openjdk.org/browse/JDK-8316895</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>PlaceholderEntry calls print_action_queue without checking if the thread pointers are non-null. This works because we compile with -fno-delete-null-pointer-checks, and crashes if that flag is removed.&lt;br/&gt;
&lt;br/&gt;
Crash can be observed in test/hotspot/jtreg/runtime/logging/RedefineClasses.java, for example.</description>
                <environment></environment>
        <key id="5111026">JDK-8316895</key>
            <summary>SeenThread::print_action_queue called on a null pointer</summary>
                <type id="5" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14716&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="5111024">JDK-8316893</parent>
                                    <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="djelinski">Daniel Jelinski</assignee>
                                    <reporter username="djelinski">Daniel Jelinski</reporter>
                        <labels>
                            <label>classloading</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                    </labels>
                <created>Mon, 25 Sep 2023 06:12:45 -0700</created>
                <updated>Sat, 11 Jan 2025 13:38:25 -0800</updated>
                            <resolved>Wed, 27 Sep 2023 00:34:45 -0700</resolved>
                                    <version>21</version>
                    <version>22</version>
                                    <fixVersion>22</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14698706" author="mbaesken" created="Fri, 16 Aug 2024 03:03:40 -0700"  >jdk21u-dev backport request&lt;br/&gt;
I would like to have the patch in jdk21u-dev as well, because the issue is present there too. The backport is clean and low risk.</comment>
                            <comment id="14698704" author="roboduke" created="Fri, 16 Aug 2024 02:42:59 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/927&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/927&lt;/a&gt;&lt;br/&gt;
Date: 2024-08-16 09:37:54 +0000</comment>
                            <comment id="14698702" author="mbaesken" created="Fri, 16 Aug 2024 02:29:46 -0700"  >In jdk21u-dev when running with ubsan enabled binaries, I see  this (or similar ?) issue when running runtime/logging/RedefineClasses :&lt;br/&gt;
/jdk21u-dev/src/hotspot/share/classfile/placeholders.cpp:333:37: runtime error: member call on null pointer of type &amp;#39;struct SeenThread&amp;#39;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;#0 0x7f5dedb564d0 in PlaceholderEntry::print_on(outputStream*) const src/hotspot/share/classfile/placeholders.cpp:333&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;#1 0x7f5dedb57095 in log(Symbol*, PlaceholderEntry*, char const*, PlaceholderTable::classloadAction) src/hotspot/share/classfile/placeholders.cpp:246&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;#2 0x7f5dedb57095 in PlaceholderTable::find_and_add(Symbol*, ClassLoaderData*, PlaceholderTable::classloadAction, Symbol*, JavaThread*) src/hotspot/share/classfile/placeholders.cpp:271&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;#3 0x7f5dee293936 in SystemDictionary::resolve_instance_class_or_null(Symbol*, Handle, Handle, JavaThread*) src/hotspot/share/classfile/systemDictionary.cpp:678&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;#4 0x7f5dec9da300 in SystemDictionary::resolve_or_null(Symbol*, JavaThread*) src/hotspot/share/classfile/systemDictionary.hpp:102&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;#5 0x7f5dec9da300 in HeapShared::resolve_or_init(Klass*, bool, JavaThread*) src/hotspot/share/cds/heapShared.cpp:1015&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;#6 0x7f5dec9e1894 in HeapShared::resolve_or_init_classes_for_subgraph_of(Klass*, bool, JavaThread*) src/hotspot/share/cds/heapShared.cpp:993&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;#7 0x7f5dec9e27ae in HeapShared::resolve_classes_for_subgraph_of(JavaThread*, Klass*) src/hotspot/share/cds/heapShared.cpp:918&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;#8 0x7f5dec9e27ae in HeapShared::resolve_classes_for_subgraphs(JavaThread*, ArchivableStaticFieldInfo*) src/hotspot/share/cds/heapShared.cpp:910&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;#9 0x7f5dec9e2a98 in HeapShared::resolve_classes(JavaThread*) src/hotspot/share/cds/heapShared.cpp:900&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;#10 0x7f5dee3ce698 in Universe::genesis(JavaThread*) src/hotspot/share/memory/universe.cpp:355&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;#11 0x7f5dee3d1db3 in universe2_init() src/hotspot/share/memory/universe.cpp:973&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;#12 0x7f5deca5092f in init_globals2() src/hotspot/share/runtime/init.cpp:150&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;#13 0x7f5dee3566e9 in Threads::create_vm(JavaVMInitArgs*, bool*) src/hotspot/share/runtime/threads.cpp:570&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;#14 0x7f5decd3a8ef in JNI_CreateJavaVM_inner src/hotspot/share/prims/jni.cpp:3582&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;#15 0x7f5decd3a8ef in JNI_CreateJavaVM src/hotspot/share/prims/jni.cpp:3673&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;#16 0x7f5df2bd0035 in InitializeJVM src/java.base/share/native/libjli/java.c:1506&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;#17 0x7f5df2bd0035 in JavaMain src/java.base/share/native/libjli/java.c:415&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;#18 0x7f5df2bd9b18 in ThreadJavaMain src/java.base/unix/native/libjli/java_md.c:642&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;#19 0x7f5df2ba26e9 in start_thread (/lib64/libpthread.so.0+0xa6e9) (BuildId: 9a146bd267419cb6a8cf08d7c602953a0f2e12c5)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;#20 0x7f5df24a658e in clone (/lib64/libc.so.6+0x11858e) (BuildId: f2d1cb1ef49f8c47d43a4053910ba6137673ccce)&lt;br/&gt;
&lt;br/&gt;
Should we maybe backport &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8316895&quot; title=&quot;SeenThread::print_action_queue called on a null pointer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8316895&quot;&gt;&lt;strike&gt;JDK-8316895&lt;/strike&gt;&lt;/a&gt; to jdk21u-dev ?</comment>
                            <comment id="14614256" author="dukebot" created="Wed, 27 Sep 2023 00:34:44 -0700"  >Changeset: fd52be2a&lt;br/&gt;
Author:    Daniel Jeli&#324;ski &amp;lt;&lt;a href=&apos;mailto:djelinski@openjdk.org&apos;&gt;djelinski@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-09-27 07:31:44 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/fd52be2a3c53912598afe600d680de77090f9f43&quot;&gt;https://git.openjdk.org/jdk/commit/fd52be2a3c53912598afe600d680de77090f9f43&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14614161" author="roboduke" created="Tue, 26 Sep 2023 11:44:20 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/15932&quot;&gt;https://git.openjdk.org/jdk/pull/15932&lt;/a&gt;&lt;br/&gt;
Date: 2023-09-26 17:24:40 +0000</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5137696">JDK-8339147</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5147775">JDK-8347486</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i338uz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17417"><![CDATA[b17]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="192"><![CDATA[runtime]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>