<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Sat Sep 27 10:17:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8318636] Add jcmd to print annotated process memory map</title>
                <link>https://bugs.openjdk.org/browse/JDK-8318636</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>Analysts and supporters often use /proc/xx/maps to make sense of the memory footprint of a process.&lt;br/&gt;
&lt;br/&gt;
Interpreting the memory map correctly can help when used as a complement to other tools (e.g. NMT). There even exist tools out there that attempt to annotate the process memory map with JVM information.&lt;br/&gt;
&lt;br/&gt;
That, however, can be much more easily and accurately done within the JVM. At least for mappings originating from hotspots, we have the relevant information in NMT.&lt;br/&gt;
&lt;br/&gt;
</description>
                <environment></environment>
        <key id="5112985">JDK-8318636</key>
            <summary>Add jcmd to print annotated process memory map</summary>
                <type id="7" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14707&amp;avatarType=issuetype">Enhancement</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stuefe">Thomas Stuefe</assignee>
                                    <reporter username="stuefe">Thomas Stuefe</reporter>
                        <labels>
                            <label>amazon-interest</label>
                            <label>jcmd</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>os</label>
                            <label>redhat-interest</label>
                            <label>release-note=yes</label>
                    </labels>
                <created>Sun, 22 Oct 2023 02:16:59 -0700</created>
                <updated>Mon, 10 Mar 2025 10:02:43 -0700</updated>
                            <resolved>Mon, 13 Nov 2023 00:28:13 -0800</resolved>
                                    <version>21</version>
                    <version>22</version>
                                    <fixVersion>22</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                                                                                                            <comments>
                            <comment id="14755729" author="sgehwolf" created="Mon, 24 Feb 2025 01:10:56 -0800"  >Agreed. But I think we should defer this one to the July 2025 release (it&amp;#39;s already late in the April cycle).</comment>
                            <comment id="14755538" author="stuefe" created="Fri, 21 Feb 2025 10:41:21 -0800"  >[~sgehwolf] This would be useful to have in 21. Risk is low, Patch is mostly clean apart from code movement and some test changes.</comment>
                            <comment id="14755478" author="roboduke" created="Fri, 21 Feb 2025 04:43:56 -0800"  >[jdk21u-fix-request] Approval Request from Andreas Steiner&lt;br/&gt;
We want to have this very helpful supportability feature in jdk21u-dev too.&lt;br/&gt;
Risk is low because new code is only executed if the new jcmd is used. Patch is mostly clean apart from code movement and some test changes.&lt;br/&gt;
Follow up changes planed: &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8326586,&quot;&gt;https://bugs.openjdk.org/browse/JDK-8326586,&lt;/a&gt; &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8322475&quot;&gt;https://bugs.openjdk.org/browse/JDK-8322475&lt;/a&gt; + &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8335710&quot;&gt;https://bugs.openjdk.org/browse/JDK-8335710&lt;/a&gt;</comment>
                            <comment id="14754829" author="roboduke" created="Wed, 19 Feb 2025 05:31:27 -0800"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/1415&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/1415&lt;/a&gt;&lt;br/&gt;
Date: 2025-02-19 13:25:34 +0000</comment>
                            <comment id="14748826" author="coffeys" created="Tue, 4 Feb 2025 02:23:53 -0800"  >[~stuefe] Thomas - can a release note be created for this enhancement ?</comment>
                            <comment id="14736971" author="coffeys" created="Thu, 9 Jan 2025 03:16:18 -0800"  >[~stuefe] Could a release note be created for this new functionality ? Thanks.&lt;br/&gt;
&lt;br/&gt;
&lt;a href=&quot;https://openjdk.org/guide/#release-notes&quot;&gt;https://openjdk.org/guide/#release-notes&lt;/a&gt;</comment>
                            <comment id="14658684" author="mbaesken" created="Tue, 19 Mar 2024 08:57:04 -0700"  >The dumped process map file is not large , for example :&lt;br/&gt;
ls -alL pmap.txt&lt;br/&gt;
-rw-r--r-- 1   xxxx yyyyy  18223 Mar 19 16:52 pmap.txt&lt;br/&gt;
&lt;br/&gt;
Why don&amp;#39;t we output it in failure case in the test  ?  Would help to analyze the issue.&lt;br/&gt;
&lt;br/&gt;
( Btw. System.dump_map   could be any kind of map, it is not a very  helpful/descriptive name.  Why not  System.dump_pmem_map  (still rather short) or something similar?  )&lt;br/&gt;
</comment>
                            <comment id="14658635" author="mbaesken" created="Tue, 19 Mar 2024 08:16:04 -0700"  >Since March we saw a couple of failures (on linuxx86_64 / linuxaarch64) in our nightlies in the test serviceability/dcmd/vm/SystemDumpMapTest.java.&lt;br/&gt;
(no issues before)&lt;br/&gt;
The failure log output looks like :&lt;br/&gt;
Missing patterns in dump:&lt;br/&gt;
.*0x\\p{XDigit}+ - 0x\\p{XDigit}+ +\\d+.*META.*&lt;br/&gt;
.*0x\\p{XDigit}+ - 0x\\p{XDigit}+ +\\d+.*JAVAHEAP.*&lt;br/&gt;
.*0x\\p{XDigit}+ - 0x\\p{XDigit}+ +\\d+.*STACK.*main.*&lt;br/&gt;
.*0x\\p{XDigit}+ - 0x\\p{XDigit}+ +\\d+.*CODE.*&lt;br/&gt;
test SystemDumpMapTest.jmx(): failure&lt;br/&gt;
java.lang.RuntimeException: java.lang.RuntimeException: Missing patterns&lt;br/&gt;
&lt;br/&gt;
might be interesting to check/output a bit more in failure cases (is the vm_memory_map_&amp;lt;pid&amp;gt;.txt  maybe empty?  Or ends before the expected things ?).</comment>
                            <comment id="14625647" author="dukebot" created="Mon, 13 Nov 2023 00:28:12 -0800"  >Changeset: 6f863b2a&lt;br/&gt;
Author:    Thomas Stuefe &amp;lt;&lt;a href=&apos;mailto:stuefe@openjdk.org&apos;&gt;stuefe@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-11-13 08:26:42 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/6f863b2a1baa67deb2a7b33fcd93d272aea01812&quot;&gt;https://git.openjdk.org/jdk/commit/6f863b2a1baa67deb2a7b33fcd93d272aea01812&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14620028" author="roboduke" created="Sun, 22 Oct 2023 12:27:51 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/16301&quot;&gt;https://git.openjdk.org/jdk/pull/16301&lt;/a&gt;&lt;br/&gt;
Date: 2023-10-22 10:08:49 +0000</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5152427">JDK-8351557</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5114568">JDK-8319948</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5117877">JDK-8322811</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5114487">JDK-8319873</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5114489">JDK-8319875</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5117515">JDK-8322475</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5122297">JDK-8326586</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5131586">JDK-8334026</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                                              <subtask id="5151143">JDK-8350475</subtask>
                                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17023"><![CDATA[linux]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i33kwr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17436"><![CDATA[b24]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="192"><![CDATA[runtime]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>