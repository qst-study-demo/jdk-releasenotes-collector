<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Sat Sep 27 09:43:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8332158] [XWayland] test/jdk/java/awt/Mouse/EnterExitEvents/ResizingFrameTest.java </title>
                <link>https://bugs.openjdk.org/browse/JDK-8332158</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>The test ResizingFrameTest fails with:&lt;br/&gt;
&lt;br/&gt;
java.lang.RuntimeException: No Mouse Entered/Exited events!&lt;br/&gt;
	at ResizingFrameTest.main(ResizingFrameTest.java:155)&lt;br/&gt;
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)&lt;br/&gt;
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.MainWrapper$MainTask.run(MainWrapper.java:138)&lt;br/&gt;
	at java.base/java.lang.Thread.run(Thread.java:1575)&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
It looks like the mouse pointer is no longer in the right place from the XWayland server&amp;#39;s point of view after calling &lt;br/&gt;
frame.setExtendedState(Frame.MAXIMIZED_BOTH);&lt;br/&gt;
&lt;br/&gt;
E.g we have&lt;br/&gt;
```&lt;br/&gt;
robot.mouseMove(500, 500);&lt;br/&gt;
...&lt;br/&gt;
System.out.println(MouseInfo.getPointerInfo().getLocation()); // java.awt.Point[x=500,y=500]&lt;br/&gt;
...&lt;br/&gt;
frame.setExtendedState(Frame.MAXIMIZED_BOTH);&lt;br/&gt;
...&lt;br/&gt;
System.out.println(MouseInfo.getPointerInfo().getLocation()); // java.awt.Point[x=856,y=463] or other location depending on actual mouse cursor position on system&lt;br/&gt;
...&lt;br/&gt;
robot.mouseMove(500, 500); // has no effect&lt;br/&gt;
...&lt;br/&gt;
System.out.println(MouseInfo.getPointerInfo().getLocation()); // still doesn&amp;#39;t print 500, 500&lt;br/&gt;
```&lt;br/&gt;
&lt;br/&gt;
</description>
                <environment></environment>
        <key id="5129346">JDK-8332158</key>
            <summary>[XWayland] test/jdk/java/awt/Mouse/EnterExitEvents/ResizingFrameTest.java </summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://bugs.openjdk.org/images/jbsImages/p3.png">P3</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="azvegint">Alexander Zvegintsev</assignee>
                                    <reporter username="azvegint">Alexander Zvegintsev</reporter>
                        <labels>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>noreg-self</label>
                            <label>sn_176</label>
                            <label>sn_177</label>
                            <label>wayland</label>
                            <label>wayland_x11_compatibility</label>
                    </labels>
                <created>Mon, 13 May 2024 08:26:54 -0700</created>
                <updated>Thu, 30 Jan 2025 08:54:10 -0800</updated>
                            <resolved>Tue, 27 Aug 2024 10:17:59 -0700</resolved>
                                    <version>21</version>
                    <version>22</version>
                    <version>23</version>
                                    <fixVersion>24</fixVersion>
                                    <component>client-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14735309" author="roboduke" created="Fri, 27 Dec 2024 04:02:37 -0800"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/3175&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/3175&lt;/a&gt;&lt;br/&gt;
Date: 2024-12-27 11:56:58 +0000</comment>
                            <comment id="14735308" author="roboduke" created="Fri, 27 Dec 2024 04:02:35 -0800"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/1294&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/1294&lt;/a&gt;&lt;br/&gt;
Date: 2024-12-27 11:56:21 +0000</comment>
                            <comment id="14735305" author="goetz" created="Fri, 27 Dec 2024 03:55:59 -0800"  >Fix request [17u,21u]&lt;br/&gt;
&lt;br/&gt;
I backport this for parity with 17.0.15-oracle,21.0.7-oracle.&lt;br/&gt;
No risk, only a test change&lt;br/&gt;
Clean backport.&lt;br/&gt;
Test passes. SAP nightly testing passed.</comment>
                            <comment id="14701031" author="dukebot" created="Tue, 27 Aug 2024 10:17:58 -0700"  >Changeset: b1b4cd42&lt;br/&gt;
Branch: master&lt;br/&gt;
Author:    Alexander Zvegintsev &amp;lt;&lt;a href=&apos;mailto:azvegint@openjdk.org&apos;&gt;azvegint@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2024-08-27 17:16:09 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/b1b4cd429a4135840966975dd0c068fe428e2ee6&quot;&gt;https://git.openjdk.org/jdk/commit/b1b4cd429a4135840966975dd0c068fe428e2ee6&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14700736" author="roboduke" created="Mon, 26 Aug 2024 12:08:56 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/20717&quot;&gt;https://git.openjdk.org/jdk/pull/20717&lt;/a&gt;&lt;br/&gt;
Date: 2024-08-26 19:02:56 +0000</comment>
                            <comment id="14699242" author="azvegint" created="Mon, 19 Aug 2024 11:58:41 -0700"  >There are two mouse pointer locations on Wayland:&lt;br/&gt;
&lt;br/&gt;
#1 Wayland compositor - can be controlled by a physical mouse device, or libei, this location is visible on a screen and is redirected to #2.&lt;br/&gt;
&lt;br/&gt;
#2 Inside the XWayland server - most of the time this is the same as #1, unless we have changed it programmatically, e.g. by using the XTest extension protocol, but it does not move the mouse cursor in #1.&lt;br/&gt;
Our tests in X11 compatibility mode using this approach(aka java.awt.Robot.mouseMove)&lt;br/&gt;
&lt;br/&gt;
This test moves the mouse cursor to a specific location over a window in #2, which most likely isn&amp;#39;t the same as the visible cursor location in #1.&lt;br/&gt;
If the window was moved/resized and placed under the visible cursor location, that cursor location is also set for #2, and from the test&amp;#39;s perspective, the mouse has just been moved to a different location without the test expecting it, causing unexpected mouse enter/exit events.&lt;br/&gt;
&lt;br/&gt;
We can try to smooth this out with additional robot.mouseMove calls, but it looks like we are missing the point of the test.&lt;br/&gt;
So for now it is better to skip the test on Wayland.&lt;br/&gt;
&lt;br/&gt;
Another way is to use libei to move the visible mouse cursor on the system (&lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8280983&quot; title=&quot;[XWayland] java.awt.Robot emulating keyboard/mouse events&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8280983&quot;&gt;JDK-8280983&lt;/a&gt;), but its support is not yet widespread on supported systems. </comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5147017">JDK-8346843</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5147018">JDK-8346844</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5147019">JDK-8346845</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5147090">JDK-8346899</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5147093">JDK-8346902</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10600">
                    <name>Causes</name>
                                            <outwardlinks description="causes">
                                                        </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17023"><![CDATA[linux]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i36bsj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17339"><![CDATA[b13]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="196"><![CDATA[java.awt]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>