<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Sat Sep 27 09:01:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8326121] vmTestbase/gc/g1/unloading/tests/unloading_keepRef_rootClass_inMemoryCompilation_keep_cl failed with Full gc happened. Test was useless.</title>
                <link>https://bugs.openjdk.org/browse/JDK-8326121</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>The test triggers frequent System.gc() calls which in some cases may aggressively shrink the heap, and subsequent allocations lead to full-GC. This may affect the usefulness of the test, but should not be considered a test failure. &lt;br/&gt;
&lt;br/&gt;
The following test failed in the JDK23 CI:&lt;br/&gt;
&lt;br/&gt;
vmTestbase/gc/g1/unloading/tests/unloading_keepRef_rootClass_inMemoryCompilation_keep_cl/TestDescription.java&lt;br/&gt;
&lt;br/&gt;
Here&amp;#39;s a snippet from the log file:&lt;br/&gt;
&lt;br/&gt;
#section:main&lt;br/&gt;
----------messages:(7/1060)----------&lt;br/&gt;
command: main -Xbootclasspath/a:. -XX:+UnlockDiagnosticVMOptions -XX:+WhiteBoxAPI -XX:+UseG1GC -XX:+ExplicitGCInvokesConcurrent -Xbootclasspath/a:classPool.jar -Xlog:gc:gc.log -XX:-UseGCOverheadLimit gc.g1.unloading.UnloadingTest -keepRefMode STATIC_FIELD_OF_ROOT_CLASS -inMemoryCompilation -keep classloader -numberOfChecksLimit 4 -stressTime 180&lt;br/&gt;
reason: User specified action: run main/othervm -Xbootclasspath/a:. -XX:+UnlockDiagnosticVMOptions -XX:+WhiteBoxAPI -XX:+UseG1GC -XX:+ExplicitGCInvokesConcurrent -Xbootclasspath/a:classPool.jar -Xlog:gc:gc.log -XX:-UseGCOverheadLimit gc.g1.unloading.UnloadingTest -keepRefMode STATIC_FIELD_OF_ROOT_CLASS -inMemoryCompilation -keep classloader -numberOfChecksLimit 4 -stressTime 180 &lt;br/&gt;
started: Sun Feb 18 22:33:06 UTC 2024&lt;br/&gt;
Mode: othervm [/othervm specified]&lt;br/&gt;
Additional options from @modules: --add-modules java.base --add-exports java.base/jdk.internal.misc=ALL-UNNAMED --add-exports java.base/jdk.internal.org.objectweb.asm=ALL-UNNAMED&lt;br/&gt;
finished: Sun Feb 18 22:33:48 UTC 2024&lt;br/&gt;
elapsed time (seconds): 42.244&lt;br/&gt;
----------configuration:(5/210)----------&lt;br/&gt;
&lt;br/&gt;
&amp;lt;snip&amp;gt;&lt;br/&gt;
&lt;br/&gt;
----------System.out:(209/10886)----------&lt;br/&gt;
Stress time: 180 seconds&lt;br/&gt;
Stress iterations factor: 1&lt;br/&gt;
Stress threads factor: 1&lt;br/&gt;
Stress runs factor: 1&lt;br/&gt;
Max memory: 1073741824&lt;br/&gt;
Sleep time: 500&lt;br/&gt;
Iterations: 0&lt;br/&gt;
Number of threads: 24&lt;br/&gt;
Run GC thread: false&lt;br/&gt;
Run mem diag thread: false&lt;br/&gt;
Run forever: false&lt;br/&gt;
releaseRefMode = NONE&lt;br/&gt;
whatToKeep = CLASSLOADER&lt;br/&gt;
classlodingMethod = REFLECTION&lt;br/&gt;
numberOfGCsBeforeCheck = 50&lt;br/&gt;
keepRefMode = STATIC_FIELD_OF_ROOT_CLASS&lt;br/&gt;
humongousClass = false&lt;br/&gt;
compilationLevel = 0&lt;br/&gt;
compilationNumber = 2&lt;br/&gt;
redefineClasses = false&lt;br/&gt;
inMemoryCompilation = false&lt;br/&gt;
numberOfChecksLimit = 4&lt;br/&gt;
For random generator using seed: -9189803049408108649&lt;br/&gt;
To re-run test with same seed value please add &amp;quot;-Djdk.test.lib.random.seed=-9189803049408108649&amp;quot; to command line.&lt;br/&gt;
In method of generated class. Random.nextDouble =  0.7275636800328681&lt;br/&gt;
&amp;nbsp;Printing bytesToReplace0 bytesToReplace2&lt;br/&gt;
In method of generated class. Random.nextDouble =  0.7275636800328681&lt;br/&gt;
&amp;nbsp;Printing bytesToReplace0 bytesToReplace2&lt;br/&gt;
In method of generated class. Random.nextDouble =  0.7275636800328681&lt;br/&gt;
&amp;nbsp;Printing bytesToReplace0 bytesToReplace2&lt;br/&gt;
&lt;br/&gt;
&amp;lt;snip&amp;gt;&lt;br/&gt;
&lt;br/&gt;
In constructor of Class0&lt;br/&gt;
In method of generated class. Random.nextDouble =  0.7275636800328681&lt;br/&gt;
&amp;nbsp;Printing bytesToReplace0 bytesToReplace2&lt;br/&gt;
In method of generated class. Random.nextDouble =  0.7275636800328681&lt;br/&gt;
&amp;nbsp;Printing bytesToReplace0 bytesToReplace2&lt;br/&gt;
In method of generated class. Random.nextDouble =  0.7275636800328681&lt;br/&gt;
&amp;nbsp;Printing bytesToReplace0 bytesToReplace2&lt;br/&gt;
&amp;nbsp;Check OK, class gc.g1.unloading.loading.ClassAbc_0___________, isAlive = false, shouldBeAlive = false&lt;br/&gt;
In method of generated class. Random.nextDouble =  0.7275636800328681&lt;br/&gt;
&amp;nbsp;Printing bytesToReplace0 bytesToReplace2&lt;br/&gt;
In constructor of Class0&lt;br/&gt;
&amp;nbsp;Check OK, class gc.g1.unloading.loading.ClassAbc_1___________, isAlive = false, shouldBeAlive = false&lt;br/&gt;
In method of generated class. Random.nextDouble =  0.7275636800328681&lt;br/&gt;
&amp;nbsp;Printing bytesToReplace0 bytesToReplace2&lt;br/&gt;
In constructor of Class0&lt;br/&gt;
&amp;nbsp;Check OK, class gc.g1.unloading.loading.ClassAbc_2___________, isAlive = true, shouldBeAlive = true&lt;br/&gt;
In method of generated class. Random.nextDouble =  0.7275636800328681&lt;br/&gt;
&amp;nbsp;Printing bytesToReplace0 bytesToReplace2&lt;br/&gt;
In constructor of Class0&lt;br/&gt;
&amp;nbsp;Check OK, class gc.g1.unloading.loading.ClassAbc_3___________, isAlive = false, shouldBeAlive = false&lt;br/&gt;
In method of generated class. Random.nextDouble =  0.7275636800328681&lt;br/&gt;
&amp;nbsp;Printing bytesToReplace0 bytesToReplace2&lt;br/&gt;
In constructor of Class0&lt;br/&gt;
&amp;nbsp;Check OK, class gc.g1.unloading.loading.ClassAbc_4___________, isAlive = true, shouldBeAlive = true&lt;br/&gt;
In method of generated class. Random.nextDouble =  0.7275636800328681&lt;br/&gt;
&amp;nbsp;Printing bytesToReplace0 bytesToReplace2&lt;br/&gt;
&amp;nbsp;Check OK, class gc.g1.unloading.loading.ClassAbc_5___________, isAlive = false, shouldBeAlive = false&lt;br/&gt;
In method of generated class. Random.nextDouble =  0.7275636800328681&lt;br/&gt;
&amp;nbsp;Printing bytesToReplace0 bytesToReplace2&lt;br/&gt;
In constructor of Class0&lt;br/&gt;
&amp;nbsp;Check OK, class gc.g1.unloading.loading.ClassAbc_6___________, isAlive = false, shouldBeAlive = false&lt;br/&gt;
In method of generated class. Random.nextDouble =  0.7275636800328681&lt;br/&gt;
&amp;nbsp;Printing bytesToReplace0 bytesToReplace2&lt;br/&gt;
In constructor of Class0&lt;br/&gt;
&amp;nbsp;Check OK, class gc.g1.unloading.loading.ClassAbc_7___________, isAlive = false, shouldBeAlive = false&lt;br/&gt;
In method of generated class. Random.nextDouble =  0.7275636800328681&lt;br/&gt;
&amp;nbsp;Printing bytesToReplace0 bytesToReplace2&lt;br/&gt;
In constructor of Class0&lt;br/&gt;
&amp;nbsp;Check OK, class gc.g1.unloading.loading.ClassAbc_8___________, isAlive = true, shouldBeAlive = true&lt;br/&gt;
In method of generated class. Random.nextDouble =  0.7275636800328681&lt;br/&gt;
&amp;nbsp;Printing bytesToReplace0 bytesToReplace2&lt;br/&gt;
In constructor of Class0&lt;br/&gt;
&amp;nbsp;Check OK, class gc.g1.unloading.loading.ClassAbc_9___________, isAlive = false, shouldBeAlive = false&lt;br/&gt;
In method of generated class. Random.nextDouble =  0.7275636800328681&lt;br/&gt;
&amp;nbsp;Printing bytesToReplace0 bytesToReplace2&lt;br/&gt;
&amp;nbsp;Check OK, class gc.g1.unloading.loading.ClassAbc_10__________, isAlive = true, shouldBeAlive = true&lt;br/&gt;
Exiting because numberOfChecksLimit exceeded.&lt;br/&gt;
ClassAssertion.getCounterOfCheckedAlive() = 4&lt;br/&gt;
ClassAssertion.getCounterOfCheckedUnloaded() = 7&lt;br/&gt;
bean.getName() = 	&amp;quot;G1 Young Generation&amp;quot;, bean.getCollectionCount() = 	66&lt;br/&gt;
bean.getName() = 	&amp;quot;G1 Concurrent GC&amp;quot;, bean.getCollectionCount() = 	122&lt;br/&gt;
bean.getName() = 	&amp;quot;G1 Old Generation&amp;quot;, bean.getCollectionCount() = 	1&lt;br/&gt;
java.lang.RuntimeException: Full gc happened. Test was useless.&lt;br/&gt;
	at gc.g1.unloading.UnloadingTest.checkGCCounters(UnloadingTest.java:164)&lt;br/&gt;
	at gc.g1.unloading.UnloadingTest.run(UnloadingTest.java:133)&lt;br/&gt;
	at nsk.share.test.Tests$TestRunner.execute(Tests.java:82)&lt;br/&gt;
	at nsk.share.test.Tests$TestRunner.run(Tests.java:96)&lt;br/&gt;
	at nsk.share.test.Tests.runTest(Tests.java:102)&lt;br/&gt;
	at gc.g1.unloading.UnloadingTest.main(UnloadingTest.java:67)&lt;br/&gt;
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)&lt;br/&gt;
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.MainWrapper$MainTask.run(MainWrapper.java:138)&lt;br/&gt;
	at java.base/java.lang.Thread.run(Thread.java:1575)&lt;br/&gt;
----------System.err:(14/786)----------&lt;br/&gt;
nsk.share.TestFailure: Test exit code: 97&lt;br/&gt;
	at nsk.share.test.Tests$TestRunner.execute(Tests.java:90)&lt;br/&gt;
	at nsk.share.test.Tests$TestRunner.run(Tests.java:96)&lt;br/&gt;
	at nsk.share.test.Tests.runTest(Tests.java:102)&lt;br/&gt;
	at gc.g1.unloading.UnloadingTest.main(UnloadingTest.java:67)&lt;br/&gt;
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)&lt;br/&gt;
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.MainWrapper$MainTask.run(MainWrapper.java:138)&lt;br/&gt;
	at java.base/java.lang.Thread.run(Thread.java:1575)&lt;br/&gt;
&lt;br/&gt;
JavaTest Message: Test threw exception: nsk.share.TestFailure: Test exit code: 97&lt;br/&gt;
JavaTest Message: shutting down test&lt;br/&gt;
&lt;br/&gt;
STATUS:Failed.`main&amp;#39; threw exception: nsk.share.TestFailure: Test exit code: 97&lt;br/&gt;
----------rerun:(51/8380)*----------</description>
                <environment></environment>
        <key id="5121778">JDK-8326121</key>
            <summary>vmTestbase/gc/g1/unloading/tests/unloading_keepRef_rootClass_inMemoryCompilation_keep_cl failed with Full gc happened. Test was useless.</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="iwalulya">Ivan Walulya</assignee>
                                    <reporter username="dcubed">Daniel Daugherty</reporter>
                        <labels>
                            <label>gc-g1</label>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>noreg-self</label>
                            <label>tier4</label>
                    </labels>
                <created>Sun, 18 Feb 2024 16:44:59 -0800</created>
                <updated>Tue, 24 Sep 2024 00:47:42 -0700</updated>
                            <resolved>Thu, 30 May 2024 01:33:21 -0700</resolved>
                                    <version>23</version>
                                    <fixVersion>23</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14706249" author="roboduke" created="Thu, 19 Sep 2024 07:17:49 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/991&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/991&lt;/a&gt;&lt;br/&gt;
Date: 2024-09-19 14:08:50 +0000</comment>
                            <comment id="14706248" author="roboduke" created="Thu, 19 Sep 2024 07:16:28 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/2896&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/2896&lt;/a&gt;&lt;br/&gt;
Date: 2024-09-19 14:08:15 +0000</comment>
                            <comment id="14706244" author="goetz" created="Thu, 19 Sep 2024 06:48:45 -0700"  >Fix request [17u,21u]&lt;br/&gt;
&lt;br/&gt;
I backport this for parity with 17.0.14-oracle,21.0.6-oracle.&lt;br/&gt;
No risk, only a test change.&lt;br/&gt;
Clean backport.&lt;br/&gt;
Tests using the modified files pass. SAP nightly testing passed.</comment>
                            <comment id="14677447" author="dukebot" created="Thu, 30 May 2024 01:33:20 -0700"  >Changeset: 2b4a4b7b&lt;br/&gt;
Author:    Ivan Walulya &amp;lt;&lt;a href=&apos;mailto:iwalulya@openjdk.org&apos;&gt;iwalulya@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2024-05-30 08:32:15 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/2b4a4b7bd84806f997adc107abbd4351425e8d1d&quot;&gt;https://git.openjdk.org/jdk/commit/2b4a4b7bd84806f997adc107abbd4351425e8d1d&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14676961" author="dholmes" created="Tue, 28 May 2024 15:57:54 -0700"  >Test: vmTestbase/gc/g1/unloading/tests/unloading_keepRef_rootClass_inMemoryCompilation_keep_obj/TestDescription.java</comment>
                            <comment id="14676897" author="roboduke" created="Tue, 28 May 2024 11:32:10 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/19432&quot;&gt;https://git.openjdk.org/jdk/pull/19432&lt;/a&gt;&lt;br/&gt;
Date: 2024-05-28 15:51:54 +0000</comment>
                            <comment id="14676344" author="tschatzl" created="Mon, 27 May 2024 02:57:50 -0700"  >May also be caused by completely off eden sizing sometimes causing issues (&lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8330847&quot; title=&quot;G1 accesses uninitialized memory when predicting eden copy time&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8330847&quot;&gt;&lt;strike&gt;JDK-8330847&lt;/strike&gt;&lt;/a&gt;)</comment>
                            <comment id="14650378" author="tschatzl" created="Mon, 19 Feb 2024 01:56:58 -0800"  >Looks like a problem with heap sizing/random variation of heap usage.</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5139413">JDK-8340423</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5139414">JDK-8340424</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5139415">JDK-8340425</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5139628">JDK-8340618</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5139649">JDK-8340630</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5127593">JDK-8330847</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="19000"><![CDATA[x86_64]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17005"><![CDATA[windows]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i351sz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17357"><![CDATA[b26]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="209"><![CDATA[gc]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>