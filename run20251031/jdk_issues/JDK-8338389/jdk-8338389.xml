<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Sat Sep 27 09:15:13 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8338389] [JFR] Long strings should be added to the string pool</title>
                <link>https://bugs.openjdk.org/browse/JDK-8338389</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>When committing JFR events with string data longer than 128 characters, the string isn&amp;#39;t added to the JFR string pool.&lt;br/&gt;
&lt;br/&gt;
In scenarios with many events containing large string values, this can lead to very large JFR recordings. This is mostly the case for custom events, containing f.i. SQL strings, or other data. In the case where the string data consist of mostly duplicate data, adding them to the string pool has been shown to reduce the recording size by a factor of 10.&lt;br/&gt;
&lt;br/&gt;
The current scheme for adding strings to the pool adheres to strings 16-128 characters long. In order for a string to be pooled, potential duplicates are cached and checked in a set of four. With this change, the current scheme still holds for lengths 16-128, but strings longer than 128 characters are always pooled.</description>
                <environment></environment>
        <key id="5136797">JDK-8338389</key>
            <summary>[JFR] Long strings should be added to the string pool</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://bugs.openjdk.org/images/jbsImages/p3.png">P3</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jnordstrom">Joakim Nordstr&#246;m</assignee>
                                    <reporter username="jnordstrom">Joakim Nordstr&#246;m</reporter>
                        <labels>
                            <label>11bpr-critical-approved</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>jdk23u-fix-SQE-ok-next</label>
                            <label>jdk23u-fix-request</label>
                            <label>jdk23u-fix-yes</label>
                            <label>regression</label>
                            <label>sustaining</label>
                    </labels>
                <created>Wed, 14 Aug 2024 05:25:19 -0700</created>
                <updated>Mon, 13 Jan 2025 07:08:52 -0800</updated>
                            <resolved>Tue, 27 Aug 2024 06:19:11 -0700</resolved>
                                    <version>11</version>
                                    <fixVersion>24</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                                                                <comments>
                            <comment id="14719005" author="roboduke" created="Mon, 4 Nov 2024 12:48:35 -0800"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/1109&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/1109&lt;/a&gt;&lt;br/&gt;
Date: 2024-10-30 15:26:27 +0000</comment>
                            <comment id="14719004" author="JIRAUSER20703" created="Mon, 4 Nov 2024 12:45:34 -0800"  >Fix request [21u]&lt;br/&gt;
I backport this for parity with 21.0.6-oracle. &lt;br/&gt;
Patch is clean. &lt;br/&gt;
Testing: added test case passes. Tier 1 passes with GHA. &lt;br/&gt;
</comment>
                            <comment id="14705435" author="roboduke" created="Tue, 17 Sep 2024 00:10:29 -0700"  >[jdk23u-fix-request] Approval Request from Joakim Nordstr&amp;#xF6;m&lt;br/&gt;
Adds long string from JFR events to JFR StringPool, in order to decrease size of recordings. Applies clean and tested.</comment>
                            <comment id="14705261" author="roboduke" created="Mon, 16 Sep 2024 07:29:00 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk23u/pull/97&quot;&gt;https://git.openjdk.org/jdk23u/pull/97&lt;/a&gt;&lt;br/&gt;
Date: 2024-09-16 14:23:36 +0000</comment>
                            <comment id="14705257" author="jnordstrom" created="Mon, 16 Sep 2024 07:13:00 -0700"  >Yes, it should go to 23 too. Excuse my tardiness.</comment>
                            <comment id="14704966" author="goetz" created="Sun, 15 Sep 2024 01:44:42 -0700"  >[~jnordstrom][~coffeys], shouldn&amp;#39;t this go to 23, too?</comment>
                            <comment id="14700930" author="dukebot" created="Tue, 27 Aug 2024 06:19:10 -0700"  >Changeset: d5c6158c&lt;br/&gt;
Branch: master&lt;br/&gt;
Author:    Joakim Nordstr&amp;#xF6;m &amp;lt;&lt;a href=&apos;mailto:jnordstrom@openjdk.org&apos;&gt;jnordstrom@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Committer: Markus Gr&amp;#xF6;nlund &amp;lt;&lt;a href=&apos;mailto:mgronlun@openjdk.org&apos;&gt;mgronlun@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2024-08-27 13:17:21 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/d5c6158cedfd96a9f97d83355b10730b81274648&quot;&gt;https://git.openjdk.org/jdk/commit/d5c6158cedfd96a9f97d83355b10730b81274648&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14698488" author="roboduke" created="Thu, 15 Aug 2024 06:24:31 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/20596&quot;&gt;https://git.openjdk.org/jdk/pull/20596&lt;/a&gt;&lt;br/&gt;
Date: 2024-08-15 13:16:24 +0000</comment>
                            <comment id="14698238" author="jnordstrom" created="Wed, 14 Aug 2024 05:51:03 -0700"  >ILW=HLM=P3, Impact: fills up disk with much data; Likelihood: only happens with maxsize/maxage not set, and having custom JFR events with large string data; Workaround: in order to get all data (reason for not having maxage/maxsize), there is no real workaround besides making sure to have lots of disk space.</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5138643">JDK-8339732</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5139978">JDK-8340942</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5144147">JDK-8344416</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5140279">JDK-8341193</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10000">
                    <name>Blocks</name>
                                            <outwardlinks description="blocks">
                                                        </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10002">
                    <name>Duplicate</name>
                                                                <inwardlinks description="duplicates">
                                                        </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                                                <inwardlinks description="relates to">
                                                        </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37k4b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17339"><![CDATA[b13]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="374"><![CDATA[jfr]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>