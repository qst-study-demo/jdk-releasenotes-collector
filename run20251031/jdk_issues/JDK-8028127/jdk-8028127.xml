<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Sat Sep 27 08:51:44 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8028127] Regtest java/security/Security/SynchronizedAccess.java is incorrect</title>
                <link>https://bugs.openjdk.org/browse/JDK-8028127</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>We&amp;#39;re creating a bunch of threads which create several local providers which are added to the security framework.  However, those providers we&amp;#39;re adding/removing are potentially lost when the following is called in the AccessorThread at the end of the loop:&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;provs = Security.getProviders();&lt;br/&gt;
&lt;br/&gt;
This will start adding/removing some of the system providers, in addition to the local providers.  I don&amp;#39;t understand this, and think this was not the intent.&lt;br/&gt;
&lt;br/&gt;
Also, with the rewrite of the delayed provider selection and without an implementation of sigimpl, I don&amp;#39;t think we&amp;#39;ll ever be getting to the removeProvider code, it&amp;#39;s always going to be failing the getInstance call.&lt;br/&gt;
In addition, this test is failing on windows-i586 with the server compiler only.  See 6915983.  Could be -sameVM issue.&lt;br/&gt;
&lt;br/&gt;
windows_i586-product-c2-jdk_security1&lt;br/&gt;
&lt;br/&gt;
TEST: java/security/Security/SynchronizedAccess.java&lt;br/&gt;
JDK under test: (C:\temp\jprt\T1\T\182757~1.SS1\TESTPR~1\WINDOW~1.0-P)&lt;br/&gt;
java version &amp;quot;1.7.0-2010-02-10-182757.ss145989.tl-pit-jtreg&amp;quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.7.0-2010-02-10-182757.ss145989.tl-pit-j&lt;br/&gt;
treg-administrator_2010_02_10_11_28-b00)&lt;br/&gt;
Java HotSpot(TM) Server VM (build 17.0-b08, mixed mode)&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
ACTION: build -- Passed. Build successful&lt;br/&gt;
REASON: Named class compiled on demand&lt;br/&gt;
TIME:   0.468 seconds&lt;br/&gt;
messages:&lt;br/&gt;
command: build SynchronizedAccess&lt;br/&gt;
reason: Named class compiled on demand&lt;br/&gt;
elapsed time (seconds): 0.468&lt;br/&gt;
&lt;br/&gt;
ACTION: compile -- Passed. Compilation successful&lt;br/&gt;
REASON: .class file out of date or does not exist&lt;br/&gt;
TIME:   0.437 seconds&lt;br/&gt;
messages:&lt;br/&gt;
command: compile C:\temp\jprt\T1\T\182757.ss145989\source\test\java\security\Sec&lt;br/&gt;
urity\SynchronizedAccess.java&lt;br/&gt;
reason: .class file out of date or does not exist&lt;br/&gt;
elapsed time (seconds): 0.437&lt;br/&gt;
&lt;br/&gt;
ACTION: main -- Error. Error while cleaning up threads after test&lt;br/&gt;
REASON: Assumed action based on file name: run main SynchronizedAccess&lt;br/&gt;
TIME:   124.844 seconds&lt;br/&gt;
messages:&lt;br/&gt;
command: main SynchronizedAccess&lt;br/&gt;
reason: Assumed action based on file name: run main SynchronizedAccess&lt;br/&gt;
elapsed time (seconds): 124.844&lt;br/&gt;
STDOUT:&lt;br/&gt;
STDERR:&lt;br/&gt;
&lt;br/&gt;
TEST RESULT: Error. Error while cleaning up threads after test&lt;br/&gt;
</description>
                <environment></environment>
        <key id="4321881">JDK-8028127</key>
            <summary>Regtest java/security/Security/SynchronizedAccess.java is incorrect</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://bugs.openjdk.org/images/jbsImages/p3.png">P3</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fguallini">Fernando Guallini</assignee>
                                    <reporter username="wetmore">Bradford Wetmore</reporter>
                        <labels>
                            <label>7-wnf</label>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>jdk23u-fix-SQE-ok-next</label>
                            <label>jdk23u-fix-request</label>
                            <label>jdk23u-fix-yes</label>
                            <label>jdkCntr</label>
                            <label>noreg-self</label>
                            <label>testbug</label>
                    </labels>
                <created>Thu, 11 Feb 2010 13:57:20 -0800</created>
                <updated>Tue, 24 Sep 2024 01:04:07 -0700</updated>
                            <resolved>Thu, 18 Jul 2024 15:37:59 -0700</resolved>
                                    <version>7</version>
                    <version>8</version>
                    <version>9</version>
                                    <fixVersion>24</fixVersion>
                                    <component>security-libs</component>
                        <due>Fri, 31 May 2024 00:00:00 +0000</due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="14706945" author="roboduke" created="Mon, 23 Sep 2024 03:30:21 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/2909&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/2909&lt;/a&gt;&lt;br/&gt;
Date: 2024-09-23 10:23:42 +0000</comment>
                            <comment id="14706943" author="goetz" created="Mon, 23 Sep 2024 03:19:48 -0700"  >Fix request [17u]&lt;br/&gt;
&lt;br/&gt;
I backport this for parity with 17.0.14-oracle.&lt;br/&gt;
No risk, only a test change.&lt;br/&gt;
Clean backport.&lt;br/&gt;
Test passes. SAP nightly testing passes.&lt;br/&gt;
</comment>
                            <comment id="14699247" author="roboduke" created="Mon, 19 Aug 2024 13:10:04 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/934&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/934&lt;/a&gt;&lt;br/&gt;
Date: 2024-08-19 17:14:54 +0000</comment>
                            <comment id="14699246" author="JIRAUSER20703" created="Mon, 19 Aug 2024 13:07:44 -0700"  >Fix request [21u] &lt;br/&gt;
I backport this for parity with 21.0.6-oracle. &lt;br/&gt;
Low risk as it only involves a test change. Patch is clean.&lt;br/&gt;
Modified test passes and tier 1 passes with GHA. &lt;br/&gt;
&lt;br/&gt;
</comment>
                            <comment id="14695039" author="roboduke" created="Thu, 1 Aug 2024 00:07:05 -0700"  >[jdk23u-fix-request] Approval Request from Shivangi Gupta&lt;br/&gt;
test fix,no risk</comment>
                            <comment id="14695038" author="roboduke" created="Thu, 1 Aug 2024 00:01:50 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk23u/pull/50&quot;&gt;https://git.openjdk.org/jdk23u/pull/50&lt;/a&gt;&lt;br/&gt;
Date: 2024-08-01 06:56:35 +0000</comment>
                            <comment id="14691091" author="dukebot" created="Thu, 18 Jul 2024 15:37:58 -0700"  >Changeset: 330e520c&lt;br/&gt;
Branch: master&lt;br/&gt;
Author:    Fernando Guallini &amp;lt;&lt;a href=&apos;mailto:fguallini@openjdk.org&apos;&gt;fguallini@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2024-07-18 22:36:26 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/330e520c1d42d3a9f3e187873dcd8ed7fd561aaf&quot;&gt;https://git.openjdk.org/jdk/commit/330e520c1d42d3a9f3e187873dcd8ed7fd561aaf&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14690359" author="wetmore" created="Tue, 16 Jul 2024 16:24:08 -0700"  >More details in the PR review.</comment>
                            <comment id="14689926" author="wetmore" created="Mon, 15 Jul 2024 17:40:01 -0700"  >Much of this test was originally broken, or else the author included code that wasn&amp;#39;t expected to run.  &lt;br/&gt;
&lt;br/&gt;
Because there was no actual sigimpl, the Signature.getInstance(&amp;quot;sigalg&amp;quot;) would always return a NSAE, and thus the subsequent removeProvider/getProviders would not be called.  &lt;br/&gt;
&lt;br/&gt;
After the first provider name0 was added, subsequent addProvider calls would return -1, thus not actually installing additional providers, and only 10 providers would ever be installed.&lt;br/&gt;
&lt;br/&gt;
It is also reassigning the provs variable with Security.getProviders(). This could add/remove some of the system providers, in addition to the local providers, which is likely not the test intent.</comment>
                            <comment id="14689923" author="wetmore" created="Mon, 15 Jul 2024 17:29:03 -0700"  >It was challenging to figure out all the issues and updates that have occurred over the years:&lt;br/&gt;
&lt;br/&gt;
4162583:  original bug fixed/test written.  There were a number of problems with the original test.&lt;br/&gt;
&lt;br/&gt;
8028127:  (this bug) This test started failing on Windows for some reason.  (unknown precisely why at this point)&lt;br/&gt;
&lt;br/&gt;
6915983:  test was added to ProblemList.txt in 2010&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;# Unknown problem, could be a jtreg -samevm issue?&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;#  Error while cleaning up threads after test&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;java/security/Security/SynchronizedAccess.java			generic-all&lt;br/&gt;
&lt;br/&gt;
7054981:  Test was removed from ProblemList.txt in 2012 during a test bug cleanup.  Approach was to snapshot/restore the providers.  The safer approach could have been to use --othervm, but I&amp;#39;m guessing the VM startup performance was of more concern than the faster startups we have now.  By simply restoring the provider list captured at the beginning of the test, this *SHOULD* reset the providers in this VM back to the original setup assuming no other failures.&lt;br/&gt;
&lt;br/&gt;
</comment>
                            <comment id="14677537" author="roboduke" created="Thu, 30 May 2024 08:10:41 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/19480&quot;&gt;https://git.openjdk.org/jdk/pull/19480&lt;/a&gt;&lt;br/&gt;
Date: 2024-05-30 14:01:20 +0000</comment>
                            <comment id="13618015" author="rhalade" created="Wed, 11 Mar 2015 09:59:30 -0700"  >The test is not so clear to me, how does it certain that provider api implementations are synchronized properly? At the minimum, test needs to be fixed to use othervm, implement sigalg, and remove call to getProviders() as Brad suggested above.</comment>
                            <comment id="13426660" author="asmotrak" created="Mon, 11 Nov 2013 06:27:33 -0800"  >This is a bug for regression test that is located in the JDK ws (&lt;a href=&quot;http://hg.openjdk.java.net/jdk7u/jdk7u-dev/jdk/file/tip/test/java/security/Security/SynchronizedAccess.java),&quot;&gt;http://hg.openjdk.java.net/jdk7u/jdk7u-dev/jdk/file/tip/test/java/security/Security/SynchronizedAccess.java),&lt;/a&gt; so I am moving the bug to JDK project.</comment>
                            <comment id="12477814" author="wetmore" created="Tue, 17 Aug 2010 17:18:36 -0700"  >BT2:EVALUATION&lt;br/&gt;
&lt;br/&gt;
In the ProblemList file, there&amp;#39;s a comment.  Could this be a -samevm issue?</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5136635">JDK-8338241</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5136639">JDK-8338245</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5136640">JDK-8338246</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5136641">JDK-8338247</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5139171">JDK-8340204</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5139803">JDK-8340778</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="4224409">JDK-4162583</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="4896609">JDK-8163571</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17008"><![CDATA[generic]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10001" key="com.atlassian.jira.plugin.system.customfieldtypes:datetime">
                        <customfieldname>Imported</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 17 Sep 2012 10:19:49 -0700</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10002" key="com.atlassian.jira.plugin.system.customfieldtypes:datetime">
                        <customfieldname>Indexed</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 20 Jul 2012 01:50:04 -0700</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17010"><![CDATA[generic]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ikjr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>108306</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17337"><![CDATA[b08]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="195"><![CDATA[java.security]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>