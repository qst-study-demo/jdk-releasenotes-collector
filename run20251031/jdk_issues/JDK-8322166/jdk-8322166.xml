<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Sat Sep 27 08:59:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8322166] Files.isReadable/isWritable/isExecutable expensive when file does not exist</title>
                <link>https://bugs.openjdk.org/browse/JDK-8322166</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>ADDITIONAL SYSTEM INFORMATION :&lt;br/&gt;
Tested on OpenJDK 21.0.1 on Ubuntu Linux 64, but behavior goes back to JDK 7.&lt;br/&gt;
&lt;br/&gt;
A DESCRIPTION OF THE PROBLEM :&lt;br/&gt;
The method Files.isAccessible() are implemented on checkAccess so need to catch the IOException when the file does not exist or access can&amp;#39;t be determined.&lt;br/&gt;
When using Files.isReadable() / isWritable() / isExecutable(), we check only for one mode. The native code in UnixNativeDispatcher.c / Java_sun_nio_fs_UnixNativeDispatcher_access0() is able to give us an error code if the single mode we ask for is not valid for the file.&lt;br/&gt;
Since we are asking for a single mode, we could translate the value of error code to a boolean directly, instead of creating an exception with is caught in Files.isAccessible() to return a boolean.&lt;br/&gt;
&lt;br/&gt;
I&amp;#39;ve tested a patch available here : &lt;a href=&quot;https://github.com/gdarmont/jdk/commit/5d0128fde225844cf9155505ea005ad50fc74a8c&quot;&gt;https://github.com/gdarmont/jdk/commit/5d0128fde225844cf9155505ea005ad50fc74a8c&lt;/a&gt;&lt;br/&gt;
The performance improvement is especially visible on use cases where a call to Files.isXXX() is likely to fail.&lt;br/&gt;
This is for example the case when checking if many files are executable, as it is expected that most of them are not. &lt;br/&gt;
&lt;br/&gt;
Eg. the well known JGit library (Java Git Implementation) is affected, as it needs to check if a file is executable to compute Git mode attributes.&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
</description>
                <environment></environment>
        <key id="5117029">JDK-8322166</key>
            <summary>Files.isReadable/isWritable/isExecutable expensive when file does not exist</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bpb">Brian Burkhalter</assignee>
                                    <reporter username="webbuggrp">Webbug Group</reporter>
                        <labels>
                            <label>amazon-interest</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>noreg-perf</label>
                            <label>webbug</label>
                    </labels>
                <created>Thu, 14 Dec 2023 09:00:58 -0800</created>
                <updated>Fri, 20 Sep 2024 08:38:31 -0700</updated>
                            <resolved>Tue, 19 Dec 2023 10:29:26 -0800</resolved>
                                    <version>21</version>
                    <version>22</version>
                                    <fixVersion>23</fixVersion>
                                    <component>core-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14698840" author="roboduke" created="Fri, 16 Aug 2024 12:39:40 -0700"  >[jdk21u-fix-request] Approval Request from Todd V. Jonker&lt;br/&gt;
Clean backport of a performance fix; originally authored by @bplb and reviewed by @AlanBateman</comment>
                            <comment id="14698774" author="roboduke" created="Fri, 16 Aug 2024 08:14:55 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/926&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/926&lt;/a&gt;&lt;br/&gt;
Date: 2024-08-16 00:23:54 +0000</comment>
                            <comment id="14635568" author="dukebot" created="Tue, 19 Dec 2023 10:29:25 -0800"  >Changeset: 51be857f&lt;br/&gt;
Author:    Brian Burkhalter &amp;lt;&lt;a href=&apos;mailto:bpb@openjdk.org&apos;&gt;bpb@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-12-19 18:27:06 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/51be857f3cafa23eb7cd73e5fe3db17e6d01684c&quot;&gt;https://git.openjdk.org/jdk/commit/51be857f3cafa23eb7cd73e5fe3db17e6d01684c&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14634755" author="roboduke" created="Fri, 15 Dec 2023 14:56:10 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/17133&quot;&gt;https://git.openjdk.org/jdk/pull/17133&lt;/a&gt;&lt;br/&gt;
Date: 2023-12-15 22:49:33 +0000</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5139549">JDK-8340550</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17008"><![CDATA[generic]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17010"><![CDATA[generic]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i34917:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17305"><![CDATA[b03]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="228"><![CDATA[java.nio]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>