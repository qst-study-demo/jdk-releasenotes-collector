<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Sat Sep 27 10:10:54 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8305010] Test vmTestbase/nsk/jvmti/scenarios/sampling/SP05/sp05t003/TestDescription.java timed out: thread not suspended</title>
                <link>https://bugs.openjdk.org/browse/JDK-8305010</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>----------System.out:(9/534)----------&lt;br/&gt;
The following fake exception stacktrace is for failure analysis. &lt;br/&gt;
nsk.share.Fake_Exception_for_RULE_Creation: (sp05t003.cpp:220) jvmti-&amp;gt;ResumeThread(threadsList[i])&lt;br/&gt;
	at nsk_lvcomplain(nsk_tools.cpp:172)&lt;br/&gt;
# ERROR: sp05t003.cpp, 220: jvmti-&amp;gt;ResumeThread(threadsList[i])&lt;br/&gt;
#   jvmti error: code=13, name=JVMTI_ERROR_THREAD_NOT_SUSPENDED&lt;br/&gt;
# ERROR: agent_tools.cpp, 324: No status sync occured for timeout: 300000 ms&lt;br/&gt;
# ERROR: sp05t003.cpp, 195: nsk_jvmti_waitForSync(timeout)&lt;br/&gt;
#   verified assertion is FALSE&lt;br/&gt;
Timeout refired 480 times</description>
                <environment></environment>
        <key id="5097219">JDK-8305010</key>
            <summary>Test vmTestbase/nsk/jvmti/scenarios/sampling/SP05/sp05t003/TestDescription.java timed out: thread not suspended</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="amenkov">Alex Menkov</assignee>
                                    <reporter username="dholmes">David Holmes</reporter>
                        <labels>
                            <label>8u-tier5</label>
                            <label>intermittent</label>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>jdk24u-fix-SQE-ok-next</label>
                            <label>jdk24u-fix-request</label>
                            <label>jdk24u-fix-yes</label>
                            <label>noreg-self</label>
                            <label>tier5</label>
                            <label>tier6</label>
                    </labels>
                <created>Mon, 27 Mar 2023 23:01:56 -0700</created>
                <updated>Wed, 16 Apr 2025 06:20:05 -0700</updated>
                            <resolved>Tue, 10 Dec 2024 17:41:52 -0800</resolved>
                                    <version>8</version>
                    <version>21</version>
                    <version>22</version>
                    <version>23</version>
                    <version>24</version>
                                    <fixVersion>25</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                                                                                                            <comments>
                            <comment id="14770120" author="goetz" created="Tue, 15 Apr 2025 01:14:19 -0700"  >Fix request [17u,21u]&lt;br/&gt;
&lt;br/&gt;
I backport this for parity with 17.0.16-oracle,21.0.8-oracle.&lt;br/&gt;
No risk, only a test change&lt;br/&gt;
Clean backport.&lt;br/&gt;
Test passes. SAP nighlty testing passed.</comment>
                            <comment id="14769466" author="roboduke" created="Sun, 13 Apr 2025 12:16:29 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/3490&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/3490&lt;/a&gt;&lt;br/&gt;
Date: 2025-04-13 19:10:52 +0000</comment>
                            <comment id="14769465" author="roboduke" created="Sun, 13 Apr 2025 12:14:33 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/1645&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/1645&lt;/a&gt;&lt;br/&gt;
Date: 2025-04-13 19:10:19 +0000</comment>
                            <comment id="14763354" author="roboduke" created="Mon, 24 Mar 2025 06:21:34 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk24u/pull/151&quot;&gt;https://git.openjdk.org/jdk24u/pull/151&lt;/a&gt;&lt;br/&gt;
Date: 2025-03-20 09:15:06 +0000</comment>
                            <comment id="14763353" author="roboduke" created="Mon, 24 Mar 2025 06:19:13 -0700"  >[jdk24u-fix-request] Approval Request from Shyam Kishor&lt;br/&gt;
Clean backport. vmTestbase/nsk/jvmti/scenarios/sampling/SP05/sp05t003/TestDescription.java timed out: thread not suspended</comment>
                            <comment id="14730916" author="dukebot" created="Tue, 10 Dec 2024 17:41:51 -0800"  >Changeset: 2ddaa460&lt;br/&gt;
Branch: master&lt;br/&gt;
Author:    Alex Menkov &amp;lt;&lt;a href=&apos;mailto:amenkov@openjdk.org&apos;&gt;amenkov@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2024-12-11 01:37:31 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/2ddaa460545e043008aaf0b7ce33191b7c588833&quot;&gt;https://git.openjdk.org/jdk/commit/2ddaa460545e043008aaf0b7ce33191b7c588833&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14727999" author="roboduke" created="Tue, 3 Dec 2024 19:11:44 -0800"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/22532&quot;&gt;https://git.openjdk.org/jdk/pull/22532&lt;/a&gt;&lt;br/&gt;
Date: 2024-12-04 03:07:46 +0000</comment>
                            <comment id="14727578" author="amenkov" created="Mon, 2 Dec 2024 16:56:27 -0800"  >Looks like the reason of the failures is a race between ThreadStart/ThreadEnd callbacks and agent thread.&lt;br/&gt;
After signalling main test thread to perform required action (start/end tested threads) agent thread waits until event counter (eventsStart/eventsEnd) reaches 2 and then performs verification and tries to resume the test threads.&lt;br/&gt;
The callbacks increment corresponding event counter and then suspend the thread (the callbacks contain comments that the counters must be updated before suspend).&lt;br/&gt;
So agent thread can try to resume test threads which are not yet suspended by callbacks.&lt;br/&gt;
</comment>
                            <comment id="14717378" author="amenkov" created="Tue, 29 Oct 2024 11:50:21 -0700"  >The test creates only platform threads, so it does not need VirtualThreadStart callback.&lt;br/&gt;
Most failures are without JTREG_TEST_THREAD_FACTORY=Virtual&lt;br/&gt;
</comment>
                            <comment id="14713034" author="sspitsyn" created="Tue, 15 Oct 2024 05:19:10 -0700"  >The threads are supposed to be suspended in the callbackThreadStart event callback.&lt;br/&gt;
This does not work for virtual threads which have VirtualThreadStart event instead of ThreadStart.&lt;br/&gt;
The test must be adopted to be able to correctly run with virtual threads. </comment>
                            <comment id="14676189" author="dholmes" created="Sun, 26 May 2024 15:57:28 -0700"  >jdk-23+25-2041-tier5&lt;br/&gt;
&lt;br/&gt;
&lt;a href=&quot;https://mach5.us.oracle.com/mdash/jobs/mach5-one-jdk-23+25-2041-tier5-20240526-0517-11256838/tasks/mach5-one-jdk-23+25-2041-tier5-20240526-0517-11256838-tier5-rt-JFR-vmTestbase_nsk_jvmti_quick-windows-x64-debug-874/results?search=%28%28status%3A%28failed%20OR%20FAILED%29%20AND%20-state%3Ainvalid%29%20OR%20%28status%3AEXECUTED_WITH_FAILURE%20AND%20taskType%3Abuild%20AND%20-state%3Ainvalid%29%29&quot;&gt;https://mach5.us.oracle.com/mdash/jobs/mach5-one-jdk-23+25-2041-tier5-20240526-0517-11256838/tasks/mach5-one-jdk-23+25-2041-tier5-20240526-0517-11256838-tier5-rt-JFR-vmTestbase_nsk_jvmti_quick-windows-x64-debug-874/results?search=%28%28status%3A%28failed%20OR%20FAILED%29%20AND%20-state%3Ainvalid%29%20OR%20%28status%3AEXECUTED_WITH_FAILURE%20AND%20taskType%3Abuild%20AND%20-state%3Ainvalid%29%29&lt;/a&gt;</comment>
                            <comment id="14636310" author="dcubed" created="Sat, 23 Dec 2023 06:42:38 -0800"  >Here&amp;#39;s a snippet from the jdk-23+4-146-tier6 sighting:&lt;br/&gt;
&lt;br/&gt;
vmTestbase/nsk/jvmti/scenarios/sampling/SP05/sp05t003/TestDescription.java&lt;br/&gt;
&lt;br/&gt;
#section:main&lt;br/&gt;
----------messages:(8/413)----------&lt;br/&gt;
command: main -agentlib:sp05t003=-waittime=5 nsk.jvmti.scenarios.sampling.SP05.sp05t003&lt;br/&gt;
reason: User specified action: run main/othervm/native -agentlib:sp05t003=-waittime=5 nsk.jvmti.scenarios.sampling.SP05.sp05t003 &lt;br/&gt;
started: Sat Dec 23 11:31:16 UTC 2023&lt;br/&gt;
Mode: othervm [/othervm specified]&lt;br/&gt;
Timeout information:&lt;br/&gt;
--- Timeout information end.&lt;br/&gt;
finished: Sat Dec 23 11:52:21 UTC 2023&lt;br/&gt;
elapsed time (seconds): 1265.355&lt;br/&gt;
----------configuration:(0/0)----------&lt;br/&gt;
----------System.out:(9/536)----------&lt;br/&gt;
The following fake exception stacktrace is for failure analysis. &lt;br/&gt;
nsk.share.Fake_Exception_for_RULE_Creation: (sp05t003.cpp:220) jvmti-&amp;gt;ResumeThread(threadsList[i])&lt;br/&gt;
	at nsk_lvcomplain(nsk_tools.cpp:172)&lt;br/&gt;
# ERROR: sp05t003.cpp, 220: jvmti-&amp;gt;ResumeThread(threadsList[i])&lt;br/&gt;
#   jvmti error: code=13, name=JVMTI_ERROR_THREAD_NOT_SUSPENDED&lt;br/&gt;
# ERROR: agent_tools.cpp, 324: No status sync occured for timeout: 300000 ms&lt;br/&gt;
# ERROR: sp05t003.cpp, 195: nsk_jvmti_waitForSync(timeout)&lt;br/&gt;
#   verified assertion is FALSE&lt;br/&gt;
Timeout signalled after 1200 seconds&lt;br/&gt;
----------System.err:(0/0)----------&lt;br/&gt;
----------rerun:(37/8138)*----------</comment>
                            <comment id="14617566" author="dcubed" created="Wed, 11 Oct 2023 09:29:38 -0700"  >Here&amp;#39;s a log file snippet for the jdk-22+19-1467-tier5 sighting:&lt;br/&gt;
&lt;br/&gt;
vmTestbase/nsk/jvmti/scenarios/sampling/SP05/sp05t003/TestDescription.java&lt;br/&gt;
&lt;br/&gt;
#section:main&lt;br/&gt;
----------messages:(8/412)----------&lt;br/&gt;
command: main -agentlib:sp05t003=-waittime=5 nsk.jvmti.scenarios.sampling.SP05.sp05t003&lt;br/&gt;
reason: User specified action: run main/othervm/native -agentlib:sp05t003=-waittime=5 nsk.jvmti.scenarios.sampling.SP05.sp05t003 &lt;br/&gt;
started: Wed Oct 11 16:11:30 GMT 2023&lt;br/&gt;
Mode: othervm [/othervm specified]&lt;br/&gt;
Timeout information:&lt;br/&gt;
--- Timeout information end.&lt;br/&gt;
finished: Wed Oct 11 16:20:24 GMT 2023&lt;br/&gt;
elapsed time (seconds): 534.135&lt;br/&gt;
----------configuration:(0/0)----------&lt;br/&gt;
----------System.out:(9/535)----------&lt;br/&gt;
The following fake exception stacktrace is for failure analysis. &lt;br/&gt;
nsk.share.Fake_Exception_for_RULE_Creation: (sp05t003.cpp:220) jvmti-&amp;gt;ResumeThread(threadsList[i])&lt;br/&gt;
	at nsk_lvcomplain(nsk_tools.cpp:172)&lt;br/&gt;
# ERROR: sp05t003.cpp, 220: jvmti-&amp;gt;ResumeThread(threadsList[i])&lt;br/&gt;
#   jvmti error: code=13, name=JVMTI_ERROR_THREAD_NOT_SUSPENDED&lt;br/&gt;
# ERROR: agent_tools.cpp, 324: No status sync occured for timeout: 300000 ms&lt;br/&gt;
# ERROR: sp05t003.cpp, 195: nsk_jvmti_waitForSync(timeout)&lt;br/&gt;
#   verified assertion is FALSE&lt;br/&gt;
Timeout signalled after 480 seconds&lt;br/&gt;
----------System.err:(0/0)----------&lt;br/&gt;
----------rerun:(41/8884)*----------</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5154306">JDK-8353204</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5155579">JDK-8354352</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5155580">JDK-8354353</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5155581">JDK-8354354</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5155582">JDK-8354355</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5155890">JDK-8354642</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5156172">JDK-8354846</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                                                <inwardlinks description="relates to">
                                                        </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                                              <subtask id="5142517">JDK-8343103</subtask>
                                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17008"><![CDATA[generic]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17010"><![CDATA[generic]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i30wob:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17317"><![CDATA[b02]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="372"><![CDATA[jvmti]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>