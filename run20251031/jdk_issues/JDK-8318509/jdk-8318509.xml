<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Sat Sep 27 10:16:54 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8318509] x86 count_positives intrinsic broken for -XX:AVX3Threshold=0</title>
                <link>https://bugs.openjdk.org/browse/JDK-8318509</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>The code emitted for the count_positives intrinsic is broken when running under the diagnostic option: -XX:UseAVX=3 -XX:+UnlockDiagnosticVMOptions -XX:+AVX3Threshold=0: the len register is repurposed and overwritten, but the tail logic then wrongly assumes len still holds the original value. This means the value returned can be almost arbitrary, with random crashes etc as a result. This bug was introduced by changes in &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8281146&quot; title=&quot;Replace StringCoding.hasNegatives with countPositives&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8281146&quot;&gt;&lt;strike&gt;JDK-8281146&lt;/strike&gt;&lt;/a&gt; and went undetected due lack of coverage by tests. &lt;br/&gt;
&lt;br/&gt;
The proposed fix is to reconstitute the tail part of len from tmp1 before  jumping into the tail block.</description>
                <environment></environment>
        <key id="5112835">JDK-8318509</key>
            <summary>x86 count_positives intrinsic broken for -XX:AVX3Threshold=0</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="redestad">Claes Redestad</assignee>
                                    <reporter username="redestad">Claes Redestad</reporter>
                        <labels>
                            <label>amazon-interest</label>
                            <label>c2</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>oracle-triage-22</label>
                    </labels>
                <created>Thu, 19 Oct 2023 05:35:44 -0700</created>
                <updated>Fri, 9 May 2025 19:44:09 -0700</updated>
                            <resolved>Tue, 24 Oct 2023 06:35:10 -0700</resolved>
                                    <version>19</version>
                    <version>20</version>
                    <version>21</version>
                    <version>22</version>
                                    <fixVersion>22</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14775721" author="roboduke" created="Thu, 1 May 2025 09:35:53 -0700"  >[jdk21u-fix-request] Approval Request from Satyen Subramaniam&lt;br/&gt;
for backport. Fix pulls the value from tmp1 variable, which contains the correct value in the problematic edge case.&lt;br/&gt;
&lt;br/&gt;
Risk: Low. Tip change was merged in October 2023 and adjusts existing tests to confirm functionality is correct.&lt;br/&gt;
&lt;br/&gt;
Testing:&lt;br/&gt;
* GHA Sanity Checks&lt;br/&gt;
* Tier 1 and 2 tests locally&lt;br/&gt;
* Two tests adjusted by the backport</comment>
                            <comment id="14775612" author="roboduke" created="Wed, 30 Apr 2025 16:12:50 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/1726&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/1726&lt;/a&gt;&lt;br/&gt;
Date: 2025-04-30 23:06:51 +0000</comment>
                            <comment id="14620606" author="dukebot" created="Tue, 24 Oct 2023 06:35:09 -0700"  >Changeset: e67550cf&lt;br/&gt;
Author:    Claes Redestad &amp;lt;&lt;a href=&apos;mailto:redestad@openjdk.org&apos;&gt;redestad@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-10-24 13:32:41 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/e67550cfec4dbd1c8c2c9869dda34fa09a5c274b&quot;&gt;https://git.openjdk.org/jdk/commit/e67550cfec4dbd1c8c2c9869dda34fa09a5c274b&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14619493" author="roboduke" created="Thu, 19 Oct 2023 06:02:08 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/16267&quot;&gt;https://git.openjdk.org/jdk/pull/16267&lt;/a&gt;&lt;br/&gt;
Date: 2023-10-19 12:54:47 +0000</comment>
                            <comment id="14619488" author="redestad" created="Thu, 19 Oct 2023 05:44:18 -0700"  >ILW = crash, data loss etc; highly unlikely (broken code only emitted with a diagnostic flag set); don&amp;#39;t run with diagnostic flags = HLL = P4</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5158319">JDK-8356669</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5067644">JDK-8281146</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i33jzf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17412"><![CDATA[b21]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="208"><![CDATA[compiler]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>