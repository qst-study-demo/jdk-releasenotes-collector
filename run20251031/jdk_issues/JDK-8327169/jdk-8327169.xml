<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Sat Sep 27 10:22:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8327169] serviceability/dcmd/vm/SystemMapTest.java and SystemDumpMapTest.java may fail after JDK-8326586</title>
                <link>https://bugs.openjdk.org/browse/JDK-8327169</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>The following test failed in the JDK23 CI:&lt;br/&gt;
&lt;br/&gt;
serviceability/dcmd/vm/SystemMapTest.java&lt;br/&gt;
&lt;br/&gt;
Here&amp;#39;s a snippet from the log file:&lt;br/&gt;
&lt;br/&gt;
---------------- stderr ----------------&lt;br/&gt;
&lt;br/&gt;
----------------------------------------&lt;br/&gt;
&lt;br/&gt;
test SystemMapTest.jmx(): failure&lt;br/&gt;
java.lang.RuntimeException: &amp;#39;.*0x\\p{XDigit}+ - 0x\\p{XDigit}+ +\\d+.*JAVAHEAP.*&amp;#39; missing from stdout/stderr&lt;br/&gt;
	at jdk.test.lib.process.OutputAnalyzer.shouldMatch(OutputAnalyzer.java:371)&lt;br/&gt;
	at SystemMapTest.run(SystemMapTest.java:57)&lt;br/&gt;
	at SystemMapTest.jmx(SystemMapTest.java:66)&lt;br/&gt;
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)&lt;br/&gt;
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)&lt;br/&gt;
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:132)&lt;br/&gt;
	at org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:599)&lt;br/&gt;
	at org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:174)&lt;br/&gt;
	at org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)&lt;br/&gt;
	at org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:822)&lt;br/&gt;
	at org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:147)&lt;br/&gt;
	at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)&lt;br/&gt;
	at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)&lt;br/&gt;
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)&lt;br/&gt;
	at org.testng.TestRunner.privateRun(TestRunner.java:764)&lt;br/&gt;
	at org.testng.TestRunner.run(TestRunner.java:585)&lt;br/&gt;
	at org.testng.SuiteRunner.runTest(SuiteRunner.java:384)&lt;br/&gt;
	at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:378)&lt;br/&gt;
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:337)&lt;br/&gt;
	at org.testng.SuiteRunner.run(SuiteRunner.java:286)&lt;br/&gt;
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)&lt;br/&gt;
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)&lt;br/&gt;
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1218)&lt;br/&gt;
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1140)&lt;br/&gt;
	at org.testng.TestNG.runSuites(TestNG.java:1069)&lt;br/&gt;
	at org.testng.TestNG.run(TestNG.java:1037)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.TestNGRunner.main(TestNGRunner.java:102)&lt;br/&gt;
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)&lt;br/&gt;
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.MainActionHelper$AgentVMRunnable.run(MainActionHelper.java:333)&lt;br/&gt;
	at java.base/java.lang.VirtualThread.run(VirtualThread.java:329)&lt;br/&gt;
&lt;br/&gt;
===============================================&lt;br/&gt;
serviceability/dcmd/vm/SystemMapTest.java&lt;br/&gt;
Total tests run: 1, Passes: 0, Failures: 1, Skips: 0&lt;br/&gt;
===============================================&lt;br/&gt;
&lt;br/&gt;
----------System.err:(774/73858)----------&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
The test task&amp;#39;s JVM args for this run are:&lt;br/&gt;
&lt;br/&gt;
-Duse.JTREG_TEST_THREAD_FACTORY=Virtual -XX:+UseZGC -XX:+ZGenerational -XX:-VerifyContinuations&lt;br/&gt;
&lt;br/&gt;
This failure first showed up in jdk-23+13-925-tier5 which only contains the fix for:&lt;br/&gt;
&lt;br/&gt;
&lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8326586&quot; title=&quot;Improve Speed of System.map&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8326586&quot;&gt;&lt;strike&gt;JDK-8326586&lt;/strike&gt;&lt;/a&gt; Improve Speed of System.map&lt;br/&gt;
&lt;br/&gt;
so I&amp;#39;ve tagged this bug as a regression.</description>
                <environment></environment>
        <key id="5123066">JDK-8327169</key>
            <summary>serviceability/dcmd/vm/SystemMapTest.java and SystemDumpMapTest.java may fail after JDK-8326586</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://bugs.openjdk.org/images/jbsImages/p3.png">P3</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stuefe">Thomas Stuefe</assignee>
                                    <reporter username="dcubed">Daniel Daugherty</reporter>
                        <labels>
                            <label>intermittent</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>loom</label>
                            <label>regression</label>
                            <label>tier1</label>
                            <label>tier3</label>
                            <label>tier5</label>
                            <label>zgc</label>
                    </labels>
                <created>Sat, 2 Mar 2024 08:54:17 -0800</created>
                <updated>Thu, 13 Mar 2025 03:04:49 -0700</updated>
                            <resolved>Thu, 21 Mar 2024 05:16:04 -0700</resolved>
                                    <version>23</version>
                                    <fixVersion>23</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                                                            <comments>
                            <comment id="14760146" author="roboduke" created="Wed, 12 Mar 2025 06:54:13 -0700"  >[jdk21u-fix-request] Approval Request from Andreas Steiner&lt;br/&gt;
Required follow up to &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8326586&quot; title=&quot;Improve Speed of System.map&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8326586&quot;&gt;&lt;strike&gt;JDK-8326586&lt;/strike&gt;&lt;/a&gt;, for risk, testing, reason see comment there.</comment>
                            <comment id="14759615" author="roboduke" created="Tue, 11 Mar 2025 06:04:48 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/1468&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/1468&lt;/a&gt;&lt;br/&gt;
Date: 2025-03-11 12:57:06 +0000</comment>
                            <comment id="14659343" author="dcubed" created="Thu, 21 Mar 2024 07:13:34 -0700"  >The fix for this bug is integrated in jdk-23+15-1189.</comment>
                            <comment id="14659302" author="dukebot" created="Thu, 21 Mar 2024 05:16:03 -0700"  >Changeset: c434b79c&lt;br/&gt;
Author:    Thomas Stuefe &amp;lt;&lt;a href=&apos;mailto:stuefe@openjdk.org&apos;&gt;stuefe@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2024-03-21 12:13:10 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/c434b79cff33e08e4518e92ddddae996dffefe29&quot;&gt;https://git.openjdk.org/jdk/commit/c434b79cff33e08e4518e92ddddae996dffefe29&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14658917" author="roboduke" created="Wed, 20 Mar 2024 02:23:49 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/18392&quot;&gt;https://git.openjdk.org/jdk/pull/18392&lt;/a&gt;&lt;br/&gt;
Date: 2024-03-20 08:28:45 +0000</comment>
                            <comment id="14658894" author="stuefe" created="Wed, 20 Mar 2024 01:15:02 -0700"  >Finally found the reason.&lt;br/&gt;
&lt;br/&gt;
I keep a record of the last printed NMT region index in a function-scope-static variable inside the lookup function, to speed up the next lookup. That makes lookup very fast, oftentimes O(1), since the input entries are sorted.&lt;br/&gt;
&lt;br/&gt;
However, after a dump is finished, that variable is not rest. If one takes two dumps, and the second dump has fewer NMT mappings, the saved index will point beyond the now-smaller NMT region area list. &lt;br/&gt;
&lt;br/&gt;
This does not result in any crash, since the result is that we don&amp;#39;t even start working - we never enter the loop inside CachedNMTInformation::lookup() since the start index of that loop is larger than the current number of NMT regions. But it messes up printing, since no NMT regions are found, so none are printed.</comment>
                            <comment id="14657856" author="dcubed" created="Sat, 16 Mar 2024 07:44:18 -0700"  >[~stuefe] - Sorry for the delay in getting back this bug...&lt;br/&gt;
&lt;br/&gt;
&amp;gt; I added debug output with JDk-8327475. If that error has the analysis patch, could you please append the jtr?&lt;br/&gt;
&lt;br/&gt;
The fix for &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8327475&quot; title=&quot;Add analysis code for JDK-8327169&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8327475&quot;&gt;&lt;strike&gt;JDK-8327475&lt;/strike&gt;&lt;/a&gt; was included in jdk-23+14-1061 and the sighting of&lt;br/&gt;
serviceability/dcmd/vm/SystemDumpMapTest.java that I added above happened&lt;br/&gt;
in the jdk-23+15-1101-tier5 CI job set.&lt;br/&gt;
&lt;br/&gt;
I&amp;#39;m attaching&lt;br/&gt;
mach5-one-jdk-23+15-1101-tier5-20240315-1218-7841959-tier5-svc-generational-zgc-virtual-serviceability_ttf_virtual-any-nix-x64-debug-788-1710506942-37.log&lt;br/&gt;
which was executed on a machine running Ubuntu 22.04.&lt;br/&gt;
</comment>
                            <comment id="14657717" author="stuefe" created="Fri, 15 Mar 2024 06:25:05 -0700"  >[~dcubed] I added debug output with JDk-8327475. If that error has the analysis patch, could you please append the jtr?</comment>
                            <comment id="14657716" author="dcubed" created="Fri, 15 Mar 2024 06:21:56 -0700"  >Here&amp;#39;s a log file snippet from the jdk-23+15-1101-tier5 sighing:&lt;br/&gt;
&lt;br/&gt;
serviceability/dcmd/vm/SystemDumpMapTest.java&lt;br/&gt;
&lt;br/&gt;
#section:testng&lt;br/&gt;
----------messages:(8/351)----------&lt;br/&gt;
command: testng SystemDumpMapTest&lt;br/&gt;
reason: User specified action: run testng SystemDumpMapTest &lt;br/&gt;
started: Fri Mar 15 12:46:17 UTC 2024&lt;br/&gt;
Mode: agentvm&lt;br/&gt;
Agent id: 18&lt;br/&gt;
Additional exports to unnamed modules from @modules: java.base/jdk.internal.misc jdk.internal.jvmstat/sun.jvmstat.monitor&lt;br/&gt;
finished: Fri Mar 15 12:46:17 UTC 2024&lt;br/&gt;
elapsed time (seconds): 0.447&lt;br/&gt;
----------configuration:(16/2094)----------&lt;br/&gt;
&lt;br/&gt;
&amp;lt;snip&amp;gt;&lt;br/&gt;
&lt;br/&gt;
----------System.out:(63/3877)*----------&lt;br/&gt;
Running DCMD &amp;#39;System.dump_map -F=test-map.txt&amp;#39; through &amp;#39;JMXExecutor&amp;#39;&lt;br/&gt;
---------------- stdout ----------------&lt;br/&gt;
Memory map dumped to &amp;quot;/opt/mach5/mesos/work_dir/slaves/73e57426-9086-438c-bf1c-51bfaf1790ad-S49928/frameworks/1735e8a2-a1db-478c-8104-60c8b0af87dd-0196/executors/012267fd-4c86-41c5-a57a-7b9d29bb4170/runs/a8317004-49b9-4713-80ee-35b449843312/testoutput/test-support/jtreg_open_test_hotspot_jtreg_serviceability_ttf_virtual/scratch/2/test-map.txt&amp;quot;.&lt;br/&gt;
&lt;br/&gt;
---------------- stderr ----------------&lt;br/&gt;
&lt;br/&gt;
----------------------------------------&lt;br/&gt;
&lt;br/&gt;
Running DCMD &amp;#39;System.dump_map &amp;#39; through &amp;#39;JMXExecutor&amp;#39;&lt;br/&gt;
---------------- stdout ----------------&lt;br/&gt;
Memory map dumped to &amp;quot;/opt/mach5/mesos/work_dir/slaves/73e57426-9086-438c-bf1c-51bfaf1790ad-S49928/frameworks/1735e8a2-a1db-478c-8104-60c8b0af87dd-0196/executors/012267fd-4c86-41c5-a57a-7b9d29bb4170/runs/a8317004-49b9-4713-80ee-35b449843312/testoutput/test-support/jtreg_open_test_hotspot_jtreg_serviceability_ttf_virtual/scratch/2/vm_memory_map_1878244.txt&amp;quot;.&lt;br/&gt;
&lt;br/&gt;
---------------- stderr ----------------&lt;br/&gt;
&lt;br/&gt;
----------------------------------------&lt;br/&gt;
&lt;br/&gt;
Missing patterns in dump:&lt;br/&gt;
.*0x\\p{XDigit}+ - 0x\\p{XDigit}+ +\\d+.*JAVAHEAP.*&lt;br/&gt;
.*0x\\p{XDigit}+ - 0x\\p{XDigit}+ +\\d+.*META.*&lt;br/&gt;
.*0x\\p{XDigit}+ - 0x\\p{XDigit}+ +\\d+.*CODE.*&lt;br/&gt;
.*0x\\p{XDigit}+ - 0x\\p{XDigit}+ +\\d+.*STACK.*main.*&lt;br/&gt;
test SystemDumpMapTest.jmx(): failure&lt;br/&gt;
java.lang.RuntimeException: java.lang.RuntimeException: Missing patterns&lt;br/&gt;
	at SystemDumpMapTest.run_test(SystemDumpMapTest.java:97)&lt;br/&gt;
	at SystemDumpMapTest.run(SystemDumpMapTest.java:104)&lt;br/&gt;
	at SystemDumpMapTest.jmx(SystemDumpMapTest.java:109)&lt;br/&gt;
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)&lt;br/&gt;
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)&lt;br/&gt;
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:132)&lt;br/&gt;
	at org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:599)&lt;br/&gt;
	at org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:174)&lt;br/&gt;
	at org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)&lt;br/&gt;
	at org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:822)&lt;br/&gt;
	at org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:147)&lt;br/&gt;
	at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)&lt;br/&gt;
	at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)&lt;br/&gt;
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)&lt;br/&gt;
	at org.testng.TestRunner.privateRun(TestRunner.java:764)&lt;br/&gt;
	at org.testng.TestRunner.run(TestRunner.java:585)&lt;br/&gt;
	at org.testng.SuiteRunner.runTest(SuiteRunner.java:384)&lt;br/&gt;
	at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:378)&lt;br/&gt;
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:337)&lt;br/&gt;
	at org.testng.SuiteRunner.run(SuiteRunner.java:286)&lt;br/&gt;
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)&lt;br/&gt;
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)&lt;br/&gt;
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1218)&lt;br/&gt;
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1140)&lt;br/&gt;
	at org.testng.TestNG.runSuites(TestNG.java:1069)&lt;br/&gt;
	at org.testng.TestNG.run(TestNG.java:1037)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.TestNGRunner.main(TestNGRunner.java:102)&lt;br/&gt;
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)&lt;br/&gt;
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.MainActionHelper$AgentVMRunnable.run(MainActionHelper.java:333)&lt;br/&gt;
	at java.base/java.lang.VirtualThread.run(VirtualThread.java:329)&lt;br/&gt;
Caused by: java.lang.RuntimeException: Missing patterns&lt;br/&gt;
	at SystemDumpMapTest.run_test(SystemDumpMapTest.java:93)&lt;br/&gt;
	... 30 more&lt;br/&gt;
&lt;br/&gt;
===============================================&lt;br/&gt;
serviceability/dcmd/vm/SystemDumpMapTest.java&lt;br/&gt;
Total tests run: 1, Passes: 0, Failures: 1, Skips: 0&lt;br/&gt;
===============================================&lt;br/&gt;
&lt;br/&gt;
----------System.err:(20/1333)----------&lt;br/&gt;
&amp;nbsp;stdout: [Memory map dumped to &amp;quot;/opt/mach5/mesos/work_dir/slaves/73e57426-9086-438c-bf1c-51bfaf1790ad-S49928/frameworks/1735e8a2-a1db-478c-8104-60c8b0af87dd-0196/executors/012267fd-4c86-41c5-a57a-7b9d29bb4170/runs/a8317004-49b9-4713-80ee-35b449843312/testoutput/test-support/jtreg_open_test_hotspot_jtreg_serviceability_ttf_virtual/scratch/2/test-map.txt&amp;quot;.&lt;br/&gt;
];&lt;br/&gt;
&amp;nbsp;stderr: []&lt;br/&gt;
&amp;nbsp;exitValue = -1&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;stdout: [Memory map dumped to &amp;quot;/opt/mach5/mesos/work_dir/slaves/73e57426-9086-438c-bf1c-51bfaf1790ad-S49928/frameworks/1735e8a2-a1db-478c-8104-60c8b0af87dd-0196/executors/012267fd-4c86-41c5-a57a-7b9d29bb4170/runs/a8317004-49b9-4713-80ee-35b449843312/testoutput/test-support/jtreg_open_test_hotspot_jtreg_serviceability_ttf_virtual/scratch/2/vm_memory_map_1878244.txt&amp;quot;.&lt;br/&gt;
];&lt;br/&gt;
&amp;nbsp;stderr: []&lt;br/&gt;
&amp;nbsp;exitValue = -1&lt;br/&gt;
&lt;br/&gt;
java.lang.Exception: failures: 1&lt;br/&gt;
	at com.sun.javatest.regtest.agent.TestNGRunner.main(TestNGRunner.java:104)&lt;br/&gt;
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)&lt;br/&gt;
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.MainActionHelper$AgentVMRunnable.run(MainActionHelper.java:333)&lt;br/&gt;
	at java.base/java.lang.VirtualThread.run(VirtualThread.java:329)&lt;br/&gt;
&lt;br/&gt;
JavaTest Message: Test threw exception: java.lang.Exception&lt;br/&gt;
JavaTest Message: shutting down test&lt;br/&gt;
&lt;br/&gt;
result: Failed. Execution failed: `main&amp;#39; threw exception: java.lang.Exception: failures: 1</comment>
                            <comment id="14654968" author="dholmes" created="Tue, 5 Mar 2024 19:13:55 -0800"  >[~stuefe] I note that in the failing cases none of these &amp;quot;tags&amp;quot;&lt;br/&gt;
&lt;br/&gt;
Memory mappings:&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;CARDTBL    GC Card table&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;CDS    CDS archives&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;CLASS    Class Space&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;CODE    Code Heap&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;GC    GC support data (e.g. bitmaps)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;INTERN    Internal&lt;br/&gt;
&amp;nbsp;&amp;nbsp;JAVAHEAP    Java Heap&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;JDK    allocated by JDK libraries other than VM&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;META    Metaspace nodes (non-class)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;POLL    Polling pages&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;STACK    (known) Thread Stack&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;TEST    JVM internal test mappings&lt;br/&gt;
&lt;br/&gt;
are present in the mapping, so whatever mechanism is trying to match memory areas to memory types is simply not working. But I see nothing odd about the map in the failing case.</comment>
                            <comment id="14654967" author="dholmes" created="Tue, 5 Mar 2024 19:02:21 -0800"  >[~stuefe]&lt;br/&gt;
&lt;br/&gt;
&amp;gt; Was the jtr file attached from a run with ZGC? &lt;br/&gt;
&lt;br/&gt;
No. The first failure we saw was with ZGC but not the second for which I attached the jtr file.&lt;br/&gt;
&lt;br/&gt;
&amp;gt; Is the error intermittent?&lt;br/&gt;
&lt;br/&gt;
Yes&lt;br/&gt;
&lt;br/&gt;
&amp;gt; On what platforms does the error happen? &lt;br/&gt;
&lt;br/&gt;
Seen on Linux x64 and Aarch64.&lt;br/&gt;
&lt;br/&gt;
&amp;gt; What are the configure arguments the failing VM was built with?&lt;br/&gt;
&lt;br/&gt;
Hmmm not sure how to map back to that ... I think this is the right one for the Aarch64 failure:&lt;br/&gt;
&lt;br/&gt;
[2024-03-05T02:42:16,537Z] ====================================================&lt;br/&gt;
[2024-03-05T02:42:16,537Z] A new configuration has been successfully created in&lt;br/&gt;
[2024-03-05T02:42:16,537Z] /opt/mach5/mesos/work_dir/slaves/0db9c48f-6638-40d0-9a4b-bd9cc7533eb8-S9709/frameworks/1735e8a2-a1db-478c-8104-60c8b0af87dd-0196/executors/2e146dd0-8a61-4b65-b33e-8057b52aee57/runs/15d9aac3-408b-4db0-aee0-c8ddfcd1fed5/workspace/build/linux-aarch64-debug&lt;br/&gt;
[2024-03-05T02:42:16,537Z] using configure arguments &amp;#39;--with-conf-name=linux-aarch64-debug --with-boot-jdk=/opt/mach5/mesos/work_dir/jib-master/install/jdk/21/35/bundles/linux-aarch64/jdk-21_linux-aarch64_bin.tar.gz/jdk-21 MAKE=/opt/mach5/mesos/work_dir/jib-master/install/jpg/infra/builddeps/gnumake-linux_aarch64/4.0+1.0/gnumake-linux_aarch64-4.0+1.0.tar.gz/bin/make --with-jtreg=/opt/mach5/mesos/work_dir/jib-master/install/jtreg/7.3.1/1/bundles/jtreg-7.3.1+1.zip/jtreg --with-jib=/opt/mach5/mesos/work_dir/jib-master/install/com/oracle/java/jib/jib/3.0-SNAPSHOT/jib-3.0-20240202.185321-523-distribution.zip/jib-3.0-SNAPSHOT-distribution --with-jmh=/opt/mach5/mesos/work_dir/jib-master/install/jpg/infra/builddeps/jmh/1.37+1.0/jmh-1.37+1.0.tar.gz --with-jcov=/opt/mach5/mesos/work_dir/jib-master/install/jpg/infra/builddeps/jcov/3.0-16-jdk-asm+1.0/jcov-3.0-16-jdk-asm+1.0.zip/jcov_3.0 --with-devkit=/opt/mach5/mesos/work_dir/jib-master/install/jpg/infra/builddeps/devkit-linux_aarch64/gcc13.2.0-OL7.6+1.0/devkit-linux_aarch64-gcc13.2.0-OL7.6+1.0.tar.gz/aarch64-linux-gnu-to-aarch64-linux-gnu --with-gtest=/opt/mach5/mesos/work_dir/jib-master/install/jpg/infra/builddeps/gtest/1.14.0+1.0/gtest-1.14.0+1.0.tar.gz/googletest-1.14.0 DOT=/opt/mach5/mesos/work_dir/jib-master/install/jpg/infra/builddeps/graphviz-linux_aarch64/9.0.0+1.0/graphviz-linux_aarch64-9.0.0+1.0.tar.gz/dot PANDOC=/opt/mach5/mesos/work_dir/jib-master/install/jpg/infra/builddeps/pandoc-linux_aarch64/2.19.2+1.0/pandoc-linux_aarch64-2.19.2+1.0.tar.gz/pandoc/pandoc --with-jdl=/opt/mach5/mesos/work_dir/jib-master/install/com/oracle/java/jdl/jdl/1.3.1414/jdl-1.3.1414.zip/jdl-1.3.1414 --with-exclude-translations=es,fr,it,ko,pt_BR,sv,ca,tr,cs,sk,ja_JP_A,ja_JP_HA,ja_JP_HI,ja_JP_I,zh_TW,zh_HK --disable-manpages --disable-jvm-feature-shenandoahgc --with-version-build=13 --with-version-pre=ea --with-version-opt=942 --with-source-date=1709606348 --with-zlib=system --disable-dtrace --enable-compatible-cds-alignment --enable-debug --with-default-make-target=&amp;#39;product-bundles test-bundles static-libs-bundles&amp;#39;&amp;#39;.&lt;br/&gt;
[2024-03-05T02:42:16,537Z] &lt;br/&gt;
[2024-03-05T02:42:16,537Z] Configuration summary:&lt;br/&gt;
[2024-03-05T02:42:16,537Z] * Name:           linux-aarch64-debug&lt;br/&gt;
[2024-03-05T02:42:16,537Z] * Debug level:    fastdebug&lt;br/&gt;
[2024-03-05T02:42:16,537Z] * HS debug level: fastdebug&lt;br/&gt;
[2024-03-05T02:42:16,537Z] * JVM variants:   server&lt;br/&gt;
[2024-03-05T02:42:16,537Z] * JVM features:   server: &amp;#39;cds compiler1 compiler2 epsilongc g1gc jfr jni-check jvmci jvmti management oracle-src parallelgc serialgc services vm-structs zgc&amp;#39; &lt;br/&gt;
[2024-03-05T02:42:16,537Z] * OpenJDK target: OS: linux, CPU architecture: aarch64, address length: 64&lt;br/&gt;
[2024-03-05T02:42:16,537Z] * Version string: 23-ea+13-942 (23-ea)&lt;br/&gt;
[2024-03-05T02:42:16,537Z] * Source date:    1709606348 (2024-03-05T02:39:08Z)&lt;br/&gt;
[2024-03-05T02:42:16,537Z] &lt;br/&gt;
[2024-03-05T02:42:16,537Z] Tools summary:&lt;br/&gt;
[2024-03-05T02:42:16,538Z] * Boot JDK:       java version &amp;quot;21&amp;quot; 2023-09-19 LTS Java(TM) SE Runtime Environment (build 21+35-LTS-2513) Java HotSpot(TM) 64-Bit Server VM (build 21+35-LTS-2513, mixed mode, sharing) (at /opt/mach5/mesos/work_dir/jib-master/install/jdk/21/35/bundles/linux-aarch64/jdk-21_linux-aarch64_bin.tar.gz/jdk-21)&lt;br/&gt;
[2024-03-05T02:42:16,538Z] * Toolchain:      gcc (GNU Compiler Collection)&lt;br/&gt;
[2024-03-05T02:42:16,538Z] * Devkit:         gcc-13.2.0 - OL7.6 (/opt/mach5/mesos/work_dir/jib-master/install/jpg/infra/builddeps/devkit-linux_aarch64/gcc13.2.0-OL7.6+1.0/devkit-linux_aarch64-gcc13.2.0-OL7.6+1.0.tar.gz/aarch64-linux-gnu-to-aarch64-linux-gnu)&lt;br/&gt;
[2024-03-05T02:42:16,538Z] * C Compiler:     Version 13.2.0 (at /opt/mach5/mesos/work_dir/jib-master/install/jpg/infra/builddeps/devkit-linux_aarch64/gcc13.2.0-OL7.6+1.0/devkit-linux_aarch64-gcc13.2.0-OL7.6+1.0.tar.gz/aarch64-linux-gnu-to-aarch64-linux-gnu/bin/gcc)&lt;br/&gt;
[2024-03-05T02:42:16,538Z] * C++ Compiler:   Version 13.2.0 (at /opt/mach5/mesos/work_dir/jib-master/install/jpg/infra/builddeps/devkit-linux_aarch64/gcc13.2.0-OL7.6+1.0/devkit-linux_aarch64-gcc13.2.0-OL7.6+1.0.tar.gz/aarch64-linux-gnu-to-aarch64-linux-gnu/bin/g++)&lt;br/&gt;
</comment>
                            <comment id="14654879" author="mseledtsov" created="Tue, 5 Mar 2024 11:11:54 -0800"  >ILW = MMM = P3&lt;br/&gt;
&lt;br/&gt;
This was also run with -J-Dtest.java.opts=&amp;#39;-XX:+UnlockExperimentalVMOptions -XX:LockingMode=2&amp;#39; </comment>
                            <comment id="14654700" author="stuefe" created="Tue, 5 Mar 2024 01:41:18 -0800"  >Sorry, I cannot reproduce it and cannot understand it. Some questions:&lt;br/&gt;
&lt;br/&gt;
Was the jtr file attached from a run with ZGC? &lt;br/&gt;
&lt;br/&gt;
Is the error intermittent?&lt;br/&gt;
&lt;br/&gt;
On what platforms does the error happen?&lt;br/&gt;
&lt;br/&gt;
What are the configure arguments the failing VM was built with?&lt;br/&gt;
&lt;br/&gt;
</comment>
                            <comment id="14654566" author="dholmes" created="Mon, 4 Mar 2024 21:55:27 -0800"  >[~stuefe] I&amp;#39;ve attached a recent JTR file for this failure.</comment>
                            <comment id="14654095" author="stuefe" created="Sat, 2 Mar 2024 22:24:41 -0800"  >Hi [~dcubed], I cannot reproduce it locally. Could you please attach the jtreg file?</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5152814">JDK-8351924</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10600">
                    <name>Causes</name>
                                                                <inwardlinks description="caused by">
                                        <issuelink>
            <issuekey id="5122297">JDK-8326586</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5123421">JDK-8327475</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="108533" name="log.txt" size="110216" author="dholmes" created="Mon, 4 Mar 2024 21:54:50 -0800"/>
                            <attachment id="108643" name="mach5-one-jdk-23+15-1101-tier5-20240315-1218-7841959-tier5-svc-generational-zgc-virtual-serviceability_ttf_virtual-any-nix-x64-debug-788-1710506942-37.log" size="29649" author="dcubed" created="Sat, 16 Mar 2024 07:44:09 -0700"/>
                    </attachments>
                <subtasks>
                                              <subtask id="5123421">JDK-8327475</subtask>
                                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="19000"><![CDATA[x86_64]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17023"><![CDATA[linux]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3595n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17312"><![CDATA[b16]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="192"><![CDATA[runtime]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>