<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Sat Sep 27 10:49:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8347000] Bug in com/sun/net/httpserver/bugs/B6361557.java test</title>
                <link>https://bugs.openjdk.org/browse/JDK-8347000</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>(From a mail on net-dev mailing list &lt;a href=&quot;https://mail.openjdk.org/pipermail/net-dev/2025-January/025297.html)&quot;&gt;https://mail.openjdk.org/pipermail/net-dev/2025-January/025297.html)&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
The jdk test B6361557 here &lt;a href=&quot;https://github.com/openjdk/jdk23u/blob/9101cc14972ce6bdeb966e67bcacc8b693c37d0a/test/jdk/com/sun/net/httpserver/bugs/B6361557.java#L68&quot;&gt;https://github.com/openjdk/jdk23u/blob/9101cc14972ce6bdeb966e67bcacc8b693c37d0a/test/jdk/com/sun/net/httpserver/bugs/B6361557.java#L68&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
sends an invalid http request according to the specification here &lt;a href=&quot;https://datatracker.ietf.org/doc/html/rfc2616#section-4.4&quot;&gt;https://datatracker.ietf.org/doc/html/rfc2616#section-4.4&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
specifically &amp;quot;When a Content-Length is given in a message where a message-body is&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;allowed, its field value MUST exactly match the number of OCTETs in&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;the message-body. HTTP/1.1 user agents MUST notify the user when an&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;invalid length is received and detected.&amp;quot;&lt;br/&gt;
&lt;br/&gt;
The code in this test case sends a request with Content-length set to 0, but due to a bug, it sends extra octets after the request header (14 zero to be exact).&lt;br/&gt;
&lt;br/&gt;
The cause is that the buffer is allocated to 64, and filled with a string that is shorter, but the entire buffer is sent.&lt;br/&gt;
&lt;br/&gt;
This is fixed by changing line 68 to&lt;br/&gt;
&lt;br/&gt;
final static ByteBuffer requestBuf = ByteBuffer.wrap(request.getBytes());&lt;br/&gt;
&lt;br/&gt;
It currently passes, only because the server is not fully implementing the http specification.&lt;br/&gt;
&lt;br/&gt;
</description>
                <environment></environment>
        <key id="5147224">JDK-8347000</key>
            <summary>Bug in com/sun/net/httpserver/bugs/B6361557.java test</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jpai">Jaikiran Pai</assignee>
                                    <reporter username="jpai">Jaikiran Pai</reporter>
                        <labels>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>jdk24u-fix-SQE-ok</label>
                            <label>jdk24u-fix-request</label>
                            <label>jdk24u-fix-yes</label>
                            <label>noreg-self</label>
                            <label>test-only</label>
                    </labels>
                <created>Fri, 3 Jan 2025 16:44:12 -0800</created>
                <updated>Mon, 26 May 2025 03:53:15 -0700</updated>
                            <resolved>Tue, 7 Jan 2025 04:37:06 -0800</resolved>
                                    <version>8</version>
                                    <fixVersion>25</fixVersion>
                                    <component>core-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14781572" author="roboduke" created="Tue, 20 May 2025 07:06:39 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/3596&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/3596&lt;/a&gt;&lt;br/&gt;
Date: 2025-05-20 13:55:25 +0000</comment>
                            <comment id="14781571" author="roboduke" created="Tue, 20 May 2025 07:06:38 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/1816&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/1816&lt;/a&gt;&lt;br/&gt;
Date: 2025-05-20 13:55:19 +0000</comment>
                            <comment id="14781561" author="goetz" created="Tue, 20 May 2025 06:54:25 -0700"  >Fix request [21u,17u]&lt;br/&gt;
&lt;br/&gt;
I backport this test change as it also goes to 21.0.9-oracle,17.0.17-oracle.&lt;br/&gt;
No risk, only a test change.&lt;br/&gt;
Clean backport.&lt;br/&gt;
Tests pass. SAP nightly testing passed.</comment>
                            <comment id="14766117" author="roboduke" created="Tue, 1 Apr 2025 23:43:20 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk24u/pull/170&quot;&gt;https://git.openjdk.org/jdk24u/pull/170&lt;/a&gt;&lt;br/&gt;
Date: 2025-04-02 06:34:22 +0000</comment>
                            <comment id="14766116" author="roboduke" created="Tue, 1 Apr 2025 23:41:14 -0700"  >[jdk24u-fix-request] Approval Request from Govindan Srinivassan&lt;br/&gt;
&amp;quot;Test issue Bug in com/sun/net/httpserver/bugs/B6361557.java test&amp;quot;</comment>
                            <comment id="14736225" author="dukebot" created="Tue, 7 Jan 2025 04:37:05 -0800"  >Changeset: 5e6cda47&lt;br/&gt;
Branch: master&lt;br/&gt;
Author:    Jaikiran Pai &amp;lt;&lt;a href=&apos;mailto:jpai@openjdk.org&apos;&gt;jpai@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2025-01-07 12:32:31 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/5e6cda4799a6bf12370bc6a04b218ebed32dee53&quot;&gt;https://git.openjdk.org/jdk/commit/5e6cda4799a6bf12370bc6a04b218ebed32dee53&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14735952" author="msheppar" created="Mon, 6 Jan 2025 04:26:36 -0800"  >There is a misinterpretation of the HTTP spec here. A server is not a User Agent.&lt;br/&gt;
The GET request is delimited by the Content-Length: 0 and the two blank line (&amp;lt;CR&amp;gt;&amp;lt;LF&amp;gt;) , such that a server would not look for a request body&lt;br/&gt;
For this request anything after the blanks line are  ignored or treated as the start of a separate request.&lt;br/&gt;
&lt;br/&gt;
Instrumenting the test&amp;#39;s HttpHandler handle method will show that the InoutStream associated with the RequestBody return -1, indicating no request body contents.&lt;br/&gt;
&lt;br/&gt;
So while the change is reasonable, the rationale for it is dubious i.e. the interpreted semantics from&lt;br/&gt;
&lt;br/&gt;
&amp;quot;When a Content-Length is given in a message where a message-body is&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;allowed, its field value MUST exactly match the number of OCTETs in&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;the message-body. HTTP/1.1 user agents MUST notify the user when an&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;invalid length is received and detected.&amp;quot;</comment>
                            <comment id="14735872" author="roboduke" created="Sun, 5 Jan 2025 21:48:03 -0800"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/22921&quot;&gt;https://git.openjdk.org/jdk/pull/22921&lt;/a&gt;&lt;br/&gt;
Date: 2025-01-06 05:43:31 +0000</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5152580">JDK-8351702</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5152581">JDK-8351703</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5152582">JDK-8351704</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5152583">JDK-8351705</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5152584">JDK-8351706</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5159298">JDK-8357484</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5159305">JDK-8357491</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3999v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17315"><![CDATA[b05]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="193"><![CDATA[java.net]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>