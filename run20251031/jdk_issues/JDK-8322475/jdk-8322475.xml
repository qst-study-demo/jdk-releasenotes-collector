<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Thu Sep 25 23:55:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8322475] Extend printing for System.map</title>
                <link>https://bugs.openjdk.org/browse/JDK-8322475</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>Make System.map and System.dump_map drastically more useful by adding:&lt;br/&gt;
- the actual memory used per mapping (RSS)&lt;br/&gt;
- the actual page size of the mapping&lt;br/&gt;
- THP state (used, advised, eligible, forbidden)&lt;br/&gt;
- the commit state&lt;br/&gt;
- swap state&lt;br/&gt;
&lt;br/&gt;
Also, provide a summary for:&lt;br/&gt;
- total RSS&lt;br/&gt;
- total size of hugetlb memory&lt;br/&gt;
- how much memory uses THPs&lt;br/&gt;
- how much memory had been swapped out&lt;br/&gt;
- how much memory was committed&lt;br/&gt;
</description>
                <environment></environment>
        <key id="5117515">JDK-8322475</key>
            <summary>Extend printing for System.map</summary>
                <type id="7" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14707&amp;avatarType=issuetype">Enhancement</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stuefe">Thomas Stuefe</assignee>
                                    <reporter username="stuefe">Thomas Stuefe</reporter>
                        <labels>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>nmt</label>
                            <label>redhat-interest</label>
                    </labels>
                <created>Tue, 19 Dec 2023 07:45:28 -0800</created>
                <updated>Wed, 3 Sep 2025 02:52:20 -0700</updated>
                            <resolved>Wed, 3 Jul 2024 09:09:50 -0700</resolved>
                                    <version>22</version>
                                    <fixVersion>24</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14769297" author="stuefe" created="Fri, 11 Apr 2025 06:49:18 -0700"  >[~sgehwolf] I would be happy about this downport. I wrote this originally to plug a hole in NMT observability. Currently, System.map is the only way to get information about the real live memory usage in a JVM for native memory.</comment>
                            <comment id="14768829" author="roboduke" created="Thu, 10 Apr 2025 00:36:28 -0700"  >[jdk21u-fix-request] Approval Request from Andreas Steiner&lt;br/&gt;
We want to get the very helpful extended printing for System.map in jdk21u-dev too, as follow up mentioned in  &lt;a href=&quot;https://github.com/openjdk/jdk21u-dev/pull/1415&quot;&gt;https://github.com/openjdk/jdk21u-dev/pull/1415&lt;/a&gt; already.&lt;br/&gt;
The additional needed test fixes are dependent PRs(#1620 and #1624).</comment>
                            <comment id="14768458" author="roboduke" created="Wed, 9 Apr 2025 02:41:32 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/1619&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/1619&lt;/a&gt;&lt;br/&gt;
Date: 2025-04-09 09:35:27 +0000</comment>
                            <comment id="14687148" author="mbaesken" created="Thu, 4 Jul 2024 07:33:34 -0700"  >Unfortunately those 2 tests fail now on Linux Alpine (x86_64) ; I created &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8335710&quot;&gt;https://bugs.openjdk.org/browse/JDK-8335710&lt;/a&gt; .&lt;br/&gt;
serviceability/dcmd/vm/SystemDumpMapTest.java&lt;br/&gt;
&lt;br/&gt;
Missing patterns in dump:&lt;br/&gt;
0x\\p{XDigit}+-0x\\p{XDigit}+ +\\d+ +[rwsxp-]+ +\\d+ +\\d+ +(4K|8K|16K|64K|2M|16M|64M) +com.*\\[vdso\\]&lt;br/&gt;
test SystemDumpMapTest.jmx(): failure&lt;br/&gt;
java.lang.RuntimeException: java.lang.RuntimeException: Missing patterns&lt;br/&gt;
	at SystemDumpMapTest.run_test(SystemDumpMapTest.java:100)&lt;br/&gt;
	at SystemDumpMapTest.run(SystemDumpMapTest.java:106)&lt;br/&gt;
	at SystemDumpMapTest.jmx(SystemDumpMapTest.java:112)&lt;br/&gt;
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)&lt;br/&gt;
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)&lt;br/&gt;
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:132)&lt;br/&gt;
	at org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:599)&lt;br/&gt;
	at org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:174)&lt;br/&gt;
	at org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)&lt;br/&gt;
	at org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:822)&lt;br/&gt;
	at org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:147)&lt;br/&gt;
	at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)&lt;br/&gt;
	at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)&lt;br/&gt;
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)&lt;br/&gt;
	at org.testng.TestRunner.privateRun(TestRunner.java:764)&lt;br/&gt;
	at org.testng.TestRunner.run(TestRunner.java:585)&lt;br/&gt;
	at org.testng.SuiteRunner.runTest(SuiteRunner.java:384)&lt;br/&gt;
	at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:378)&lt;br/&gt;
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:337)&lt;br/&gt;
	at org.testng.SuiteRunner.run(SuiteRunner.java:286)&lt;br/&gt;
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)&lt;br/&gt;
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)&lt;br/&gt;
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1218)&lt;br/&gt;
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1140)&lt;br/&gt;
	at org.testng.TestNG.runSuites(TestNG.java:1069)&lt;br/&gt;
	at org.testng.TestNG.run(TestNG.java:1037)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.TestNGRunner.main(TestNGRunner.java:102)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.TestNGRunner.main(TestNGRunner.java:58)&lt;br/&gt;
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)&lt;br/&gt;
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.MainWrapper$MainTask.run(MainWrapper.java:138)&lt;br/&gt;
	at java.base/java.lang.Thread.run(Thread.java:1575)&lt;br/&gt;
Caused by: java.lang.RuntimeException: Missing patterns&lt;br/&gt;
	at SystemDumpMapTest.run_test(SystemDumpMapTest.java:96)&lt;br/&gt;
	... 31 more&lt;br/&gt;
&lt;br/&gt;
===============================================&lt;br/&gt;
serviceability/dcmd/vm/SystemDumpMapTest.java&lt;br/&gt;
Total tests run: 1, Passes: 0, Failures: 1, Skips: 0&lt;br/&gt;
===============================================&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
serviceability/dcmd/vm/SystemMapTest.java  :&lt;br/&gt;
&lt;br/&gt;
test SystemMapTest.jmx(): failure&lt;br/&gt;
java.lang.RuntimeException: &amp;#39;0x\\p{XDigit}+-0x\\p{XDigit}+ +\\d+ +[rwsxp-]+ +\\d+ +\\d+ +(4K|8K|16K|64K|2M|16M|64M) +com.*\\[vdso\\]&amp;#39; missing from stdout/stderr&lt;br/&gt;
	at jdk.test.lib.process.OutputAnalyzer.shouldMatch(OutputAnalyzer.java:371)&lt;br/&gt;
	at SystemMapTest.run(SystemMapTest.java:46)&lt;br/&gt;
	at SystemMapTest.jmx(SystemMapTest.java:57)&lt;br/&gt;
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)&lt;br/&gt;
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)&lt;br/&gt;
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:132)&lt;br/&gt;
	at org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:599)&lt;br/&gt;
	at org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:174)&lt;br/&gt;
	at org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)&lt;br/&gt;
	at org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:822)&lt;br/&gt;
	at org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:147)&lt;br/&gt;
	at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)&lt;br/&gt;
	at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)&lt;br/&gt;
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)&lt;br/&gt;
	at org.testng.TestRunner.privateRun(TestRunner.java:764)&lt;br/&gt;
	at org.testng.TestRunner.run(TestRunner.java:585)&lt;br/&gt;
	at org.testng.SuiteRunner.runTest(SuiteRunner.java:384)&lt;br/&gt;
	at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:378)&lt;br/&gt;
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:337)&lt;br/&gt;
	at org.testng.SuiteRunner.run(SuiteRunner.java:286)&lt;br/&gt;
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)&lt;br/&gt;
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)&lt;br/&gt;
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1218)&lt;br/&gt;
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1140)&lt;br/&gt;
	at org.testng.TestNG.runSuites(TestNG.java:1069)&lt;br/&gt;
	at org.testng.TestNG.run(TestNG.java:1037)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.TestNGRunner.main(TestNGRunner.java:102)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.TestNGRunner.main(TestNGRunner.java:58)&lt;br/&gt;
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)&lt;br/&gt;
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.MainWrapper$MainTask.run(MainWrapper.java:138)&lt;br/&gt;
	at java.base/java.lang.Thread.run(Thread.java:1575)&lt;br/&gt;
&lt;br/&gt;
===============================================&lt;br/&gt;
serviceability/dcmd/vm/SystemMapTest.java&lt;br/&gt;
Total tests run: 1, Passes: 0, Failures: 1, Skips: 0&lt;br/&gt;
===============================================&lt;br/&gt;
&lt;br/&gt;
</comment>
                            <comment id="14686937" author="mikael" created="Wed, 3 Jul 2024 13:51:06 -0700"  >&amp;nbsp;[~stuefe] Looks like some serviceability/dcmd/vm tests started failing with this change, see &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8335643&quot; title=&quot;serviceability/dcmd/vm tests fail for ZGC after JDK-8322475&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8335643&quot;&gt;&lt;strike&gt;JDK-8335643&lt;/strike&gt;&lt;/a&gt;</comment>
                            <comment id="14686856" author="dukebot" created="Wed, 3 Jul 2024 09:09:43 -0700"  >Changeset: 8aaec37a&lt;br/&gt;
Author:    Thomas Stuefe &amp;lt;&lt;a href=&apos;mailto:stuefe@openjdk.org&apos;&gt;stuefe@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2024-07-03 16:08:34 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/8aaec37ace102b55ee1387cfd1967ec3ab662083&quot;&gt;https://git.openjdk.org/jdk/commit/8aaec37ace102b55ee1387cfd1967ec3ab662083&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14635562" author="roboduke" created="Tue, 19 Dec 2023 09:35:35 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/17158&quot;&gt;https://git.openjdk.org/jdk/pull/17158&lt;/a&gt;&lt;br/&gt;
Date: 2023-12-19 15:48:58 +0000</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5155827">JDK-8354579</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10600">
                    <name>Causes</name>
                                            <outwardlinks description="causes">
                                        <issuelink>
            <issuekey id="5133406">JDK-8335643</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5133484">JDK-8335710</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5169839">JDK-8366780</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5112985">JDK-8318636</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5131586">JDK-8334026</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17023"><![CDATA[linux]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i34bl7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17315"><![CDATA[b05]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="192"><![CDATA[runtime]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>